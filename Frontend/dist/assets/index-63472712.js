var ob=Object.defineProperty;var ab=(t,e,n)=>e in t?ob(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var A=(t,e,n)=>(ab(t,typeof e!="symbol"?e+"":e,n),n);function lb(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Og(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mg={exports:{}},jl={},Ag={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=Symbol.for("react.element"),cb=Symbol.for("react.portal"),ub=Symbol.for("react.fragment"),db=Symbol.for("react.strict_mode"),hb=Symbol.for("react.profiler"),fb=Symbol.for("react.provider"),pb=Symbol.for("react.context"),mb=Symbol.for("react.forward_ref"),gb=Symbol.for("react.suspense"),xb=Symbol.for("react.memo"),yb=Symbol.for("react.lazy"),df=Symbol.iterator;function vb(t){return t===null||typeof t!="object"?null:(t=df&&t[df]||t["@@iterator"],typeof t=="function"?t:null)}var Lg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dg=Object.assign,Fg={};function kr(t,e,n){this.props=t,this.context=e,this.refs=Fg,this.updater=n||Lg}kr.prototype.isReactComponent={};kr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ig(){}Ig.prototype=kr.prototype;function Ld(t,e,n){this.props=t,this.context=e,this.refs=Fg,this.updater=n||Lg}var Dd=Ld.prototype=new Ig;Dd.constructor=Ld;Dg(Dd,kr.prototype);Dd.isPureReactComponent=!0;var hf=Array.isArray,zg=Object.prototype.hasOwnProperty,Fd={current:null},Bg={key:!0,ref:!0,__self:!0,__source:!0};function Ug(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)zg.call(e,s)&&!Bg.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:to,type:t,key:i,ref:o,props:r,_owner:Fd.current}}function bb(t,e){return{$$typeof:to,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Id(t){return typeof t=="object"&&t!==null&&t.$$typeof===to}function wb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ff=/\/+/g;function lc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wb(""+t.key):e.toString(36)}function ea(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case to:case cb:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+lc(o,0):s,hf(r)?(n="",t!=null&&(n=t.replace(ff,"$&/")+"/"),ea(r,e,n,"",function(u){return u})):r!=null&&(Id(r)&&(r=bb(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(ff,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",hf(t))for(var a=0;a<t.length;a++){i=t[a];var l=s+lc(i,a);o+=ea(i,e,n,l,r)}else if(l=vb(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=s+lc(i,a++),o+=ea(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xo(t,e,n){if(t==null)return t;var s=[],r=0;return ea(t,s,"","",function(i){return e.call(n,i,r++)}),s}function _b(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Je={current:null},ta={transition:null},Sb={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:ta,ReactCurrentOwner:Fd};function $g(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:xo,forEach:function(t,e,n){xo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xo(t,function(){e++}),e},toArray:function(t){return xo(t,function(e){return e})||[]},only:function(t){if(!Id(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=kr;X.Fragment=ub;X.Profiler=hb;X.PureComponent=Ld;X.StrictMode=db;X.Suspense=gb;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sb;X.act=$g;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Dg({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Fd.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zg.call(e,l)&&!Bg.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:to,type:t.type,key:r,ref:i,props:s,_owner:o}};X.createContext=function(t){return t={$$typeof:pb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fb,_context:t},t.Consumer=t};X.createElement=Ug;X.createFactory=function(t){var e=Ug.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:mb,render:t}};X.isValidElement=Id;X.lazy=function(t){return{$$typeof:yb,_payload:{_status:-1,_result:t},_init:_b}};X.memo=function(t,e){return{$$typeof:xb,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=ta.transition;ta.transition={};try{t()}finally{ta.transition=e}};X.unstable_act=$g;X.useCallback=function(t,e){return Je.current.useCallback(t,e)};X.useContext=function(t){return Je.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return Je.current.useDeferredValue(t)};X.useEffect=function(t,e){return Je.current.useEffect(t,e)};X.useId=function(){return Je.current.useId()};X.useImperativeHandle=function(t,e,n){return Je.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return Je.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return Je.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return Je.current.useMemo(t,e)};X.useReducer=function(t,e,n){return Je.current.useReducer(t,e,n)};X.useRef=function(t){return Je.current.useRef(t)};X.useState=function(t){return Je.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return Je.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return Je.current.useTransition()};X.version="18.3.1";Ag.exports=X;var S=Ag.exports;const me=Og(S),kb=lb({__proto__:null,default:me},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb=S,Nb=Symbol.for("react.element"),Cb=Symbol.for("react.fragment"),Eb=Object.prototype.hasOwnProperty,Pb=jb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rb={key:!0,ref:!0,__self:!0,__source:!0};function Vg(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Eb.call(e,s)&&!Rb.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:Nb,type:t,key:i,ref:o,props:r,_owner:Pb.current}}jl.Fragment=Cb;jl.jsx=Vg;jl.jsxs=Vg;Mg.exports=jl;var c=Mg.exports,iu={},Hg={exports:{}},xt={},Wg={exports:{}},qg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,M){var I=T.length;T.push(M);e:for(;0<I;){var ee=I-1>>>1,z=T[ee];if(0<r(z,M))T[ee]=M,T[I]=z,I=ee;else break e}}function n(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var M=T[0],I=T.pop();if(I!==M){T[0]=I;e:for(var ee=0,z=T.length,K=z>>>1;ee<K;){var ge=2*(ee+1)-1,ut=T[ge],xe=ge+1,go=T[xe];if(0>r(ut,I))xe<z&&0>r(go,ut)?(T[ee]=go,T[xe]=I,ee=xe):(T[ee]=ut,T[ge]=I,ee=ge);else if(xe<z&&0>r(go,I))T[ee]=go,T[xe]=I,ee=xe;else break e}}return M}function r(T,M){var I=T.sortIndex-M.sortIndex;return I!==0?I:T.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var M=n(u);M!==null;){if(M.callback===null)s(u);else if(M.startTime<=T)s(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function _(T){if(y=!1,b(T),!m)if(n(l)!==null)m=!0,H(w);else{var M=n(u);M!==null&&G(_,M.startTime-T)}}function w(T,M){m=!1,y&&(y=!1,g(N),N=-1),p=!0;var I=f;try{for(b(M),h=n(l);h!==null&&(!(h.expirationTime>M)||T&&!O());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var z=ee(h.expirationTime<=M);M=t.unstable_now(),typeof z=="function"?h.callback=z:h===n(l)&&s(l),b(M)}else s(l);h=n(l)}if(h!==null)var K=!0;else{var ge=n(u);ge!==null&&G(_,ge.startTime-M),K=!1}return K}finally{h=null,f=I,p=!1}}var k=!1,j=null,N=-1,P=5,E=-1;function O(){return!(t.unstable_now()-E<P)}function F(){if(j!==null){var T=t.unstable_now();E=T;var M=!0;try{M=j(!0,T)}finally{M?U():(k=!1,j=null)}}else k=!1}var U;if(typeof x=="function")U=function(){x(F)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,V=$.port2;$.port1.onmessage=F,U=function(){V.postMessage(null)}}else U=function(){v(F,0)};function H(T){j=T,k||(k=!0,U())}function G(T,M){N=v(function(){T(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,H(w))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var I=f;f=M;try{return T()}finally{f=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,M){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var I=f;f=T;try{return M()}finally{f=I}},t.unstable_scheduleCallback=function(T,M,I){var ee=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ee+I:ee):I=ee,T){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=I+z,T={id:d++,callback:M,priorityLevel:T,startTime:I,expirationTime:z,sortIndex:-1},I>ee?(T.sortIndex=I,e(u,T),n(l)===null&&T===n(u)&&(y?(g(N),N=-1):y=!0,G(_,I-ee))):(T.sortIndex=z,e(l,T),m||p||(m=!0,H(w))),T},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(T){var M=f;return function(){var I=f;f=M;try{return T.apply(this,arguments)}finally{f=I}}}})(qg);Wg.exports=qg;var Tb=Wg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob=S,gt=Tb;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qg=new Set,ki={};function Bs(t,e){fr(t,e),fr(t+"Capture",e)}function fr(t,e){for(ki[t]=e,t=0;t<e.length;t++)Qg.add(e[t])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=Object.prototype.hasOwnProperty,Mb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pf={},mf={};function Ab(t){return ou.call(mf,t)?!0:ou.call(pf,t)?!1:Mb.test(t)?mf[t]=!0:(pf[t]=!0,!1)}function Lb(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Db(t,e,n,s){if(e===null||typeof e>"u"||Lb(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ze(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ze[t]=new Ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ze[e]=new Ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ze[t]=new Ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ze[t]=new Ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ze[t]=new Ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ze[t]=new Ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ze[t]=new Ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ze[t]=new Ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ze[t]=new Ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var zd=/[\-:]([a-z])/g;function Bd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zd,Bd);ze[e]=new Ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zd,Bd);ze[e]=new Ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zd,Bd);ze[e]=new Ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ze[t]=new Ze(t,1,!1,t.toLowerCase(),null,!1,!1)});ze.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ze[t]=new Ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ud(t,e,n,s){var r=ze.hasOwnProperty(e)?ze[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Db(e,n,r,s)&&(n=null),s||r===null?Ab(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var kn=Ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yo=Symbol.for("react.element"),qs=Symbol.for("react.portal"),Qs=Symbol.for("react.fragment"),$d=Symbol.for("react.strict_mode"),au=Symbol.for("react.profiler"),Kg=Symbol.for("react.provider"),Yg=Symbol.for("react.context"),Vd=Symbol.for("react.forward_ref"),lu=Symbol.for("react.suspense"),cu=Symbol.for("react.suspense_list"),Hd=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),Xg=Symbol.for("react.offscreen"),gf=Symbol.iterator;function Lr(t){return t===null||typeof t!="object"?null:(t=gf&&t[gf]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,cc;function Xr(t){if(cc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cc=e&&e[1]||""}return`
`+cc+t}var uc=!1;function dc(t,e){if(!t||uc)return"";uc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{uc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xr(t):""}function Fb(t){switch(t.tag){case 5:return Xr(t.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 2:case 15:return t=dc(t.type,!1),t;case 11:return t=dc(t.type.render,!1),t;case 1:return t=dc(t.type,!0),t;default:return""}}function uu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qs:return"Fragment";case qs:return"Portal";case au:return"Profiler";case $d:return"StrictMode";case lu:return"Suspense";case cu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yg:return(t.displayName||"Context")+".Consumer";case Kg:return(t._context.displayName||"Context")+".Provider";case Vd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hd:return e=t.displayName||null,e!==null?e:uu(t.type)||"Memo";case Cn:e=t._payload,t=t._init;try{return uu(t(e))}catch{}}return null}function Ib(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uu(e);case 8:return e===$d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zb(t){var e=Gg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vo(t){t._valueTracker||(t._valueTracker=zb(t))}function Jg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Gg(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Ma(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function du(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xf(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Jn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zg(t,e){e=e.checked,e!=null&&Ud(t,"checked",e,!1)}function hu(t,e){Zg(t,e);var n=Jn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fu(t,e.type,n):e.hasOwnProperty("defaultValue")&&fu(t,e.type,Jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fu(t,e,n){(e!=="number"||Ma(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gr=Array.isArray;function ir(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Jn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function pu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(Gr(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jn(n)}}function ex(t,e){var n=Jn(e.value),s=Jn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function bf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bo,nx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bo=bo||document.createElement("div"),bo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ji(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bb=["Webkit","ms","Moz","O"];Object.keys(li).forEach(function(t){Bb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),li[e]=li[t]})});function sx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||li.hasOwnProperty(t)&&li[t]?(""+e).trim():e+"px"}function rx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=sx(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var Ub=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gu(t,e){if(e){if(Ub[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function xu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=null;function Wd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vu=null,or=null,ar=null;function wf(t){if(t=ro(t)){if(typeof vu!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Rl(e),vu(t.stateNode,t.type,e))}}function ix(t){or?ar?ar.push(t):ar=[t]:or=t}function ox(){if(or){var t=or,e=ar;if(ar=or=null,wf(t),e)for(t=0;t<e.length;t++)wf(e[t])}}function ax(t,e){return t(e)}function lx(){}var hc=!1;function cx(t,e,n){if(hc)return t(e,n);hc=!0;try{return ax(t,e,n)}finally{hc=!1,(or!==null||ar!==null)&&(lx(),ox())}}function Ni(t,e){var n=t.stateNode;if(n===null)return null;var s=Rl(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var bu=!1;if(yn)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){bu=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{bu=!1}function $b(t,e,n,s,r,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ci=!1,Aa=null,La=!1,wu=null,Vb={onError:function(t){ci=!0,Aa=t}};function Hb(t,e,n,s,r,i,o,a,l){ci=!1,Aa=null,$b.apply(Vb,arguments)}function Wb(t,e,n,s,r,i,o,a,l){if(Hb.apply(this,arguments),ci){if(ci){var u=Aa;ci=!1,Aa=null}else throw Error(R(198));La||(La=!0,wu=u)}}function Us(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ux(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _f(t){if(Us(t)!==t)throw Error(R(188))}function qb(t){var e=t.alternate;if(!e){if(e=Us(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return _f(r),t;if(i===s)return _f(r),e;i=i.sibling}throw Error(R(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==s)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function dx(t){return t=qb(t),t!==null?hx(t):null}function hx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hx(t);if(e!==null)return e;t=t.sibling}return null}var fx=gt.unstable_scheduleCallback,Sf=gt.unstable_cancelCallback,Qb=gt.unstable_shouldYield,Kb=gt.unstable_requestPaint,ke=gt.unstable_now,Yb=gt.unstable_getCurrentPriorityLevel,qd=gt.unstable_ImmediatePriority,px=gt.unstable_UserBlockingPriority,Da=gt.unstable_NormalPriority,Xb=gt.unstable_LowPriority,mx=gt.unstable_IdlePriority,Nl=null,Gt=null;function Gb(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Nl,t,void 0,(t.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:e1,Jb=Math.log,Zb=Math.LN2;function e1(t){return t>>>=0,t===0?32:31-(Jb(t)/Zb|0)|0}var wo=64,_o=4194304;function Jr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fa(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=Jr(a):(i&=o,i!==0&&(s=Jr(i)))}else o=n&~r,o!==0?s=Jr(o):i!==0&&(s=Jr(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Lt(e),r=1<<n,s|=t[n],e&=~r;return s}function t1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n1(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Lt(i),a=1<<o,l=r[o];l===-1?(!(a&n)||a&s)&&(r[o]=t1(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function _u(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gx(){var t=wo;return wo<<=1,!(wo&4194240)&&(wo=64),t}function fc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function no(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lt(e),t[e]=n}function s1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Lt(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function Qd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Lt(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var oe=0;function xx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yx,Kd,vx,bx,wx,Su=!1,So=[],Bn=null,Un=null,$n=null,Ci=new Map,Ei=new Map,Rn=[],r1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kf(t,e){switch(t){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Ci.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(e.pointerId)}}function Fr(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=ro(e),e!==null&&Kd(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function i1(t,e,n,s,r){switch(e){case"focusin":return Bn=Fr(Bn,t,e,n,s,r),!0;case"dragenter":return Un=Fr(Un,t,e,n,s,r),!0;case"mouseover":return $n=Fr($n,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Ci.set(i,Fr(Ci.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Ei.set(i,Fr(Ei.get(i)||null,t,e,n,s,r)),!0}return!1}function _x(t){var e=vs(t.target);if(e!==null){var n=Us(e);if(n!==null){if(e=n.tag,e===13){if(e=ux(n),e!==null){t.blockedOn=e,wx(t.priority,function(){vx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function na(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ku(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);yu=s,n.target.dispatchEvent(s),yu=null}else return e=ro(n),e!==null&&Kd(e),t.blockedOn=n,!1;e.shift()}return!0}function jf(t,e,n){na(t)&&n.delete(e)}function o1(){Su=!1,Bn!==null&&na(Bn)&&(Bn=null),Un!==null&&na(Un)&&(Un=null),$n!==null&&na($n)&&($n=null),Ci.forEach(jf),Ei.forEach(jf)}function Ir(t,e){t.blockedOn===e&&(t.blockedOn=null,Su||(Su=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,o1)))}function Pi(t){function e(r){return Ir(r,t)}if(0<So.length){Ir(So[0],t);for(var n=1;n<So.length;n++){var s=So[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Bn!==null&&Ir(Bn,t),Un!==null&&Ir(Un,t),$n!==null&&Ir($n,t),Ci.forEach(e),Ei.forEach(e),n=0;n<Rn.length;n++)s=Rn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)_x(n),n.blockedOn===null&&Rn.shift()}var lr=kn.ReactCurrentBatchConfig,Ia=!0;function a1(t,e,n,s){var r=oe,i=lr.transition;lr.transition=null;try{oe=1,Yd(t,e,n,s)}finally{oe=r,lr.transition=i}}function l1(t,e,n,s){var r=oe,i=lr.transition;lr.transition=null;try{oe=4,Yd(t,e,n,s)}finally{oe=r,lr.transition=i}}function Yd(t,e,n,s){if(Ia){var r=ku(t,e,n,s);if(r===null)Sc(t,e,s,za,n),kf(t,s);else if(i1(r,t,e,n,s))s.stopPropagation();else if(kf(t,s),e&4&&-1<r1.indexOf(t)){for(;r!==null;){var i=ro(r);if(i!==null&&yx(i),i=ku(t,e,n,s),i===null&&Sc(t,e,s,za,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Sc(t,e,s,null,n)}}var za=null;function ku(t,e,n,s){if(za=null,t=Wd(s),t=vs(t),t!==null)if(e=Us(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ux(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return za=t,null}function Sx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yb()){case qd:return 1;case px:return 4;case Da:case Xb:return 16;case mx:return 536870912;default:return 16}default:return 16}}var Mn=null,Xd=null,sa=null;function kx(){if(sa)return sa;var t,e=Xd,n=e.length,s,r="value"in Mn?Mn.value:Mn.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return sa=r.slice(t,1<s?1-s:void 0)}function ra(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ko(){return!0}function Nf(){return!1}function yt(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ko:Nf,this.isPropagationStopped=Nf,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),e}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gd=yt(jr),so=be({},jr,{view:0,detail:0}),c1=yt(so),pc,mc,zr,Cl=be({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zr&&(zr&&t.type==="mousemove"?(pc=t.screenX-zr.screenX,mc=t.screenY-zr.screenY):mc=pc=0,zr=t),pc)},movementY:function(t){return"movementY"in t?t.movementY:mc}}),Cf=yt(Cl),u1=be({},Cl,{dataTransfer:0}),d1=yt(u1),h1=be({},so,{relatedTarget:0}),gc=yt(h1),f1=be({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),p1=yt(f1),m1=be({},jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g1=yt(m1),x1=be({},jr,{data:0}),Ef=yt(x1),y1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b1[t])?!!e[t]:!1}function Jd(){return w1}var _1=be({},so,{key:function(t){if(t.key){var e=y1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ra(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jd,charCode:function(t){return t.type==="keypress"?ra(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ra(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S1=yt(_1),k1=be({},Cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pf=yt(k1),j1=be({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jd}),N1=yt(j1),C1=be({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),E1=yt(C1),P1=be({},Cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R1=yt(P1),T1=[9,13,27,32],Zd=yn&&"CompositionEvent"in window,ui=null;yn&&"documentMode"in document&&(ui=document.documentMode);var O1=yn&&"TextEvent"in window&&!ui,jx=yn&&(!Zd||ui&&8<ui&&11>=ui),Rf=String.fromCharCode(32),Tf=!1;function Nx(t,e){switch(t){case"keyup":return T1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function M1(t,e){switch(t){case"compositionend":return Cx(e);case"keypress":return e.which!==32?null:(Tf=!0,Rf);case"textInput":return t=e.data,t===Rf&&Tf?null:t;default:return null}}function A1(t,e){if(Ks)return t==="compositionend"||!Zd&&Nx(t,e)?(t=kx(),sa=Xd=Mn=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jx&&e.locale!=="ko"?null:e.data;default:return null}}var L1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Of(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L1[t.type]:e==="textarea"}function Ex(t,e,n,s){ix(s),e=Ba(e,"onChange"),0<e.length&&(n=new Gd("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var di=null,Ri=null;function D1(t){zx(t,0)}function El(t){var e=Gs(t);if(Jg(e))return t}function F1(t,e){if(t==="change")return e}var Px=!1;if(yn){var xc;if(yn){var yc="oninput"in document;if(!yc){var Mf=document.createElement("div");Mf.setAttribute("oninput","return;"),yc=typeof Mf.oninput=="function"}xc=yc}else xc=!1;Px=xc&&(!document.documentMode||9<document.documentMode)}function Af(){di&&(di.detachEvent("onpropertychange",Rx),Ri=di=null)}function Rx(t){if(t.propertyName==="value"&&El(Ri)){var e=[];Ex(e,Ri,t,Wd(t)),cx(D1,e)}}function I1(t,e,n){t==="focusin"?(Af(),di=e,Ri=n,di.attachEvent("onpropertychange",Rx)):t==="focusout"&&Af()}function z1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return El(Ri)}function B1(t,e){if(t==="click")return El(e)}function U1(t,e){if(t==="input"||t==="change")return El(e)}function $1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var It=typeof Object.is=="function"?Object.is:$1;function Ti(t,e){if(It(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!ou.call(e,r)||!It(t[r],e[r]))return!1}return!0}function Lf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Df(t,e){var n=Lf(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lf(n)}}function Tx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Tx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ox(){for(var t=window,e=Ma();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ma(t.document)}return e}function eh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function V1(t){var e=Ox(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Tx(n.ownerDocument.documentElement,n)){if(s!==null&&eh(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=Df(n,i);var o=Df(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var H1=yn&&"documentMode"in document&&11>=document.documentMode,Ys=null,ju=null,hi=null,Nu=!1;function Ff(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nu||Ys==null||Ys!==Ma(s)||(s=Ys,"selectionStart"in s&&eh(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),hi&&Ti(hi,s)||(hi=s,s=Ba(ju,"onSelect"),0<s.length&&(e=new Gd("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Ys)))}function jo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xs={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},vc={},Mx={};yn&&(Mx=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function Pl(t){if(vc[t])return vc[t];if(!Xs[t])return t;var e=Xs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mx)return vc[t]=e[n];return t}var Ax=Pl("animationend"),Lx=Pl("animationiteration"),Dx=Pl("animationstart"),Fx=Pl("transitionend"),Ix=new Map,If="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(t,e){Ix.set(t,e),Bs(e,[t])}for(var bc=0;bc<If.length;bc++){var wc=If[bc],W1=wc.toLowerCase(),q1=wc[0].toUpperCase()+wc.slice(1);ss(W1,"on"+q1)}ss(Ax,"onAnimationEnd");ss(Lx,"onAnimationIteration");ss(Dx,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(Fx,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zr));function zf(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,Wb(s,e,void 0,t),t.currentTarget=null}function zx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;zf(r,a,u),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;zf(r,a,u),i=l}}}if(La)throw t=wu,La=!1,wu=null,t}function ce(t,e){var n=e[Tu];n===void 0&&(n=e[Tu]=new Set);var s=t+"__bubble";n.has(s)||(Bx(e,t,2,!1),n.add(s))}function _c(t,e,n){var s=0;e&&(s|=4),Bx(n,t,s,e)}var No="_reactListening"+Math.random().toString(36).slice(2);function Oi(t){if(!t[No]){t[No]=!0,Qg.forEach(function(n){n!=="selectionchange"&&(Q1.has(n)||_c(n,!1,t),_c(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[No]||(e[No]=!0,_c("selectionchange",!1,e))}}function Bx(t,e,n,s){switch(Sx(e)){case 1:var r=a1;break;case 4:r=l1;break;default:r=Yd}n=r.bind(null,e,n,t),r=void 0,!bu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Sc(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=vs(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}cx(function(){var u=i,d=Wd(n),h=[];e:{var f=Ix.get(t);if(f!==void 0){var p=Gd,m=t;switch(t){case"keypress":if(ra(n)===0)break e;case"keydown":case"keyup":p=S1;break;case"focusin":m="focus",p=gc;break;case"focusout":m="blur",p=gc;break;case"beforeblur":case"afterblur":p=gc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=d1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=N1;break;case Ax:case Lx:case Dx:p=p1;break;case Fx:p=E1;break;case"scroll":p=c1;break;case"wheel":p=R1;break;case"copy":case"cut":case"paste":p=g1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pf}var y=(e&4)!==0,v=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var x=u,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,g!==null&&(_=Ni(x,g),_!=null&&y.push(Mi(x,_,b)))),v)break;x=x.return}0<y.length&&(f=new p(f,m,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==yu&&(m=n.relatedTarget||n.fromElement)&&(vs(m)||m[vn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?vs(m):null,m!==null&&(v=Us(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=Cf,_="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=Pf,_="onPointerLeave",g="onPointerEnter",x="pointer"),v=p==null?f:Gs(p),b=m==null?f:Gs(m),f=new y(_,x+"leave",p,n,d),f.target=v,f.relatedTarget=b,_=null,vs(d)===u&&(y=new y(g,x+"enter",m,n,d),y.target=b,y.relatedTarget=v,_=y),v=_,p&&m)t:{for(y=p,g=m,x=0,b=y;b;b=Vs(b))x++;for(b=0,_=g;_;_=Vs(_))b++;for(;0<x-b;)y=Vs(y),x--;for(;0<b-x;)g=Vs(g),b--;for(;x--;){if(y===g||g!==null&&y===g.alternate)break t;y=Vs(y),g=Vs(g)}y=null}else y=null;p!==null&&Bf(h,f,p,y,!1),m!==null&&v!==null&&Bf(h,v,m,y,!0)}}e:{if(f=u?Gs(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=F1;else if(Of(f))if(Px)w=U1;else{w=z1;var k=I1}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=B1);if(w&&(w=w(t,u))){Ex(h,w,n,d);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&fu(f,"number",f.value)}switch(k=u?Gs(u):window,t){case"focusin":(Of(k)||k.contentEditable==="true")&&(Ys=k,ju=u,hi=null);break;case"focusout":hi=ju=Ys=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,Ff(h,n,d);break;case"selectionchange":if(H1)break;case"keydown":case"keyup":Ff(h,n,d)}var j;if(Zd)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ks?Nx(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(jx&&n.locale!=="ko"&&(Ks||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ks&&(j=kx()):(Mn=d,Xd="value"in Mn?Mn.value:Mn.textContent,Ks=!0)),k=Ba(u,N),0<k.length&&(N=new Ef(N,t,null,n,d),h.push({event:N,listeners:k}),j?N.data=j:(j=Cx(n),j!==null&&(N.data=j)))),(j=O1?M1(t,n):A1(t,n))&&(u=Ba(u,"onBeforeInput"),0<u.length&&(d=new Ef("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=j))}zx(h,e)})}function Mi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ba(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Ni(t,n),i!=null&&s.unshift(Mi(t,i,r)),i=Ni(t,e),i!=null&&s.push(Mi(t,i,r))),t=t.return}return s}function Vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bf(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,r?(l=Ni(n,i),l!=null&&o.unshift(Mi(n,l,a))):r||(l=Ni(n,i),l!=null&&o.push(Mi(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var K1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function Uf(t){return(typeof t=="string"?t:""+t).replace(K1,`
`).replace(Y1,"")}function Co(t,e,n){if(e=Uf(e),Uf(t)!==e&&n)throw Error(R(425))}function Ua(){}var Cu=null,Eu=null;function Pu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ru=typeof setTimeout=="function"?setTimeout:void 0,X1=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,G1=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(t){return $f.resolve(null).then(t).catch(J1)}:Ru;function J1(t){setTimeout(function(){throw t})}function kc(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Pi(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Pi(e)}function Vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nr=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Nr,Ai="__reactProps$"+Nr,vn="__reactContainer$"+Nr,Tu="__reactEvents$"+Nr,Z1="__reactListeners$"+Nr,ew="__reactHandles$"+Nr;function vs(t){var e=t[Qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vn]||n[Qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vf(t);t!==null;){if(n=t[Qt])return n;t=Vf(t)}return e}t=n,n=t.parentNode}return null}function ro(t){return t=t[Qt]||t[vn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Rl(t){return t[Ai]||null}var Ou=[],Js=-1;function rs(t){return{current:t}}function de(t){0>Js||(t.current=Ou[Js],Ou[Js]=null,Js--)}function le(t,e){Js++,Ou[Js]=t.current,t.current=e}var Zn={},Qe=rs(Zn),it=rs(!1),Ts=Zn;function pr(t,e){var n=t.type.contextTypes;if(!n)return Zn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function ot(t){return t=t.childContextTypes,t!=null}function $a(){de(it),de(Qe)}function Hf(t,e,n){if(Qe.current!==Zn)throw Error(R(168));le(Qe,e),le(it,n)}function Ux(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(R(108,Ib(t)||"Unknown",r));return be({},n,s)}function Va(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zn,Ts=Qe.current,le(Qe,t),le(it,it.current),!0}function Wf(t,e,n){var s=t.stateNode;if(!s)throw Error(R(169));n?(t=Ux(t,e,Ts),s.__reactInternalMemoizedMergedChildContext=t,de(it),de(Qe),le(Qe,t)):de(it),le(it,n)}var cn=null,Tl=!1,jc=!1;function $x(t){cn===null?cn=[t]:cn.push(t)}function tw(t){Tl=!0,$x(t)}function is(){if(!jc&&cn!==null){jc=!0;var t=0,e=oe;try{var n=cn;for(oe=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}cn=null,Tl=!1}catch(r){throw cn!==null&&(cn=cn.slice(t+1)),fx(qd,is),r}finally{oe=e,jc=!1}}return null}var Zs=[],er=0,Ha=null,Wa=0,bt=[],wt=0,Os=null,dn=1,hn="";function fs(t,e){Zs[er++]=Wa,Zs[er++]=Ha,Ha=t,Wa=e}function Vx(t,e,n){bt[wt++]=dn,bt[wt++]=hn,bt[wt++]=Os,Os=t;var s=dn;t=hn;var r=32-Lt(s)-1;s&=~(1<<r),n+=1;var i=32-Lt(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,dn=1<<32-Lt(e)+r|n<<r|s,hn=i+t}else dn=1<<i|n<<r|s,hn=t}function th(t){t.return!==null&&(fs(t,1),Vx(t,1,0))}function nh(t){for(;t===Ha;)Ha=Zs[--er],Zs[er]=null,Wa=Zs[--er],Zs[er]=null;for(;t===Os;)Os=bt[--wt],bt[wt]=null,hn=bt[--wt],bt[wt]=null,dn=bt[--wt],bt[wt]=null}var mt=null,pt=null,pe=!1,At=null;function Hx(t,e){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mt=t,pt=Vn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mt=t,pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Os!==null?{id:dn,overflow:hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mt=t,pt=null,!0):!1;default:return!1}}function Mu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Au(t){if(pe){var e=pt;if(e){var n=e;if(!qf(t,e)){if(Mu(t))throw Error(R(418));e=Vn(n.nextSibling);var s=mt;e&&qf(t,e)?Hx(s,n):(t.flags=t.flags&-4097|2,pe=!1,mt=t)}}else{if(Mu(t))throw Error(R(418));t.flags=t.flags&-4097|2,pe=!1,mt=t}}}function Qf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mt=t}function Eo(t){if(t!==mt)return!1;if(!pe)return Qf(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pu(t.type,t.memoizedProps)),e&&(e=pt)){if(Mu(t))throw Wx(),Error(R(418));for(;e;)Hx(t,e),e=Vn(e.nextSibling)}if(Qf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pt=Vn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pt=null}}else pt=mt?Vn(t.stateNode.nextSibling):null;return!0}function Wx(){for(var t=pt;t;)t=Vn(t.nextSibling)}function mr(){pt=mt=null,pe=!1}function sh(t){At===null?At=[t]:At.push(t)}var nw=kn.ReactCurrentBatchConfig;function Br(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var s=n.stateNode}if(!s)throw Error(R(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Po(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kf(t){var e=t._init;return e(t._payload)}function qx(t){function e(g,x){if(t){var b=g.deletions;b===null?(g.deletions=[x],g.flags|=16):b.push(x)}}function n(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function s(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function r(g,x){return g=Qn(g,x),g.index=0,g.sibling=null,g}function i(g,x,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<x?(g.flags|=2,x):b):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,x,b,_){return x===null||x.tag!==6?(x=Oc(b,g.mode,_),x.return=g,x):(x=r(x,b),x.return=g,x)}function l(g,x,b,_){var w=b.type;return w===Qs?d(g,x,b.props.children,_,b.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Cn&&Kf(w)===x.type)?(_=r(x,b.props),_.ref=Br(g,x,b),_.return=g,_):(_=da(b.type,b.key,b.props,null,g.mode,_),_.ref=Br(g,x,b),_.return=g,_)}function u(g,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Mc(b,g.mode,_),x.return=g,x):(x=r(x,b.children||[]),x.return=g,x)}function d(g,x,b,_,w){return x===null||x.tag!==7?(x=Cs(b,g.mode,_,w),x.return=g,x):(x=r(x,b),x.return=g,x)}function h(g,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Oc(""+x,g.mode,b),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yo:return b=da(x.type,x.key,x.props,null,g.mode,b),b.ref=Br(g,null,x),b.return=g,b;case qs:return x=Mc(x,g.mode,b),x.return=g,x;case Cn:var _=x._init;return h(g,_(x._payload),b)}if(Gr(x)||Lr(x))return x=Cs(x,g.mode,b,null),x.return=g,x;Po(g,x)}return null}function f(g,x,b,_){var w=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:a(g,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yo:return b.key===w?l(g,x,b,_):null;case qs:return b.key===w?u(g,x,b,_):null;case Cn:return w=b._init,f(g,x,w(b._payload),_)}if(Gr(b)||Lr(b))return w!==null?null:d(g,x,b,_,null);Po(g,b)}return null}function p(g,x,b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(b)||null,a(x,g,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yo:return g=g.get(_.key===null?b:_.key)||null,l(x,g,_,w);case qs:return g=g.get(_.key===null?b:_.key)||null,u(x,g,_,w);case Cn:var k=_._init;return p(g,x,b,k(_._payload),w)}if(Gr(_)||Lr(_))return g=g.get(b)||null,d(x,g,_,w,null);Po(x,_)}return null}function m(g,x,b,_){for(var w=null,k=null,j=x,N=x=0,P=null;j!==null&&N<b.length;N++){j.index>N?(P=j,j=null):P=j.sibling;var E=f(g,j,b[N],_);if(E===null){j===null&&(j=P);break}t&&j&&E.alternate===null&&e(g,j),x=i(E,x,N),k===null?w=E:k.sibling=E,k=E,j=P}if(N===b.length)return n(g,j),pe&&fs(g,N),w;if(j===null){for(;N<b.length;N++)j=h(g,b[N],_),j!==null&&(x=i(j,x,N),k===null?w=j:k.sibling=j,k=j);return pe&&fs(g,N),w}for(j=s(g,j);N<b.length;N++)P=p(j,g,N,b[N],_),P!==null&&(t&&P.alternate!==null&&j.delete(P.key===null?N:P.key),x=i(P,x,N),k===null?w=P:k.sibling=P,k=P);return t&&j.forEach(function(O){return e(g,O)}),pe&&fs(g,N),w}function y(g,x,b,_){var w=Lr(b);if(typeof w!="function")throw Error(R(150));if(b=w.call(b),b==null)throw Error(R(151));for(var k=w=null,j=x,N=x=0,P=null,E=b.next();j!==null&&!E.done;N++,E=b.next()){j.index>N?(P=j,j=null):P=j.sibling;var O=f(g,j,E.value,_);if(O===null){j===null&&(j=P);break}t&&j&&O.alternate===null&&e(g,j),x=i(O,x,N),k===null?w=O:k.sibling=O,k=O,j=P}if(E.done)return n(g,j),pe&&fs(g,N),w;if(j===null){for(;!E.done;N++,E=b.next())E=h(g,E.value,_),E!==null&&(x=i(E,x,N),k===null?w=E:k.sibling=E,k=E);return pe&&fs(g,N),w}for(j=s(g,j);!E.done;N++,E=b.next())E=p(j,g,N,E.value,_),E!==null&&(t&&E.alternate!==null&&j.delete(E.key===null?N:E.key),x=i(E,x,N),k===null?w=E:k.sibling=E,k=E);return t&&j.forEach(function(F){return e(g,F)}),pe&&fs(g,N),w}function v(g,x,b,_){if(typeof b=="object"&&b!==null&&b.type===Qs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yo:e:{for(var w=b.key,k=x;k!==null;){if(k.key===w){if(w=b.type,w===Qs){if(k.tag===7){n(g,k.sibling),x=r(k,b.props.children),x.return=g,g=x;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Cn&&Kf(w)===k.type){n(g,k.sibling),x=r(k,b.props),x.ref=Br(g,k,b),x.return=g,g=x;break e}n(g,k);break}else e(g,k);k=k.sibling}b.type===Qs?(x=Cs(b.props.children,g.mode,_,b.key),x.return=g,g=x):(_=da(b.type,b.key,b.props,null,g.mode,_),_.ref=Br(g,x,b),_.return=g,g=_)}return o(g);case qs:e:{for(k=b.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(g,x.sibling),x=r(x,b.children||[]),x.return=g,g=x;break e}else{n(g,x);break}else e(g,x);x=x.sibling}x=Mc(b,g.mode,_),x.return=g,g=x}return o(g);case Cn:return k=b._init,v(g,x,k(b._payload),_)}if(Gr(b))return m(g,x,b,_);if(Lr(b))return y(g,x,b,_);Po(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(g,x.sibling),x=r(x,b),x.return=g,g=x):(n(g,x),x=Oc(b,g.mode,_),x.return=g,g=x),o(g)):n(g,x)}return v}var gr=qx(!0),Qx=qx(!1),qa=rs(null),Qa=null,tr=null,rh=null;function ih(){rh=tr=Qa=null}function oh(t){var e=qa.current;de(qa),t._currentValue=e}function Lu(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function cr(t,e){Qa=t,rh=tr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function Nt(t){var e=t._currentValue;if(rh!==t)if(t={context:t,memoizedValue:e,next:null},tr===null){if(Qa===null)throw Error(R(308));tr=t,Qa.dependencies={lanes:0,firstContext:t}}else tr=tr.next=t;return e}var bs=null;function ah(t){bs===null?bs=[t]:bs.push(t)}function Kx(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,ah(e)):(n.next=r.next,r.next=n),e.interleaved=n,bn(t,s)}function bn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var En=!1;function lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,te&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,bn(t,n)}return r=s.interleaved,r===null?(e.next=e,ah(s)):(e.next=r.next,r.next=e),s.interleaved=e,bn(t,n)}function ia(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Qd(t,n)}}function Yf(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ka(t,e,n,s){var r=t.updateQueue;En=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=r.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=be({},h,f);break e;case 2:En=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);As|=o,t.lanes=o,t.memoizedState=h}}function Xf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(R(191,r));r.call(s)}}}var io={},Jt=rs(io),Li=rs(io),Di=rs(io);function ws(t){if(t===io)throw Error(R(174));return t}function ch(t,e){switch(le(Di,e),le(Li,t),le(Jt,io),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mu(e,t)}de(Jt),le(Jt,e)}function xr(){de(Jt),de(Li),de(Di)}function Xx(t){ws(Di.current);var e=ws(Jt.current),n=mu(e,t.type);e!==n&&(le(Li,t),le(Jt,n))}function uh(t){Li.current===t&&(de(Jt),de(Li))}var ye=rs(0);function Ya(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nc=[];function dh(){for(var t=0;t<Nc.length;t++)Nc[t]._workInProgressVersionPrimary=null;Nc.length=0}var oa=kn.ReactCurrentDispatcher,Cc=kn.ReactCurrentBatchConfig,Ms=0,ve=null,Re=null,Ae=null,Xa=!1,fi=!1,Fi=0,sw=0;function Be(){throw Error(R(321))}function hh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!It(t[n],e[n]))return!1;return!0}function fh(t,e,n,s,r,i){if(Ms=i,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oa.current=t===null||t.memoizedState===null?aw:lw,t=n(s,r),fi){i=0;do{if(fi=!1,Fi=0,25<=i)throw Error(R(301));i+=1,Ae=Re=null,e.updateQueue=null,oa.current=cw,t=n(s,r)}while(fi)}if(oa.current=Ga,e=Re!==null&&Re.next!==null,Ms=0,Ae=Re=ve=null,Xa=!1,e)throw Error(R(300));return t}function ph(){var t=Fi!==0;return Fi=0,t}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?ve.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function Ct(){if(Re===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=Ae===null?ve.memoizedState:Ae.next;if(e!==null)Ae=e,Re=t;else{if(t===null)throw Error(R(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ae===null?ve.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function Ii(t,e){return typeof e=="function"?e(t):e}function Ec(t){var e=Ct(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var s=Re,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Ms&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,ve.lanes|=d,As|=d}u=u.next}while(u!==null&&u!==i);l===null?o=s:l.next=a,It(s,e.memoizedState)||(st=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,ve.lanes|=i,As|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pc(t){var e=Ct(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);It(i,e.memoizedState)||(st=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function Gx(){}function Jx(t,e){var n=ve,s=Ct(),r=e(),i=!It(s.memoizedState,r);if(i&&(s.memoizedState=r,st=!0),s=s.queue,mh(ty.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,zi(9,ey.bind(null,n,s,r,e),void 0,null),Le===null)throw Error(R(349));Ms&30||Zx(n,e,r)}return r}function Zx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ey(t,e,n,s){e.value=n,e.getSnapshot=s,ny(e)&&sy(t)}function ty(t,e,n){return n(function(){ny(e)&&sy(t)})}function ny(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!It(t,n)}catch{return!0}}function sy(t){var e=bn(t,1);e!==null&&Dt(e,t,1,-1)}function Gf(t){var e=Wt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},e.queue=t,t=t.dispatch=ow.bind(null,ve,t),[e.memoizedState,t]}function zi(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function ry(){return Ct().memoizedState}function aa(t,e,n,s){var r=Wt();ve.flags|=t,r.memoizedState=zi(1|e,n,void 0,s===void 0?null:s)}function Ol(t,e,n,s){var r=Ct();s=s===void 0?null:s;var i=void 0;if(Re!==null){var o=Re.memoizedState;if(i=o.destroy,s!==null&&hh(s,o.deps)){r.memoizedState=zi(e,n,i,s);return}}ve.flags|=t,r.memoizedState=zi(1|e,n,i,s)}function Jf(t,e){return aa(8390656,8,t,e)}function mh(t,e){return Ol(2048,8,t,e)}function iy(t,e){return Ol(4,2,t,e)}function oy(t,e){return Ol(4,4,t,e)}function ay(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ly(t,e,n){return n=n!=null?n.concat([t]):null,Ol(4,4,ay.bind(null,e,t),n)}function gh(){}function cy(t,e){var n=Ct();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&hh(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function uy(t,e){var n=Ct();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&hh(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function dy(t,e,n){return Ms&21?(It(n,e)||(n=gx(),ve.lanes|=n,As|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=n)}function rw(t,e){var n=oe;oe=n!==0&&4>n?n:4,t(!0);var s=Cc.transition;Cc.transition={};try{t(!1),e()}finally{oe=n,Cc.transition=s}}function hy(){return Ct().memoizedState}function iw(t,e,n){var s=qn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},fy(t))py(e,n);else if(n=Kx(t,e,n,s),n!==null){var r=Ge();Dt(n,t,s,r),my(n,e,s)}}function ow(t,e,n){var s=qn(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(fy(t))py(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,It(a,o)){var l=e.interleaved;l===null?(r.next=r,ah(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=Kx(t,e,r,s),n!==null&&(r=Ge(),Dt(n,t,s,r),my(n,e,s))}}function fy(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function py(t,e){fi=Xa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function my(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Qd(t,n)}}var Ga={readContext:Nt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},aw={readContext:Nt,useCallback:function(t,e){return Wt().memoizedState=[t,e===void 0?null:e],t},useContext:Nt,useEffect:Jf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,aa(4194308,4,ay.bind(null,e,t),n)},useLayoutEffect:function(t,e){return aa(4194308,4,t,e)},useInsertionEffect:function(t,e){return aa(4,2,t,e)},useMemo:function(t,e){var n=Wt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Wt();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=iw.bind(null,ve,t),[s.memoizedState,t]},useRef:function(t){var e=Wt();return t={current:t},e.memoizedState=t},useState:Gf,useDebugValue:gh,useDeferredValue:function(t){return Wt().memoizedState=t},useTransition:function(){var t=Gf(!1),e=t[0];return t=rw.bind(null,t[1]),Wt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ve,r=Wt();if(pe){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),Le===null)throw Error(R(349));Ms&30||Zx(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Jf(ty.bind(null,s,i,t),[t]),s.flags|=2048,zi(9,ey.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Wt(),e=Le.identifierPrefix;if(pe){var n=hn,s=dn;n=(s&~(1<<32-Lt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lw={readContext:Nt,useCallback:cy,useContext:Nt,useEffect:mh,useImperativeHandle:ly,useInsertionEffect:iy,useLayoutEffect:oy,useMemo:uy,useReducer:Ec,useRef:ry,useState:function(){return Ec(Ii)},useDebugValue:gh,useDeferredValue:function(t){var e=Ct();return dy(e,Re.memoizedState,t)},useTransition:function(){var t=Ec(Ii)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:Gx,useSyncExternalStore:Jx,useId:hy,unstable_isNewReconciler:!1},cw={readContext:Nt,useCallback:cy,useContext:Nt,useEffect:mh,useImperativeHandle:ly,useInsertionEffect:iy,useLayoutEffect:oy,useMemo:uy,useReducer:Pc,useRef:ry,useState:function(){return Pc(Ii)},useDebugValue:gh,useDeferredValue:function(t){var e=Ct();return Re===null?e.memoizedState=t:dy(e,Re.memoizedState,t)},useTransition:function(){var t=Pc(Ii)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:Gx,useSyncExternalStore:Jx,useId:hy,unstable_isNewReconciler:!1};function Rt(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Du(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ml={isMounted:function(t){return(t=t._reactInternals)?Us(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Ge(),r=qn(t),i=gn(s,r);i.payload=e,n!=null&&(i.callback=n),e=Hn(t,i,r),e!==null&&(Dt(e,t,r,s),ia(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Ge(),r=qn(t),i=gn(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Hn(t,i,r),e!==null&&(Dt(e,t,r,s),ia(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ge(),s=qn(t),r=gn(n,s);r.tag=2,e!=null&&(r.callback=e),e=Hn(t,r,s),e!==null&&(Dt(e,t,s,n),ia(e,t,s))}};function Zf(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ti(n,s)||!Ti(r,i):!0}function gy(t,e,n){var s=!1,r=Zn,i=e.contextType;return typeof i=="object"&&i!==null?i=Nt(i):(r=ot(e)?Ts:Qe.current,s=e.contextTypes,i=(s=s!=null)?pr(t,r):Zn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ml,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function ep(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Ml.enqueueReplaceState(e,e.state,null)}function Fu(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},lh(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Nt(i):(i=ot(e)?Ts:Qe.current,r.context=pr(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Du(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ml.enqueueReplaceState(r,r.state,null),Ka(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function yr(t,e){try{var n="",s=e;do n+=Fb(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Rc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Iu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uw=typeof WeakMap=="function"?WeakMap:Map;function xy(t,e,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Za||(Za=!0,Ku=s),Iu(t,e)},n}function yy(t,e,n){n=gn(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){Iu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Iu(t,e),typeof s!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tp(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new uw;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=kw.bind(null,t,e,n),e.then(t,t))}function np(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sp(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gn(-1,1),e.tag=2,Hn(n,e,1))),n.lanes|=1),t)}var dw=kn.ReactCurrentOwner,st=!1;function Xe(t,e,n,s){e.child=t===null?Qx(e,null,n,s):gr(e,t.child,n,s)}function rp(t,e,n,s,r){n=n.render;var i=e.ref;return cr(e,r),s=fh(t,e,n,s,i,r),n=ph(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,wn(t,e,r)):(pe&&n&&th(e),e.flags|=1,Xe(t,e,s,r),e.child)}function ip(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!kh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,vy(t,e,i,s,r)):(t=da(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ti,n(o,s)&&t.ref===e.ref)return wn(t,e,r)}return e.flags|=1,t=Qn(i,s),t.ref=e.ref,t.return=e,e.child=t}function vy(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Ti(i,s)&&t.ref===e.ref)if(st=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,wn(t,e,r)}return zu(t,e,n,s,r)}function by(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(sr,ft),ft|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(sr,ft),ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,le(sr,ft),ft|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,le(sr,ft),ft|=s;return Xe(t,e,r,n),e.child}function wy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zu(t,e,n,s,r){var i=ot(n)?Ts:Qe.current;return i=pr(e,i),cr(e,r),n=fh(t,e,n,s,i,r),s=ph(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,wn(t,e,r)):(pe&&s&&th(e),e.flags|=1,Xe(t,e,n,r),e.child)}function op(t,e,n,s,r){if(ot(n)){var i=!0;Va(e)}else i=!1;if(cr(e,r),e.stateNode===null)la(t,e),gy(e,n,s),Fu(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=ot(n)?Ts:Qe.current,u=pr(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&ep(e,o,s,u),En=!1;var f=e.memoizedState;o.state=f,Ka(e,s,o,r),l=e.memoizedState,a!==s||f!==l||it.current||En?(typeof d=="function"&&(Du(e,n,d,s),l=e.memoizedState),(a=En||Zf(e,n,a,s,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Yx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Rt(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nt(l):(l=ot(n)?Ts:Qe.current,l=pr(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&ep(e,o,s,l),En=!1,f=e.memoizedState,o.state=f,Ka(e,s,o,r);var m=e.memoizedState;a!==h||f!==m||it.current||En?(typeof p=="function"&&(Du(e,n,p,s),m=e.memoizedState),(u=En||Zf(e,n,u,s,f,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),o.props=s,o.state=m,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return Bu(t,e,n,s,i,r)}function Bu(t,e,n,s,r,i){wy(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&Wf(e,n,!1),wn(t,e,i);s=e.stateNode,dw.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=gr(e,t.child,null,i),e.child=gr(e,null,a,i)):Xe(t,e,a,i),e.memoizedState=s.state,r&&Wf(e,n,!0),e.child}function _y(t){var e=t.stateNode;e.pendingContext?Hf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hf(t,e.context,!1),ch(t,e.containerInfo)}function ap(t,e,n,s,r){return mr(),sh(r),e.flags|=256,Xe(t,e,n,s),e.child}var Uu={dehydrated:null,treeContext:null,retryLane:0};function $u(t){return{baseLanes:t,cachePool:null,transitions:null}}function Sy(t,e,n){var s=e.pendingProps,r=ye.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),le(ye,r&1),t===null)return Au(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Dl(o,s,0,null),t=Cs(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=$u(n),e.memoizedState=Uu,t):xh(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return hw(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Qn(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Qn(a,i):(i=Cs(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?$u(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Uu,s}return i=t.child,t=i.sibling,s=Qn(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function xh(t,e){return e=Dl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ro(t,e,n,s){return s!==null&&sh(s),gr(e,t.child,null,n),t=xh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hw(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=Rc(Error(R(422))),Ro(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=Dl({mode:"visible",children:s.children},r,0,null),i=Cs(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&gr(e,t.child,null,o),e.child.memoizedState=$u(o),e.memoizedState=Uu,i);if(!(e.mode&1))return Ro(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(R(419)),s=Rc(i,s,void 0),Ro(t,e,o,s)}if(a=(o&t.childLanes)!==0,st||a){if(s=Le,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,bn(t,r),Dt(s,t,r,-1))}return Sh(),s=Rc(Error(R(421))),Ro(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=jw.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,pt=Vn(r.nextSibling),mt=e,pe=!0,At=null,t!==null&&(bt[wt++]=dn,bt[wt++]=hn,bt[wt++]=Os,dn=t.id,hn=t.overflow,Os=e),e=xh(e,s.children),e.flags|=4096,e)}function lp(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Lu(t.return,e,n)}function Tc(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function ky(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Xe(t,e,s.children,n),s=ye.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lp(t,n,e);else if(t.tag===19)lp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(le(ye,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Ya(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Tc(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Ya(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Tc(e,!0,n,null,i);break;case"together":Tc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function la(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),As|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fw(t,e,n){switch(e.tag){case 3:_y(e),mr();break;case 5:Xx(e);break;case 1:ot(e.type)&&Va(e);break;case 4:ch(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;le(qa,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(le(ye,ye.current&1),e.flags|=128,null):n&e.child.childLanes?Sy(t,e,n):(le(ye,ye.current&1),t=wn(t,e,n),t!==null?t.sibling:null);le(ye,ye.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return ky(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),le(ye,ye.current),s)break;return null;case 22:case 23:return e.lanes=0,by(t,e,n)}return wn(t,e,n)}var jy,Vu,Ny,Cy;jy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vu=function(){};Ny=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,ws(Jt.current);var i=null;switch(n){case"input":r=du(t,r),s=du(t,s),i=[];break;case"select":r=be({},r,{value:void 0}),s=be({},s,{value:void 0}),i=[];break;case"textarea":r=pu(t,r),s=pu(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Ua)}gu(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ki.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var l=s[u];if(a=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ki.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ce("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Cy=function(t,e,n,s){n!==s&&(e.flags|=4)};function Ur(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ue(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function pw(t,e,n){var s=e.pendingProps;switch(nh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(e),null;case 1:return ot(e.type)&&$a(),Ue(e),null;case 3:return s=e.stateNode,xr(),de(it),de(Qe),dh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Eo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,At!==null&&(Gu(At),At=null))),Vu(t,e),Ue(e),null;case 5:uh(e);var r=ws(Di.current);if(n=e.type,t!==null&&e.stateNode!=null)Ny(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(R(166));return Ue(e),null}if(t=ws(Jt.current),Eo(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[Qt]=e,s[Ai]=i,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(r=0;r<Zr.length;r++)ce(Zr[r],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":xf(s,i),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ce("invalid",s);break;case"textarea":vf(s,i),ce("invalid",s)}gu(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&Co(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Co(s.textContent,a,t),r=["children",""+a]):ki.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",s)}switch(n){case"input":vo(s),yf(s,i,!0);break;case"textarea":vo(s),bf(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Ua)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Qt]=e,t[Ai]=s,jy(t,e,!1,!1),e.stateNode=t;e:{switch(o=xu(n,s),n){case"dialog":ce("cancel",t),ce("close",t),r=s;break;case"iframe":case"object":case"embed":ce("load",t),r=s;break;case"video":case"audio":for(r=0;r<Zr.length;r++)ce(Zr[r],t);r=s;break;case"source":ce("error",t),r=s;break;case"img":case"image":case"link":ce("error",t),ce("load",t),r=s;break;case"details":ce("toggle",t),r=s;break;case"input":xf(t,s),r=du(t,s),ce("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=be({},s,{value:void 0}),ce("invalid",t);break;case"textarea":vf(t,s),r=pu(t,s),ce("invalid",t);break;default:r=s}gu(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?rx(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nx(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ji(t,l):typeof l=="number"&&ji(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ki.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ce("scroll",t):l!=null&&Ud(t,i,l,o))}switch(n){case"input":vo(t),yf(t,s,!1);break;case"textarea":vo(t),bf(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Jn(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?ir(t,!!s.multiple,i,!1):s.defaultValue!=null&&ir(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Ua)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ue(e),null;case 6:if(t&&e.stateNode!=null)Cy(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(R(166));if(n=ws(Di.current),ws(Jt.current),Eo(e)){if(s=e.stateNode,n=e.memoizedProps,s[Qt]=e,(i=s.nodeValue!==n)&&(t=mt,t!==null))switch(t.tag){case 3:Co(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Co(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Qt]=e,e.stateNode=s}return Ue(e),null;case 13:if(de(ye),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&pt!==null&&e.mode&1&&!(e.flags&128))Wx(),mr(),e.flags|=98560,i=!1;else if(i=Eo(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(R(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Qt]=e}else mr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ue(e),i=!1}else At!==null&&(Gu(At),At=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?Oe===0&&(Oe=3):Sh())),e.updateQueue!==null&&(e.flags|=4),Ue(e),null);case 4:return xr(),Vu(t,e),t===null&&Oi(e.stateNode.containerInfo),Ue(e),null;case 10:return oh(e.type._context),Ue(e),null;case 17:return ot(e.type)&&$a(),Ue(e),null;case 19:if(de(ye),i=e.memoizedState,i===null)return Ue(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Ur(i,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ya(t),o!==null){for(e.flags|=128,Ur(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(ye,ye.current&1|2),e.child}t=t.sibling}i.tail!==null&&ke()>vr&&(e.flags|=128,s=!0,Ur(i,!1),e.lanes=4194304)}else{if(!s)if(t=Ya(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ur(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pe)return Ue(e),null}else 2*ke()-i.renderingStartTime>vr&&n!==1073741824&&(e.flags|=128,s=!0,Ur(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ke(),e.sibling=null,n=ye.current,le(ye,s?n&1|2:n&1),e):(Ue(e),null);case 22:case 23:return _h(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?ft&1073741824&&(Ue(e),e.subtreeFlags&6&&(e.flags|=8192)):Ue(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function mw(t,e){switch(nh(e),e.tag){case 1:return ot(e.type)&&$a(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xr(),de(it),de(Qe),dh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uh(e),null;case 13:if(de(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));mr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(ye),null;case 4:return xr(),null;case 10:return oh(e.type._context),null;case 22:case 23:return _h(),null;case 24:return null;default:return null}}var To=!1,He=!1,gw=typeof WeakSet=="function"?WeakSet:Set,D=null;function nr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){we(t,e,s)}else n.current=null}function Hu(t,e,n){try{n()}catch(s){we(t,e,s)}}var cp=!1;function xw(t,e){if(Cu=Ia,t=Ox(),eh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==i||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===r&&(a=o),f===i&&++d===s&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eu={focusedElem:t,selectionRange:n},Ia=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Rt(e.type,y),v);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(_){we(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return m=cp,cp=!1,m}function pi(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Hu(e,n,i)}r=r.next}while(r!==s)}}function Al(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Wu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ey(t){var e=t.alternate;e!==null&&(t.alternate=null,Ey(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qt],delete e[Ai],delete e[Tu],delete e[Z1],delete e[ew])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Py(t){return t.tag===5||t.tag===3||t.tag===4}function up(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ua));else if(s!==4&&(t=t.child,t!==null))for(qu(t,e,n),t=t.sibling;t!==null;)qu(t,e,n),t=t.sibling}function Qu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Qu(t,e,n),t=t.sibling;t!==null;)Qu(t,e,n),t=t.sibling}var De=null,Tt=!1;function jn(t,e,n){for(n=n.child;n!==null;)Ry(t,e,n),n=n.sibling}function Ry(t,e,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Nl,n)}catch{}switch(n.tag){case 5:He||nr(n,e);case 6:var s=De,r=Tt;De=null,jn(t,e,n),De=s,Tt=r,De!==null&&(Tt?(t=De,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(Tt?(t=De,n=n.stateNode,t.nodeType===8?kc(t.parentNode,n):t.nodeType===1&&kc(t,n),Pi(t)):kc(De,n.stateNode));break;case 4:s=De,r=Tt,De=n.stateNode.containerInfo,Tt=!0,jn(t,e,n),De=s,Tt=r;break;case 0:case 11:case 14:case 15:if(!He&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Hu(n,e,o),r=r.next}while(r!==s)}jn(t,e,n);break;case 1:if(!He&&(nr(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){we(n,e,a)}jn(t,e,n);break;case 21:jn(t,e,n);break;case 22:n.mode&1?(He=(s=He)||n.memoizedState!==null,jn(t,e,n),He=s):jn(t,e,n);break;default:jn(t,e,n)}}function dp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gw),e.forEach(function(s){var r=Nw.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Pt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:De=a.stateNode,Tt=!1;break e;case 3:De=a.stateNode.containerInfo,Tt=!0;break e;case 4:De=a.stateNode.containerInfo,Tt=!0;break e}a=a.return}if(De===null)throw Error(R(160));Ry(i,o,r),De=null,Tt=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){we(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ty(e,t),e=e.sibling}function Ty(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pt(e,t),$t(t),s&4){try{pi(3,t,t.return),Al(3,t)}catch(y){we(t,t.return,y)}try{pi(5,t,t.return)}catch(y){we(t,t.return,y)}}break;case 1:Pt(e,t),$t(t),s&512&&n!==null&&nr(n,n.return);break;case 5:if(Pt(e,t),$t(t),s&512&&n!==null&&nr(n,n.return),t.flags&32){var r=t.stateNode;try{ji(r,"")}catch(y){we(t,t.return,y)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Zg(r,i),xu(a,o);var u=xu(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?rx(r,h):d==="dangerouslySetInnerHTML"?nx(r,h):d==="children"?ji(r,h):Ud(r,d,h,u)}switch(a){case"input":hu(r,i);break;case"textarea":ex(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ir(r,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ir(r,!!i.multiple,i.defaultValue,!0):ir(r,!!i.multiple,i.multiple?[]:"",!1))}r[Ai]=i}catch(y){we(t,t.return,y)}}break;case 6:if(Pt(e,t),$t(t),s&4){if(t.stateNode===null)throw Error(R(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(y){we(t,t.return,y)}}break;case 3:if(Pt(e,t),$t(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Pi(e.containerInfo)}catch(y){we(t,t.return,y)}break;case 4:Pt(e,t),$t(t);break;case 13:Pt(e,t),$t(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(bh=ke())),s&4&&dp(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(He=(u=He)||d,Pt(e,t),He=u):Pt(e,t),$t(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(h=D=d;D!==null;){switch(f=D,p=f.child,f.tag){case 0:case 11:case 14:case 15:pi(4,f,f.return);break;case 1:nr(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){we(s,n,y)}}break;case 5:nr(f,f.return);break;case 22:if(f.memoizedState!==null){fp(h);continue}}p!==null?(p.return=f,D=p):fp(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sx("display",o))}catch(y){we(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){we(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pt(e,t),$t(t),s&4&&dp(t);break;case 21:break;default:Pt(e,t),$t(t)}}function $t(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Py(n)){var s=n;break e}n=n.return}throw Error(R(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(ji(r,""),s.flags&=-33);var i=up(t);Qu(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=up(t);qu(t,a,o);break;default:throw Error(R(161))}}catch(l){we(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yw(t,e,n){D=t,Oy(t)}function Oy(t,e,n){for(var s=(t.mode&1)!==0;D!==null;){var r=D,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||To;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||He;a=To;var u=He;if(To=o,(He=l)&&!u)for(D=r;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?pp(r):l!==null?(l.return=o,D=l):pp(r);for(;i!==null;)D=i,Oy(i),i=i.sibling;D=r,To=a,He=u}hp(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,D=i):hp(t)}}function hp(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||Al(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!He)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Rt(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Xf(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xf(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}He||e.flags&512&&Wu(e)}catch(f){we(e,e.return,f)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function fp(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function pp(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Al(4,e)}catch(l){we(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){we(e,r,l)}}var i=e.return;try{Wu(e)}catch(l){we(e,i,l)}break;case 5:var o=e.return;try{Wu(e)}catch(l){we(e,o,l)}}}catch(l){we(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var vw=Math.ceil,Ja=kn.ReactCurrentDispatcher,yh=kn.ReactCurrentOwner,jt=kn.ReactCurrentBatchConfig,te=0,Le=null,Ce=null,Ie=0,ft=0,sr=rs(0),Oe=0,Bi=null,As=0,Ll=0,vh=0,mi=null,tt=null,bh=0,vr=1/0,ln=null,Za=!1,Ku=null,Wn=null,Oo=!1,An=null,el=0,gi=0,Yu=null,ca=-1,ua=0;function Ge(){return te&6?ke():ca!==-1?ca:ca=ke()}function qn(t){return t.mode&1?te&2&&Ie!==0?Ie&-Ie:nw.transition!==null?(ua===0&&(ua=gx()),ua):(t=oe,t!==0||(t=window.event,t=t===void 0?16:Sx(t.type)),t):1}function Dt(t,e,n,s){if(50<gi)throw gi=0,Yu=null,Error(R(185));no(t,n,s),(!(te&2)||t!==Le)&&(t===Le&&(!(te&2)&&(Ll|=n),Oe===4&&Tn(t,Ie)),at(t,s),n===1&&te===0&&!(e.mode&1)&&(vr=ke()+500,Tl&&is()))}function at(t,e){var n=t.callbackNode;n1(t,e);var s=Fa(t,t===Le?Ie:0);if(s===0)n!==null&&Sf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Sf(n),e===1)t.tag===0?tw(mp.bind(null,t)):$x(mp.bind(null,t)),G1(function(){!(te&6)&&is()}),n=null;else{switch(xx(s)){case 1:n=qd;break;case 4:n=px;break;case 16:n=Da;break;case 536870912:n=mx;break;default:n=Da}n=By(n,My.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function My(t,e){if(ca=-1,ua=0,te&6)throw Error(R(327));var n=t.callbackNode;if(ur()&&t.callbackNode!==n)return null;var s=Fa(t,t===Le?Ie:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=tl(t,s);else{e=s;var r=te;te|=2;var i=Ly();(Le!==t||Ie!==e)&&(ln=null,vr=ke()+500,Ns(t,e));do try{_w();break}catch(a){Ay(t,a)}while(1);ih(),Ja.current=i,te=r,Ce!==null?e=0:(Le=null,Ie=0,e=Oe)}if(e!==0){if(e===2&&(r=_u(t),r!==0&&(s=r,e=Xu(t,r))),e===1)throw n=Bi,Ns(t,0),Tn(t,s),at(t,ke()),n;if(e===6)Tn(t,s);else{if(r=t.current.alternate,!(s&30)&&!bw(r)&&(e=tl(t,s),e===2&&(i=_u(t),i!==0&&(s=i,e=Xu(t,i))),e===1))throw n=Bi,Ns(t,0),Tn(t,s),at(t,ke()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(R(345));case 2:ps(t,tt,ln);break;case 3:if(Tn(t,s),(s&130023424)===s&&(e=bh+500-ke(),10<e)){if(Fa(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Ge(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Ru(ps.bind(null,t,tt,ln),e);break}ps(t,tt,ln);break;case 4:if(Tn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Lt(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=ke()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*vw(s/1960))-s,10<s){t.timeoutHandle=Ru(ps.bind(null,t,tt,ln),s);break}ps(t,tt,ln);break;case 5:ps(t,tt,ln);break;default:throw Error(R(329))}}}return at(t,ke()),t.callbackNode===n?My.bind(null,t):null}function Xu(t,e){var n=mi;return t.current.memoizedState.isDehydrated&&(Ns(t,e).flags|=256),t=tl(t,e),t!==2&&(e=tt,tt=n,e!==null&&Gu(e)),t}function Gu(t){tt===null?tt=t:tt.push.apply(tt,t)}function bw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!It(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tn(t,e){for(e&=~vh,e&=~Ll,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Lt(e),s=1<<n;t[n]=-1,e&=~s}}function mp(t){if(te&6)throw Error(R(327));ur();var e=Fa(t,0);if(!(e&1))return at(t,ke()),null;var n=tl(t,e);if(t.tag!==0&&n===2){var s=_u(t);s!==0&&(e=s,n=Xu(t,s))}if(n===1)throw n=Bi,Ns(t,0),Tn(t,e),at(t,ke()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ps(t,tt,ln),at(t,ke()),null}function wh(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(vr=ke()+500,Tl&&is())}}function Ls(t){An!==null&&An.tag===0&&!(te&6)&&ur();var e=te;te|=1;var n=jt.transition,s=oe;try{if(jt.transition=null,oe=1,t)return t()}finally{oe=s,jt.transition=n,te=e,!(te&6)&&is()}}function _h(){ft=sr.current,de(sr)}function Ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,X1(n)),Ce!==null)for(n=Ce.return;n!==null;){var s=n;switch(nh(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&$a();break;case 3:xr(),de(it),de(Qe),dh();break;case 5:uh(s);break;case 4:xr();break;case 13:de(ye);break;case 19:de(ye);break;case 10:oh(s.type._context);break;case 22:case 23:_h()}n=n.return}if(Le=t,Ce=t=Qn(t.current,null),Ie=ft=e,Oe=0,Bi=null,vh=Ll=As=0,tt=mi=null,bs!==null){for(e=0;e<bs.length;e++)if(n=bs[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}bs=null}return t}function Ay(t,e){do{var n=Ce;try{if(ih(),oa.current=Ga,Xa){for(var s=ve.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Xa=!1}if(Ms=0,Ae=Re=ve=null,fi=!1,Fi=0,yh.current=null,n===null||n.return===null){Oe=1,Bi=e,Ce=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ie,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=np(o);if(p!==null){p.flags&=-257,sp(p,o,a,i,e),p.mode&1&&tp(i,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){tp(i,u,e),Sh();break e}l=Error(R(426))}}else if(pe&&a.mode&1){var v=np(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),sp(v,o,a,i,e),sh(yr(l,a));break e}}i=l=yr(l,a),Oe!==4&&(Oe=2),mi===null?mi=[i]:mi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=xy(i,l,e);Yf(i,g);break e;case 1:a=l;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wn===null||!Wn.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=yy(i,a,e);Yf(i,_);break e}}i=i.return}while(i!==null)}Fy(n)}catch(w){e=w,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(1)}function Ly(){var t=Ja.current;return Ja.current=Ga,t===null?Ga:t}function Sh(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Le===null||!(As&268435455)&&!(Ll&268435455)||Tn(Le,Ie)}function tl(t,e){var n=te;te|=2;var s=Ly();(Le!==t||Ie!==e)&&(ln=null,Ns(t,e));do try{ww();break}catch(r){Ay(t,r)}while(1);if(ih(),te=n,Ja.current=s,Ce!==null)throw Error(R(261));return Le=null,Ie=0,Oe}function ww(){for(;Ce!==null;)Dy(Ce)}function _w(){for(;Ce!==null&&!Qb();)Dy(Ce)}function Dy(t){var e=zy(t.alternate,t,ft);t.memoizedProps=t.pendingProps,e===null?Fy(t):Ce=e,yh.current=null}function Fy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mw(n,e),n!==null){n.flags&=32767,Ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Ce=null;return}}else if(n=pw(n,e,ft),n!==null){Ce=n;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);Oe===0&&(Oe=5)}function ps(t,e,n){var s=oe,r=jt.transition;try{jt.transition=null,oe=1,Sw(t,e,n,s)}finally{jt.transition=r,oe=s}return null}function Sw(t,e,n,s){do ur();while(An!==null);if(te&6)throw Error(R(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(s1(t,i),t===Le&&(Ce=Le=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oo||(Oo=!0,By(Da,function(){return ur(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jt.transition,jt.transition=null;var o=oe;oe=1;var a=te;te|=4,yh.current=null,xw(t,n),Ty(n,t),V1(Eu),Ia=!!Cu,Eu=Cu=null,t.current=n,yw(n),Kb(),te=a,oe=o,jt.transition=i}else t.current=n;if(Oo&&(Oo=!1,An=t,el=r),i=t.pendingLanes,i===0&&(Wn=null),Gb(n.stateNode),at(t,ke()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Za)throw Za=!1,t=Ku,Ku=null,t;return el&1&&t.tag!==0&&ur(),i=t.pendingLanes,i&1?t===Yu?gi++:(gi=0,Yu=t):gi=0,is(),null}function ur(){if(An!==null){var t=xx(el),e=jt.transition,n=oe;try{if(jt.transition=null,oe=16>t?16:t,An===null)var s=!1;else{if(t=An,An=null,el=0,te&6)throw Error(R(331));var r=te;for(te|=4,D=t.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:pi(8,d,i)}var h=d.child;if(h!==null)h.return=d,D=h;else for(;D!==null;){d=D;var f=d.sibling,p=d.return;if(Ey(d),d===u){D=null;break}if(f!==null){f.return=p,D=f;break}D=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pi(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,D=g;break e}D=i.return}}var x=t.current;for(D=x;D!==null;){o=D;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,D=b;else e:for(o=x;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Al(9,a)}}catch(w){we(a,a.return,w)}if(a===o){D=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,D=_;break e}D=a.return}}if(te=r,is(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Nl,t)}catch{}s=!0}return s}finally{oe=n,jt.transition=e}}return!1}function gp(t,e,n){e=yr(n,e),e=xy(t,e,1),t=Hn(t,e,1),e=Ge(),t!==null&&(no(t,1,e),at(t,e))}function we(t,e,n){if(t.tag===3)gp(t,t,n);else for(;e!==null;){if(e.tag===3){gp(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Wn===null||!Wn.has(s))){t=yr(n,t),t=yy(e,t,1),e=Hn(e,t,1),t=Ge(),e!==null&&(no(e,1,t),at(e,t));break}}e=e.return}}function kw(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Ge(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(Ie&n)===n&&(Oe===4||Oe===3&&(Ie&130023424)===Ie&&500>ke()-bh?Ns(t,0):vh|=n),at(t,e)}function Iy(t,e){e===0&&(t.mode&1?(e=_o,_o<<=1,!(_o&130023424)&&(_o=4194304)):e=1);var n=Ge();t=bn(t,e),t!==null&&(no(t,e,n),at(t,n))}function jw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Iy(t,n)}function Nw(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(R(314))}s!==null&&s.delete(e),Iy(t,n)}var zy;zy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)st=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return st=!1,fw(t,e,n);st=!!(t.flags&131072)}else st=!1,pe&&e.flags&1048576&&Vx(e,Wa,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;la(t,e),t=e.pendingProps;var r=pr(e,Qe.current);cr(e,n),r=fh(null,e,s,t,r,n);var i=ph();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ot(s)?(i=!0,Va(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,lh(e),r.updater=Ml,e.stateNode=r,r._reactInternals=e,Fu(e,s,t,n),e=Bu(null,e,s,!0,i,n)):(e.tag=0,pe&&i&&th(e),Xe(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(la(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=Ew(s),t=Rt(s,t),r){case 0:e=zu(null,e,s,t,n);break e;case 1:e=op(null,e,s,t,n);break e;case 11:e=rp(null,e,s,t,n);break e;case 14:e=ip(null,e,s,Rt(s.type,t),n);break e}throw Error(R(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Rt(s,r),zu(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Rt(s,r),op(t,e,s,r,n);case 3:e:{if(_y(e),t===null)throw Error(R(387));s=e.pendingProps,i=e.memoizedState,r=i.element,Yx(t,e),Ka(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=yr(Error(R(423)),e),e=ap(t,e,s,n,r);break e}else if(s!==r){r=yr(Error(R(424)),e),e=ap(t,e,s,n,r);break e}else for(pt=Vn(e.stateNode.containerInfo.firstChild),mt=e,pe=!0,At=null,n=Qx(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mr(),s===r){e=wn(t,e,n);break e}Xe(t,e,s,n)}e=e.child}return e;case 5:return Xx(e),t===null&&Au(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,Pu(s,r)?o=null:i!==null&&Pu(s,i)&&(e.flags|=32),wy(t,e),Xe(t,e,o,n),e.child;case 6:return t===null&&Au(e),null;case 13:return Sy(t,e,n);case 4:return ch(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=gr(e,null,s,n):Xe(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Rt(s,r),rp(t,e,s,r,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,le(qa,s._currentValue),s._currentValue=o,i!==null)if(It(i.value,o)){if(i.children===r.children&&!it.current){e=wn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=gn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Lu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Lu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xe(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,cr(e,n),r=Nt(r),s=s(r),e.flags|=1,Xe(t,e,s,n),e.child;case 14:return s=e.type,r=Rt(s,e.pendingProps),r=Rt(s.type,r),ip(t,e,s,r,n);case 15:return vy(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Rt(s,r),la(t,e),e.tag=1,ot(s)?(t=!0,Va(e)):t=!1,cr(e,n),gy(e,s,r),Fu(e,s,r,n),Bu(null,e,s,!0,t,n);case 19:return ky(t,e,n);case 22:return by(t,e,n)}throw Error(R(156,e.tag))};function By(t,e){return fx(t,e)}function Cw(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,n,s){return new Cw(t,e,n,s)}function kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ew(t){if(typeof t=="function")return kh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vd)return 11;if(t===Hd)return 14}return 2}function Qn(t,e){var n=t.alternate;return n===null?(n=St(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function da(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")kh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qs:return Cs(n.children,r,i,e);case $d:o=8,r|=8;break;case au:return t=St(12,n,e,r|2),t.elementType=au,t.lanes=i,t;case lu:return t=St(13,n,e,r),t.elementType=lu,t.lanes=i,t;case cu:return t=St(19,n,e,r),t.elementType=cu,t.lanes=i,t;case Xg:return Dl(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kg:o=10;break e;case Yg:o=9;break e;case Vd:o=11;break e;case Hd:o=14;break e;case Cn:o=16,s=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=St(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Cs(t,e,n,s){return t=St(7,t,s,e),t.lanes=n,t}function Dl(t,e,n,s){return t=St(22,t,s,e),t.elementType=Xg,t.lanes=n,t.stateNode={isHidden:!1},t}function Oc(t,e,n){return t=St(6,t,null,e),t.lanes=n,t}function Mc(t,e,n){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Pw(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fc(0),this.expirationTimes=fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fc(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function jh(t,e,n,s,r,i,o,a,l){return t=new Pw(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=St(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lh(i),t}function Rw(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qs,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function Uy(t){if(!t)return Zn;t=t._reactInternals;e:{if(Us(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(ot(n))return Ux(t,n,e)}return e}function $y(t,e,n,s,r,i,o,a,l){return t=jh(n,s,!0,t,r,i,o,a,l),t.context=Uy(null),n=t.current,s=Ge(),r=qn(n),i=gn(s,r),i.callback=e??null,Hn(n,i,r),t.current.lanes=r,no(t,r,s),at(t,s),t}function Fl(t,e,n,s){var r=e.current,i=Ge(),o=qn(r);return n=Uy(n),e.context===null?e.context=n:e.pendingContext=n,e=gn(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Hn(r,e,o),t!==null&&(Dt(t,r,o,i),ia(t,r,o)),o}function nl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Nh(t,e){xp(t,e),(t=t.alternate)&&xp(t,e)}function Tw(){return null}var Vy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ch(t){this._internalRoot=t}Il.prototype.render=Ch.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Fl(t,e,null,null)};Il.prototype.unmount=Ch.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ls(function(){Fl(null,t,null,null)}),e[vn]=null}};function Il(t){this._internalRoot=t}Il.prototype.unstable_scheduleHydration=function(t){if(t){var e=bx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rn.length&&e!==0&&e<Rn[n].priority;n++);Rn.splice(n,0,t),n===0&&_x(t)}};function Eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yp(){}function Ow(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=nl(o);i.call(u)}}var o=$y(e,s,t,0,null,!1,!1,"",yp);return t._reactRootContainer=o,t[vn]=o.current,Oi(t.nodeType===8?t.parentNode:t),Ls(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var u=nl(l);a.call(u)}}var l=jh(t,0,!1,null,null,!1,!1,"",yp);return t._reactRootContainer=l,t[vn]=l.current,Oi(t.nodeType===8?t.parentNode:t),Ls(function(){Fl(e,l,n,s)}),l}function Bl(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=nl(o);a.call(l)}}Fl(e,o,t,r)}else o=Ow(n,e,t,r,s);return nl(o)}yx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jr(e.pendingLanes);n!==0&&(Qd(e,n|1),at(e,ke()),!(te&6)&&(vr=ke()+500,is()))}break;case 13:Ls(function(){var s=bn(t,1);if(s!==null){var r=Ge();Dt(s,t,1,r)}}),Nh(t,1)}};Kd=function(t){if(t.tag===13){var e=bn(t,134217728);if(e!==null){var n=Ge();Dt(e,t,134217728,n)}Nh(t,134217728)}};vx=function(t){if(t.tag===13){var e=qn(t),n=bn(t,e);if(n!==null){var s=Ge();Dt(n,t,e,s)}Nh(t,e)}};bx=function(){return oe};wx=function(t,e){var n=oe;try{return oe=t,e()}finally{oe=n}};vu=function(t,e,n){switch(e){case"input":if(hu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Rl(s);if(!r)throw Error(R(90));Jg(s),hu(s,r)}}}break;case"textarea":ex(t,n);break;case"select":e=n.value,e!=null&&ir(t,!!n.multiple,e,!1)}};ax=wh;lx=Ls;var Mw={usingClientEntryPoint:!1,Events:[ro,Gs,Rl,ix,ox,wh]},$r={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Aw={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dx(t),t===null?null:t.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||Tw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{Nl=Mo.inject(Aw),Gt=Mo}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mw;xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eh(e))throw Error(R(200));return Rw(t,e,null,n)};xt.createRoot=function(t,e){if(!Eh(t))throw Error(R(299));var n=!1,s="",r=Vy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=jh(t,1,!1,null,null,n,!1,s,r),t[vn]=e.current,Oi(t.nodeType===8?t.parentNode:t),new Ch(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=dx(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return Ls(t)};xt.hydrate=function(t,e,n){if(!zl(e))throw Error(R(200));return Bl(null,t,e,!0,n)};xt.hydrateRoot=function(t,e,n){if(!Eh(t))throw Error(R(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=Vy;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$y(e,null,t,1,n??null,r,!1,i,o),t[vn]=e.current,Oi(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Il(e)};xt.render=function(t,e,n){if(!zl(e))throw Error(R(200));return Bl(null,t,e,!1,n)};xt.unmountComponentAtNode=function(t){if(!zl(t))throw Error(R(40));return t._reactRootContainer?(Ls(function(){Bl(null,null,t,!1,function(){t._reactRootContainer=null,t[vn]=null})}),!0):!1};xt.unstable_batchedUpdates=wh;xt.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!zl(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return Bl(t,e,n,!1,s)};xt.version="18.3.1-next-f1338f8080-20240426";function Hy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hy)}catch(t){console.error(t)}}Hy(),Hg.exports=xt;var Wy=Hg.exports;const Lw=Og(Wy);var vp=Wy;iu.createRoot=vp.createRoot,iu.hydrateRoot=vp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ui(){return Ui=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ui.apply(this,arguments)}var Ln;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ln||(Ln={}));const bp="popstate";function Dw(t){t===void 0&&(t={});function e(s,r){let{pathname:i,search:o,hash:a}=s.location;return Ju("",{pathname:i,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:sl(r)}return Iw(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fw(){return Math.random().toString(36).substr(2,8)}function wp(t,e){return{usr:t.state,key:t.key,idx:e}}function Ju(t,e,n,s){return n===void 0&&(n=null),Ui({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Cr(e):e,{state:n,key:e&&e.key||s||Fw()})}function sl(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Cr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function Iw(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,a=Ln.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ui({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ln.Pop;let v=d(),g=v==null?null:v-u;u=v,l&&l({action:a,location:y.location,delta:g})}function f(v,g){a=Ln.Push;let x=Ju(y.location,v,g);n&&n(x,v),u=d()+1;let b=wp(x,u),_=y.createHref(x);try{o.pushState(b,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;r.location.assign(_)}i&&l&&l({action:a,location:y.location,delta:1})}function p(v,g){a=Ln.Replace;let x=Ju(y.location,v,g);n&&n(x,v),u=d();let b=wp(x,u),_=y.createHref(x);o.replaceState(b,"",_),i&&l&&l({action:a,location:y.location,delta:0})}function m(v){let g=r.location.origin!=="null"?r.location.origin:r.location.href,x=typeof v=="string"?v:sl(v);return x=x.replace(/ $/,"%20"),Ne(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let y={get action(){return a},get location(){return t(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(bp,h),l=v,()=>{r.removeEventListener(bp,h),l=null}},createHref(v){return e(r,v)},createURL:m,encodeLocation(v){let g=m(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(v){return o.go(v)}};return y}var _p;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_p||(_p={}));function zw(t,e,n){return n===void 0&&(n="/"),Bw(t,e,n,!1)}function Bw(t,e,n,s){let r=typeof e=="string"?Cr(e):e,i=Ph(r.pathname||"/",n);if(i==null)return null;let o=Qy(t);Uw(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Jw(i);a=Xw(o[l],u,s)}return a}function Qy(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ne(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let u=Kn([s,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Qy(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Kw(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))r(i,o);else for(let l of Ky(i.path))r(i,o,l)}),e}function Ky(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=Ky(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Uw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const $w=/^:[\w-]+$/,Vw=3,Hw=2,Ww=1,qw=10,Qw=-2,Sp=t=>t==="*";function Kw(t,e){let n=t.split("/"),s=n.length;return n.some(Sp)&&(s+=Qw),e&&(s+=Hw),n.filter(r=>!Sp(r)).reduce((r,i)=>r+($w.test(i)?Vw:i===""?Ww:qw),s)}function Yw(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function Xw(t,e,n){n===void 0&&(n=!1);let{routesMeta:s}=t,r={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],u=a===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=kp({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!s[s.length-1].route.index&&(h=kp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Kn([i,h.pathname]),pathnameBase:n_(Kn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Kn([i,h.pathnameBase]))}return o}function kp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=Gw(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Gw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function Jw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ph(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function Zw(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Cr(t):t;return{pathname:n?n.startsWith("/")?n:e_(n,e):e,search:s_(s),hash:r_(r)}}function e_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Ac(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function t_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rh(t,e){let n=t_(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Th(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=Cr(t):(r=Ui({},t),Ne(!r.pathname||!r.pathname.includes("?"),Ac("?","pathname","search",r)),Ne(!r.pathname||!r.pathname.includes("#"),Ac("#","pathname","hash",r)),Ne(!r.search||!r.search.includes("#"),Ac("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Zw(r,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Kn=t=>t.join("/").replace(/\/\/+/g,"/"),n_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),s_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,r_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Yy=["post","put","patch","delete"];new Set(Yy);const o_=["get",...Yy];new Set(o_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $i(){return $i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},$i.apply(this,arguments)}const Oh=S.createContext(null),a_=S.createContext(null),os=S.createContext(null),Ul=S.createContext(null),tn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Xy=S.createContext(null);function l_(t,e){let{relative:n}=e===void 0?{}:e;Er()||Ne(!1);let{basename:s,navigator:r}=S.useContext(os),{hash:i,pathname:o,search:a}=Zy(t,{relative:n}),l=o;return s!=="/"&&(l=o==="/"?s:Kn([s,o])),r.createHref({pathname:l,search:a,hash:i})}function Er(){return S.useContext(Ul)!=null}function Pr(){return Er()||Ne(!1),S.useContext(Ul).location}function Gy(t){S.useContext(os).static||S.useLayoutEffect(t)}function Bt(){let{isDataRoute:t}=S.useContext(tn);return t?S_():c_()}function c_(){Er()||Ne(!1);let t=S.useContext(Oh),{basename:e,future:n,navigator:s}=S.useContext(os),{matches:r}=S.useContext(tn),{pathname:i}=Pr(),o=JSON.stringify(Rh(r,n.v7_relativeSplatPath)),a=S.useRef(!1);return Gy(()=>{a.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){s.go(u);return}let h=Th(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Kn([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,o,i,t])}const u_=S.createContext(null);function d_(t){let e=S.useContext(tn).outlet;return e&&S.createElement(u_.Provider,{value:t},e)}function Jy(){let{matches:t}=S.useContext(tn),e=t[t.length-1];return e?e.params:{}}function Zy(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=S.useContext(os),{matches:r}=S.useContext(tn),{pathname:i}=Pr(),o=JSON.stringify(Rh(r,s.v7_relativeSplatPath));return S.useMemo(()=>Th(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function h_(t,e){return f_(t,e)}function f_(t,e,n,s){Er()||Ne(!1);let{navigator:r}=S.useContext(os),{matches:i}=S.useContext(tn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Pr(),d;if(e){var h;let v=typeof e=="string"?Cr(e):e;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||Ne(!1),d=v}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=zw(t,{pathname:p}),y=y_(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Kn([l,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Kn([l,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,s);return e&&y?S.createElement(Ul.Provider,{value:{location:$i({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ln.Pop}},y):y}function p_(){let t=__(),e=i_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:r},n):null,i)}const m_=S.createElement(p_,null);class g_ extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(tn.Provider,{value:this.props.routeContext},S.createElement(Xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x_(t){let{routeContext:e,match:n,children:s}=t,r=S.useContext(Oh);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(tn.Provider,{value:e},s)}function y_(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Ne(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,m=!1,y=null,v=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||m_,l&&(u<0&&f===0?(k_("route-fallback",!1),m=!0,v=null):u===f&&(m=!0,v=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),x=()=>{let b;return p?b=y:m?b=v:h.route.Component?b=S.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,S.createElement(x_,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(g_,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var e0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(e0||{}),rl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rl||{});function v_(t){let e=S.useContext(Oh);return e||Ne(!1),e}function b_(t){let e=S.useContext(a_);return e||Ne(!1),e}function w_(t){let e=S.useContext(tn);return e||Ne(!1),e}function t0(t){let e=w_(),n=e.matches[e.matches.length-1];return n.route.id||Ne(!1),n.route.id}function __(){var t;let e=S.useContext(Xy),n=b_(rl.UseRouteError),s=t0(rl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function S_(){let{router:t}=v_(e0.UseNavigateStable),e=t0(rl.UseNavigateStable),n=S.useRef(!1);return Gy(()=>{n.current=!0}),S.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,$i({fromRouteId:e},i)))},[t,e])}const jp={};function k_(t,e,n){!e&&!jp[t]&&(jp[t]=!0)}function j_(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function n0(t){let{to:e,replace:n,state:s,relative:r}=t;Er()||Ne(!1);let{future:i,static:o}=S.useContext(os),{matches:a}=S.useContext(tn),{pathname:l}=Pr(),u=Bt(),d=Th(e,Rh(a,i.v7_relativeSplatPath),l,r==="path"),h=JSON.stringify(d);return S.useEffect(()=>u(JSON.parse(h),{replace:n,state:s,relative:r}),[u,h,r,n,s]),null}function N_(t){return d_(t.context)}function Ye(t){Ne(!1)}function C_(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Ln.Pop,navigator:i,static:o=!1,future:a}=t;Er()&&Ne(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:o,future:$i({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof s=="string"&&(s=Cr(s));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=s,y=S.useMemo(()=>{let v=Ph(d,l);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:m},navigationType:r}},[l,d,h,f,p,m,r]);return y==null?null:S.createElement(os.Provider,{value:u},S.createElement(Ul.Provider,{children:n,value:y}))}function E_(t){let{children:e,location:n}=t;return h_(Zu(e),n)}new Promise(()=>{});function Zu(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(s,r)=>{if(!S.isValidElement(s))return;let i=[...e,r];if(s.type===S.Fragment){n.push.apply(n,Zu(s.props.children,i));return}s.type!==Ye&&Ne(!1),!s.props.index||!s.props.children||Ne(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Zu(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ed.apply(this,arguments)}function P_(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function R_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function T_(t,e){return t.button===0&&(!e||e==="_self")&&!R_(t)}function td(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function O_(t,e){let n=td(t);return e&&e.forEach((s,r)=>{n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)})}),n}const M_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],A_="6";try{window.__reactRouterVersion=A_}catch{}const L_="startTransition",Np=kb[L_];function D_(t){let{basename:e,children:n,future:s,window:r}=t,i=S.useRef();i.current==null&&(i.current=Dw({window:r,v5Compat:!0}));let o=i.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=S.useCallback(h=>{u&&Np?Np(()=>l(h)):l(h)},[l,u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.useEffect(()=>j_(s),[s]),S.createElement(C_,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:s})}const F_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,se=S.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=P_(e,M_),{basename:p}=S.useContext(os),m,y=!1;if(typeof u=="string"&&I_.test(u)&&(m=u,F_))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=Ph(_.pathname,p);_.origin===b.origin&&w!=null?u=w+_.search+_.hash:y=!0}catch{}let v=l_(u,{relative:r}),g=z_(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:h});function x(b){s&&s(b),b.defaultPrevented||g(b)}return S.createElement("a",ed({},f,{href:m||v,onClick:y||i?s:x,ref:n,target:l}))});var Cp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Cp||(Cp={}));var Ep;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ep||(Ep={}));function z_(t,e){let{target:n,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Bt(),u=Pr(),d=Zy(t,{relative:o});return S.useCallback(h=>{if(T_(h,n)){h.preventDefault();let f=s!==void 0?s:sl(u)===sl(d);l(t,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,s,r,n,t,i,o,a])}function s0(t){let e=S.useRef(td(t)),n=S.useRef(!1),s=Pr(),r=S.useMemo(()=>O_(s.search,n.current?null:e.current),[s.search]),i=Bt(),o=S.useCallback((a,l)=>{const u=td(typeof a=="function"?a(r):a);n.current=!0,i("?"+u,l)},[i,r]);return[r,o]}function nd(t,e){return nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},nd(t,e)}function Rr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nd(t,e)}var Tr=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(s){var r=this,i=s||function(){};return this.listeners.push(i),this.onSubscribe(),function(){r.listeners=r.listeners.filter(function(o){return o!==i}),r.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Y.apply(null,arguments)}var il=typeof window>"u";function Fe(){}function B_(t,e){return typeof t=="function"?t(e):t}function sd(t){return typeof t=="number"&&t>=0&&t!==1/0}function ol(t){return Array.isArray(t)?t:[t]}function r0(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ha(t,e,n){return oo(t)?typeof e=="function"?Y({},n,{queryKey:t,queryFn:e}):Y({},e,{queryKey:t}):t}function U_(t,e,n){return oo(t)?typeof e=="function"?Y({},n,{mutationKey:t,mutationFn:e}):Y({},e,{mutationKey:t}):typeof t=="function"?Y({},e,{mutationFn:t}):Y({},t)}function Pn(t,e,n){return oo(t)?[Y({},e,{queryKey:t}),n]:[t||{},e]}function $_(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function Pp(t,e){var n=t.active,s=t.exact,r=t.fetching,i=t.inactive,o=t.predicate,a=t.queryKey,l=t.stale;if(oo(a)){if(s){if(e.queryHash!==Mh(a,e.options))return!1}else if(!al(e.queryKey,a))return!1}var u=$_(n,i);if(u==="none")return!1;if(u!=="all"){var d=e.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof r=="boolean"&&e.isFetching()!==r||o&&!o(e))}function Rp(t,e){var n=t.exact,s=t.fetching,r=t.predicate,i=t.mutationKey;if(oo(i)){if(!e.options.mutationKey)return!1;if(n){if(_s(e.options.mutationKey)!==_s(i))return!1}else if(!al(e.options.mutationKey,i))return!1}return!(typeof s=="boolean"&&e.state.status==="loading"!==s||r&&!r(e))}function Mh(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||_s;return n(t)}function _s(t){var e=ol(t);return V_(e)}function V_(t){return JSON.stringify(t,function(e,n){return rd(n)?Object.keys(n).sort().reduce(function(s,r){return s[r]=n[r],s},{}):n})}function al(t,e){return i0(ol(t),ol(e))}function i0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!i0(t[n],e[n])}):!1}function ll(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||rd(t)&&rd(e)){for(var s=n?t.length:Object.keys(t).length,r=n?e:Object.keys(e),i=r.length,o=n?[]:{},a=0,l=0;l<i;l++){var u=n?l:r[l];o[u]=ll(t[u],e[u]),o[u]===t[u]&&a++}return s===i&&a===s?t:o}return e}function H_(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function rd(t){if(!Tp(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!Tp(n)||!n.hasOwnProperty("isPrototypeOf"))}function Tp(t){return Object.prototype.toString.call(t)==="[object Object]"}function oo(t){return typeof t=="string"||Array.isArray(t)}function W_(t){return new Promise(function(e){setTimeout(e,t)})}function Op(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function o0(){if(typeof AbortController=="function")return new AbortController}var q_=function(t){Rr(e,t);function e(){var s;return s=t.call(this)||this,s.setup=function(r){var i;if(!il&&((i=window)!=null&&i.addEventListener)){var o=function(){return r()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},s}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var r;(r=this.cleanup)==null||r.call(this),this.cleanup=void 0}},n.setEventListener=function(r){var i,o=this;this.setup=r,(i=this.cleanup)==null||i.call(this),this.cleanup=r(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(r){this.focused=r,r&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(r){r()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Tr),xi=new q_,Q_=function(t){Rr(e,t);function e(){var s;return s=t.call(this)||this,s.setup=function(r){var i;if(!il&&((i=window)!=null&&i.addEventListener)){var o=function(){return r()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},s}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var r;(r=this.cleanup)==null||r.call(this),this.cleanup=void 0}},n.setEventListener=function(r){var i,o=this;this.setup=r,(i=this.cleanup)==null||i.call(this),this.cleanup=r(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(r){this.online=r,r&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(r){r()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Tr),fa=new Q_;function K_(t){return Math.min(1e3*Math.pow(2,t),3e4)}function cl(t){return typeof(t==null?void 0:t.cancel)=="function"}var a0=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function pa(t){return t instanceof a0}var l0=function(e){var n=this,s=!1,r,i,o,a;this.abort=e.abort,this.cancel=function(f){return r==null?void 0:r(f)},this.cancelRetry=function(){s=!0},this.continueRetry=function(){s=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(f,p){o=f,a=p});var l=function(p){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(p),i==null||i(),o(p))},u=function(p){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(p),i==null||i(),a(p))},d=function(){return new Promise(function(p){i=p,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){i=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},h=function f(){if(!n.isResolved){var p;try{p=e.fn()}catch(m){p=Promise.reject(m)}r=function(y){if(!n.isResolved&&(u(new a0(y)),n.abort==null||n.abort(),cl(p)))try{p.cancel()}catch{}},n.isTransportCancelable=cl(p),Promise.resolve(p).then(l).catch(function(m){var y,v;if(!n.isResolved){var g=(y=e.retry)!=null?y:3,x=(v=e.retryDelay)!=null?v:K_,b=typeof x=="function"?x(n.failureCount,m):x,_=g===!0||typeof g=="number"&&n.failureCount<g||typeof g=="function"&&g(n.failureCount,m);if(s||!_){u(m);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,m),W_(b).then(function(){if(!xi.isFocused()||!fa.isOnline())return d()}).then(function(){s?u(m):f()})}})}};h()},Y_=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(s){var r;this.transactions++;try{r=s()}finally{this.transactions--,this.transactions||this.flush()}return r},e.schedule=function(s){var r=this;this.transactions?this.queue.push(s):Op(function(){r.notifyFn(s)})},e.batchCalls=function(s){var r=this;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];r.schedule(function(){s.apply(void 0,o)})}},e.flush=function(){var s=this,r=this.queue;this.queue=[],r.length&&Op(function(){s.batchNotifyFn(function(){r.forEach(function(i){s.notifyFn(i)})})})},e.setNotifyFunction=function(s){this.notifyFn=s},e.setBatchNotifyFunction=function(s){this.batchNotifyFn=s},t}(),fe=new Y_,c0=console;function ul(){return c0}function X_(t){c0=t}var G_=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(s){var r;this.options=Y({},this.defaultOptions,s),this.meta=s==null?void 0:s.meta,this.cacheTime=Math.max(this.cacheTime||0,(r=this.options.cacheTime)!=null?r:5*60*1e3)},e.setDefaultOptions=function(s){this.defaultOptions=s},e.scheduleGc=function(){var s=this;this.clearGcTimeout(),sd(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){s.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(s,r){var i,o,a=this.state.data,l=B_(s,a);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,a,l)?l=a:this.options.structuralSharing!==!1&&(l=ll(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt}),l},e.setState=function(s,r){this.dispatch({type:"setState",state:s,setStateOptions:r})},e.cancel=function(s){var r,i=this.promise;return(r=this.retryer)==null||r.cancel(s),i?i.then(Fe).catch(Fe):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(s){return s.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(s){return s.getCurrentResult().isStale})},e.isStaleByTime=function(s){return s===void 0&&(s=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!r0(this.state.dataUpdatedAt,s)},e.onFocus=function(){var s,r=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});r&&r.refetch(),(s=this.retryer)==null||s.continue()},e.onOnline=function(){var s,r=this.observers.find(function(i){return i.shouldFetchOnReconnect()});r&&r.refetch(),(s=this.retryer)==null||s.continue()},e.addObserver=function(s){this.observers.indexOf(s)===-1&&(this.observers.push(s),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:s}))},e.removeObserver=function(s){this.observers.indexOf(s)!==-1&&(this.observers=this.observers.filter(function(r){return r!==s}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:s}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(s,r){var i=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(s&&this.setOptions(s),!this.options.queryFn){var d=this.observers.find(function(x){return x.options.queryFn});d&&this.setOptions(d.options)}var h=ol(this.queryKey),f=o0(),p={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(p,"signal",{enumerable:!0,get:function(){if(f)return i.abortSignalConsumed=!0,f.signal}});var m=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(p)):Promise.reject("Missing queryFn")},y={fetchOptions:r,options:this.options,queryKey:h,state:this.state,fetchFn:m,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var v;(v=this.options.behavior)==null||v.onFetch(y)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=y.fetchOptions)==null?void 0:a.meta)){var g;this.dispatch({type:"fetch",meta:(g=y.fetchOptions)==null?void 0:g.meta})}return this.retryer=new l0({fn:y.fetchFn,abort:f==null||(l=f.abort)==null?void 0:l.bind(f),onSuccess:function(b){i.setData(b),i.cache.config.onSuccess==null||i.cache.config.onSuccess(b,i),i.cacheTime===0&&i.optionalRemove()},onError:function(b){pa(b)&&b.silent||i.dispatch({type:"error",error:b}),pa(b)||(i.cache.config.onError==null||i.cache.config.onError(b,i),ul().error(b)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(s){var r=this;this.state=this.reducer(this.state,s),fe.batch(function(){r.observers.forEach(function(i){i.onQueryUpdate(s)}),r.cache.notify({query:r,type:"queryUpdated",action:s})})},e.getDefaultState=function(s){var r=typeof s.initialData=="function"?s.initialData():s.initialData,i=typeof s.initialData<"u",o=i?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0,a=typeof r<"u";return{data:r,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(s,r){var i,o;switch(r.type){case"failed":return Y({},s,{fetchFailureCount:s.fetchFailureCount+1});case"pause":return Y({},s,{isPaused:!0});case"continue":return Y({},s,{isPaused:!1});case"fetch":return Y({},s,{fetchFailureCount:0,fetchMeta:(i=r.meta)!=null?i:null,isFetching:!0,isPaused:!1},!s.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Y({},s,{data:r.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(o=r.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=r.error;return pa(a)&&a.revert&&this.revertState?Y({},this.revertState):Y({},s,{error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Y({},s,{isInvalidated:!0});case"setState":return Y({},s,r.state);default:return s}},t}(),J_=function(t){Rr(e,t);function e(s){var r;return r=t.call(this)||this,r.config=s||{},r.queries=[],r.queriesMap={},r}var n=e.prototype;return n.build=function(r,i,o){var a,l=i.queryKey,u=(a=i.queryHash)!=null?a:Mh(l,i),d=this.get(u);return d||(d=new G_({cache:this,queryKey:l,queryHash:u,options:r.defaultQueryOptions(i),state:o,defaultOptions:r.getQueryDefaults(l),meta:i.meta}),this.add(d)),d},n.add=function(r){this.queriesMap[r.queryHash]||(this.queriesMap[r.queryHash]=r,this.queries.push(r),this.notify({type:"queryAdded",query:r}))},n.remove=function(r){var i=this.queriesMap[r.queryHash];i&&(r.destroy(),this.queries=this.queries.filter(function(o){return o!==r}),i===r&&delete this.queriesMap[r.queryHash],this.notify({type:"queryRemoved",query:r}))},n.clear=function(){var r=this;fe.batch(function(){r.queries.forEach(function(i){r.remove(i)})})},n.get=function(r){return this.queriesMap[r]},n.getAll=function(){return this.queries},n.find=function(r,i){var o=Pn(r,i),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(l){return Pp(a,l)})},n.findAll=function(r,i){var o=Pn(r,i),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return Pp(a,l)}):this.queries},n.notify=function(r){var i=this;fe.batch(function(){i.listeners.forEach(function(o){o(r)})})},n.onFocus=function(){var r=this;fe.batch(function(){r.queries.forEach(function(i){i.onFocus()})})},n.onOnline=function(){var r=this;fe.batch(function(){r.queries.forEach(function(i){i.onOnline()})})},e}(Tr),Z_=function(){function t(n){this.options=Y({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||u0(),this.meta=n.meta}var e=t.prototype;return e.setState=function(s){this.dispatch({type:"setState",state:s})},e.addObserver=function(s){this.observers.indexOf(s)===-1&&this.observers.push(s)},e.removeObserver=function(s){this.observers=this.observers.filter(function(r){return r!==s})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Fe).catch(Fe)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var s=this,r,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){s.mutationCache.config.onMutate==null||s.mutationCache.config.onMutate(s.state.variables,s)}).then(function(){return s.options.onMutate==null?void 0:s.options.onMutate(s.state.variables)}).then(function(a){a!==s.state.context&&s.dispatch({type:"loading",context:a,variables:s.state.variables})})),o.then(function(){return s.executeMutation()}).then(function(a){r=a,s.mutationCache.config.onSuccess==null||s.mutationCache.config.onSuccess(r,s.state.variables,s.state.context,s)}).then(function(){return s.options.onSuccess==null?void 0:s.options.onSuccess(r,s.state.variables,s.state.context)}).then(function(){return s.options.onSettled==null?void 0:s.options.onSettled(r,null,s.state.variables,s.state.context)}).then(function(){return s.dispatch({type:"success",data:r}),r}).catch(function(a){return s.mutationCache.config.onError==null||s.mutationCache.config.onError(a,s.state.variables,s.state.context,s),ul().error(a),Promise.resolve().then(function(){return s.options.onError==null?void 0:s.options.onError(a,s.state.variables,s.state.context)}).then(function(){return s.options.onSettled==null?void 0:s.options.onSettled(void 0,a,s.state.variables,s.state.context)}).then(function(){throw s.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var s=this,r;return this.retryer=new l0({fn:function(){return s.options.mutationFn?s.options.mutationFn(s.state.variables):Promise.reject("No mutationFn found")},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:(r=this.options.retry)!=null?r:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(s){var r=this;this.state=e2(this.state,s),fe.batch(function(){r.observers.forEach(function(i){i.onMutationUpdate(s)}),r.mutationCache.notify(r)})},t}();function u0(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function e2(t,e){switch(e.type){case"failed":return Y({},t,{failureCount:t.failureCount+1});case"pause":return Y({},t,{isPaused:!0});case"continue":return Y({},t,{isPaused:!1});case"loading":return Y({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Y({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Y({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Y({},t,e.state);default:return t}}var t2=function(t){Rr(e,t);function e(s){var r;return r=t.call(this)||this,r.config=s||{},r.mutations=[],r.mutationId=0,r}var n=e.prototype;return n.build=function(r,i,o){var a=new Z_({mutationCache:this,mutationId:++this.mutationId,options:r.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?r.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(a),a},n.add=function(r){this.mutations.push(r),this.notify(r)},n.remove=function(r){this.mutations=this.mutations.filter(function(i){return i!==r}),r.cancel(),this.notify(r)},n.clear=function(){var r=this;fe.batch(function(){r.mutations.forEach(function(i){r.remove(i)})})},n.getAll=function(){return this.mutations},n.find=function(r){return typeof r.exact>"u"&&(r.exact=!0),this.mutations.find(function(i){return Rp(r,i)})},n.findAll=function(r){return this.mutations.filter(function(i){return Rp(r,i)})},n.notify=function(r){var i=this;fe.batch(function(){i.listeners.forEach(function(o){o(r)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var r=this.mutations.filter(function(i){return i.state.isPaused});return fe.batch(function(){return r.reduce(function(i,o){return i.then(function(){return o.continue().catch(Fe)})},Promise.resolve())})},e}(Tr);function n2(){return{onFetch:function(e){e.fetchFn=function(){var n,s,r,i,o,a,l=(n=e.fetchOptions)==null||(s=n.meta)==null?void 0:s.refetchPage,u=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,d=u==null?void 0:u.pageParam,h=(u==null?void 0:u.direction)==="forward",f=(u==null?void 0:u.direction)==="backward",p=((o=e.state.data)==null?void 0:o.pages)||[],m=((a=e.state.data)==null?void 0:a.pageParams)||[],y=o0(),v=y==null?void 0:y.signal,g=m,x=!1,b=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},_=function($,V,H,G){return g=G?[V].concat(g):[].concat(g,[V]),G?[H].concat($):[].concat($,[H])},w=function($,V,H,G){if(x)return Promise.reject("Cancelled");if(typeof H>"u"&&!V&&$.length)return Promise.resolve($);var T={queryKey:e.queryKey,signal:v,pageParam:H,meta:e.meta},M=b(T),I=Promise.resolve(M).then(function(z){return _($,H,z,G)});if(cl(M)){var ee=I;ee.cancel=M.cancel}return I},k;if(!p.length)k=w([]);else if(h){var j=typeof d<"u",N=j?d:Mp(e.options,p);k=w(p,j,N)}else if(f){var P=typeof d<"u",E=P?d:s2(e.options,p);k=w(p,P,E,!0)}else(function(){g=[];var U=typeof e.options.getNextPageParam>"u",$=l&&p[0]?l(p[0],0,p):!0;k=$?w([],U,m[0]):Promise.resolve(_([],m[0],p[0]));for(var V=function(T){k=k.then(function(M){var I=l&&p[T]?l(p[T],T,p):!0;if(I){var ee=U?m[T]:Mp(e.options,M);return w(M,U,ee)}return Promise.resolve(_(M,m[T],p[T]))})},H=1;H<p.length;H++)V(H)})();var O=k.then(function(U){return{pages:U,pageParams:g}}),F=O;return F.cancel=function(){x=!0,y==null||y.abort(),cl(k)&&k.cancel()},O}}}}function Mp(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function s2(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var r2=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new J_,this.mutationCache=n.mutationCache||new t2,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var s=this;this.unsubscribeFocus=xi.subscribe(function(){xi.isFocused()&&fa.isOnline()&&(s.mutationCache.onFocus(),s.queryCache.onFocus())}),this.unsubscribeOnline=fa.subscribe(function(){xi.isFocused()&&fa.isOnline()&&(s.mutationCache.onOnline(),s.queryCache.onOnline())})},e.unmount=function(){var s,r;(s=this.unsubscribeFocus)==null||s.call(this),(r=this.unsubscribeOnline)==null||r.call(this)},e.isFetching=function(s,r){var i=Pn(s,r),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(s){return this.mutationCache.findAll(Y({},s,{fetching:!0})).length},e.getQueryData=function(s,r){var i;return(i=this.queryCache.find(s,r))==null?void 0:i.state.data},e.getQueriesData=function(s){return this.getQueryCache().findAll(s).map(function(r){var i=r.queryKey,o=r.state,a=o.data;return[i,a]})},e.setQueryData=function(s,r,i){var o=ha(s),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(r,i)},e.setQueriesData=function(s,r,i){var o=this;return fe.batch(function(){return o.getQueryCache().findAll(s).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,r,i)]})})},e.getQueryState=function(s,r){var i;return(i=this.queryCache.find(s,r))==null?void 0:i.state},e.removeQueries=function(s,r){var i=Pn(s,r),o=i[0],a=this.queryCache;fe.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},e.resetQueries=function(s,r,i){var o=this,a=Pn(s,r,i),l=a[0],u=a[1],d=this.queryCache,h=Y({},l,{active:!0});return fe.batch(function(){return d.findAll(l).forEach(function(f){f.reset()}),o.refetchQueries(h,u)})},e.cancelQueries=function(s,r,i){var o=this,a=Pn(s,r,i),l=a[0],u=a[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var h=fe.batch(function(){return o.queryCache.findAll(l).map(function(f){return f.cancel(d)})});return Promise.all(h).then(Fe).catch(Fe)},e.invalidateQueries=function(s,r,i){var o,a,l,u=this,d=Pn(s,r,i),h=d[0],f=d[1],p=Y({},h,{active:(o=(a=h.refetchActive)!=null?a:h.active)!=null?o:!0,inactive:(l=h.refetchInactive)!=null?l:!1});return fe.batch(function(){return u.queryCache.findAll(h).forEach(function(m){m.invalidate()}),u.refetchQueries(p,f)})},e.refetchQueries=function(s,r,i){var o=this,a=Pn(s,r,i),l=a[0],u=a[1],d=fe.batch(function(){return o.queryCache.findAll(l).map(function(f){return f.fetch(void 0,Y({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),h=Promise.all(d).then(Fe);return u!=null&&u.throwOnError||(h=h.catch(Fe)),h},e.fetchQuery=function(s,r,i){var o=ha(s,r,i),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(s,r,i){return this.fetchQuery(s,r,i).then(Fe).catch(Fe)},e.fetchInfiniteQuery=function(s,r,i){var o=ha(s,r,i);return o.behavior=n2(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(s,r,i){return this.fetchInfiniteQuery(s,r,i).then(Fe).catch(Fe)},e.cancelMutations=function(){var s=this,r=fe.batch(function(){return s.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(r).then(Fe).catch(Fe)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(s){return this.mutationCache.build(this,s).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(s){this.defaultOptions=s},e.setQueryDefaults=function(s,r){var i=this.queryDefaults.find(function(o){return _s(s)===_s(o.queryKey)});i?i.defaultOptions=r:this.queryDefaults.push({queryKey:s,defaultOptions:r})},e.getQueryDefaults=function(s){var r;return s?(r=this.queryDefaults.find(function(i){return al(s,i.queryKey)}))==null?void 0:r.defaultOptions:void 0},e.setMutationDefaults=function(s,r){var i=this.mutationDefaults.find(function(o){return _s(s)===_s(o.mutationKey)});i?i.defaultOptions=r:this.mutationDefaults.push({mutationKey:s,defaultOptions:r})},e.getMutationDefaults=function(s){var r;return s?(r=this.mutationDefaults.find(function(i){return al(s,i.mutationKey)}))==null?void 0:r.defaultOptions:void 0},e.defaultQueryOptions=function(s){if(s!=null&&s._defaulted)return s;var r=Y({},this.defaultOptions.queries,this.getQueryDefaults(s==null?void 0:s.queryKey),s,{_defaulted:!0});return!r.queryHash&&r.queryKey&&(r.queryHash=Mh(r.queryKey,r)),r},e.defaultQueryObserverOptions=function(s){return this.defaultQueryOptions(s)},e.defaultMutationOptions=function(s){return s!=null&&s._defaulted?s:Y({},this.defaultOptions.mutations,this.getMutationDefaults(s==null?void 0:s.mutationKey),s,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),i2=function(t){Rr(e,t);function e(s,r){var i;return i=t.call(this)||this,i.client=s,i.options=r,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(r),i}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Ap(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return id(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return id(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(r,i){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(r),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&Lp(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(i),l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(r){var i=this.client.defaultQueryObserverOptions(r),o=this.client.getQueryCache().build(this.client,i);return this.createResult(o,i)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(r,i){var o=this,a={},l=function(d){o.trackedProps.includes(d)||o.trackedProps.push(d)};return Object.keys(r).forEach(function(u){Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:function(){return l(u),r[u]}})}),(i.useErrorBoundary||i.suspense)&&l("error"),a},n.getNextResult=function(r){var i=this;return new Promise(function(o,a){var l=i.subscribe(function(u){u.isFetching||(l(),u.isError&&(r!=null&&r.throwOnError)?a(u.error):o(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(r){return this.fetch(Y({},r,{meta:{refetchPage:r==null?void 0:r.refetchPage}}))},n.fetchOptimistic=function(r){var i=this,o=this.client.defaultQueryObserverOptions(r),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return i.createResult(a,o)})},n.fetch=function(r){var i=this;return this.executeFetch(r).then(function(){return i.updateResult(),i.currentResult})},n.executeFetch=function(r){this.updateQuery();var i=this.currentQuery.fetch(this.options,r);return r!=null&&r.throwOnError||(i=i.catch(Fe)),i},n.updateStaleTimeout=function(){var r=this;if(this.clearStaleTimeout(),!(il||this.currentResult.isStale||!sd(this.options.staleTime))){var i=r0(this.currentResult.dataUpdatedAt,this.options.staleTime),o=i+1;this.staleTimeoutId=setTimeout(function(){r.currentResult.isStale||r.updateResult()},o)}},n.computeRefetchInterval=function(){var r;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(r=this.options.refetchInterval)!=null?r:!1},n.updateRefetchInterval=function(r){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=r,!(il||this.options.enabled===!1||!sd(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||xi.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(r,i){var o=this.currentQuery,a=this.options,l=this.currentResult,u=this.currentResultState,d=this.currentResultOptions,h=r!==o,f=h?r.state:this.currentQueryInitialState,p=h?this.currentResult:this.previousQueryResult,m=r.state,y=m.dataUpdatedAt,v=m.error,g=m.errorUpdatedAt,x=m.isFetching,b=m.status,_=!1,w=!1,k;if(i.optimisticResults){var j=this.hasListeners(),N=!j&&Ap(r,i),P=j&&Lp(r,o,i,a);(N||P)&&(x=!0,y||(b="loading"))}if(i.keepPreviousData&&!m.dataUpdateCount&&(p!=null&&p.isSuccess)&&b!=="error")k=p.data,y=p.dataUpdatedAt,b=p.status,_=!0;else if(i.select&&typeof m.data<"u")if(l&&m.data===(u==null?void 0:u.data)&&i.select===this.selectFn)k=this.selectResult;else try{this.selectFn=i.select,k=i.select(m.data),i.structuralSharing!==!1&&(k=ll(l==null?void 0:l.data,k)),this.selectResult=k,this.selectError=null}catch(F){ul().error(F),this.selectError=F}else k=m.data;if(typeof i.placeholderData<"u"&&typeof k>"u"&&(b==="loading"||b==="idle")){var E;if(l!=null&&l.isPlaceholderData&&i.placeholderData===(d==null?void 0:d.placeholderData))E=l.data;else if(E=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof E<"u")try{E=i.select(E),i.structuralSharing!==!1&&(E=ll(l==null?void 0:l.data,E)),this.selectError=null}catch(F){ul().error(F),this.selectError=F}typeof E<"u"&&(b="success",k=E,w=!0)}this.selectError&&(v=this.selectError,k=this.selectResult,g=Date.now(),b="error");var O={status:b,isLoading:b==="loading",isSuccess:b==="success",isError:b==="error",isIdle:b==="idle",data:k,dataUpdatedAt:y,error:v,errorUpdatedAt:g,failureCount:m.fetchFailureCount,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:x,isRefetching:x&&b!=="loading",isLoadingError:b==="error"&&m.dataUpdatedAt===0,isPlaceholderData:w,isPreviousData:_,isRefetchError:b==="error"&&m.dataUpdatedAt!==0,isStale:Ah(r,i),refetch:this.refetch,remove:this.remove};return O},n.shouldNotifyListeners=function(r,i){if(!i)return!0;var o=this.options,a=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var u=a==="tracked"?this.trackedProps:a;return Object.keys(r).some(function(d){var h=d,f=r[h]!==i[h],p=u==null?void 0:u.some(function(y){return y===d}),m=l==null?void 0:l.some(function(y){return y===d});return f&&!m&&(!u||p)})},n.updateResult=function(r){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!H_(this.currentResult,i)){var o={cache:!0};(r==null?void 0:r.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(o.listeners=!0),this.notify(Y({},o,r))}},n.updateQuery=function(){var r=this.client.getQueryCache().build(this.client,this.options);if(r!==this.currentQuery){var i=this.currentQuery;this.currentQuery=r,this.currentQueryInitialState=r.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),r.addObserver(this))}},n.onQueryUpdate=function(r){var i={};r.type==="success"?i.onSuccess=!0:r.type==="error"&&!pa(r.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},n.notify=function(r){var i=this;fe.batch(function(){r.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):r.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),r.listeners&&i.listeners.forEach(function(o){o(i.currentResult)}),r.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},e}(Tr);function o2(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ap(t,e){return o2(t,e)||t.state.dataUpdatedAt>0&&id(t,e,e.refetchOnMount)}function id(t,e,n){if(e.enabled!==!1){var s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&Ah(t,e)}return!1}function Lp(t,e,n,s){return n.enabled!==!1&&(t!==e||s.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Ah(t,n)}function Ah(t,e){return t.isStaleByTime(e.staleTime)}var a2=function(t){Rr(e,t);function e(s,r){var i;return i=t.call(this)||this,i.client=s,i.setOptions(r),i.bindMethods(),i.updateResult(),i}var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(r){this.options=this.client.defaultMutationOptions(r)},n.onUnsubscribe=function(){if(!this.listeners.length){var r;(r=this.currentMutation)==null||r.removeObserver(this)}},n.onMutationUpdate=function(r){this.updateResult();var i={listeners:!0};r.type==="success"?i.onSuccess=!0:r.type==="error"&&(i.onError=!0),this.notify(i)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(r,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Y({},this.options,{variables:typeof r<"u"?r:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var r=this.currentMutation?this.currentMutation.state:u0(),i=Y({},r,{isLoading:r.status==="loading",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},n.notify=function(r){var i=this;fe.batch(function(){i.mutateOptions&&(r.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):r.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),r.listeners&&i.listeners.forEach(function(o){o(i.currentResult)})})},e}(Tr),l2=Lw.unstable_batchedUpdates;fe.setBatchNotifyFunction(l2);var c2=console;X_(c2);var Dp=me.createContext(void 0),d0=me.createContext(!1);function h0(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Dp),window.ReactQueryClientContext):Dp}var ao=function(){var e=me.useContext(h0(me.useContext(d0)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},u2=function(e){var n=e.client,s=e.contextSharing,r=s===void 0?!1:s,i=e.children;me.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=h0(r);return me.createElement(d0.Provider,{value:r},me.createElement(o.Provider,{value:n},i))};function d2(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var h2=me.createContext(d2()),f2=function(){return me.useContext(h2)};function f0(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function Ot(t,e,n){var s=me.useRef(!1),r=me.useState(0),i=r[1],o=U_(t,e,n),a=ao(),l=me.useRef();l.current?l.current.setOptions(o):l.current=new a2(a,o);var u=l.current.getCurrentResult();me.useEffect(function(){s.current=!0;var h=l.current.subscribe(fe.batchCalls(function(){s.current&&i(function(f){return f+1})}));return function(){s.current=!1,h()}},[]);var d=me.useCallback(function(h,f){l.current.mutate(h,f).catch(Fe)},[]);if(u.error&&f0(void 0,l.current.options.useErrorBoundary,[u.error]))throw u.error;return Y({},u,{mutate:d,mutateAsync:u.mutate})}function p2(t,e){var n=me.useRef(!1),s=me.useState(0),r=s[1],i=ao(),o=f2(),a=i.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=fe.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=fe.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=fe.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var l=me.useState(function(){return new e(i,a)}),u=l[0],d=u.getOptimisticResult(a);if(me.useEffect(function(){n.current=!0,o.clearReset();var h=u.subscribe(fe.batchCalls(function(){n.current&&r(function(f){return f+1})}));return u.updateResult(),function(){n.current=!1,h()}},[o,u]),me.useEffect(function(){u.setOptions(a,{listeners:!1})},[a,u]),a.suspense&&d.isLoading)throw u.fetchOptimistic(a).then(function(h){var f=h.data;a.onSuccess==null||a.onSuccess(f),a.onSettled==null||a.onSettled(f,null)}).catch(function(h){o.clearReset(),a.onError==null||a.onError(h),a.onSettled==null||a.onSettled(void 0,h)});if(d.isError&&!o.isReset()&&!d.isFetching&&f0(a.suspense,a.useErrorBoundary,[d.error,u.getCurrentQuery()]))throw d.error;return a.notifyOnChangeProps==="tracked"&&(d=u.trackResult(d,a)),d}function Kt(t,e,n){var s=ha(t,e,n);return p2(s,i2)}let m2={data:""},g2=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||m2,x2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,y2=/\/\*[^]*?\*\/|  +/g,Fp=/\n+/g,On=(t,e)=>{let n="",s="",r="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":s+=i[1]=="f"?On(o,i):i+"{"+On(o,i[1]=="k"?"":e)+"}":typeof o=="object"?s+=On(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=On.p?On.p(i,o):i+":"+o+";")}return n+(e&&r?e+"{"+r+"}":r)+s},sn={},p0=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+p0(t[n]);return e}return t},v2=(t,e,n,s,r)=>{let i=p0(t),o=sn[i]||(sn[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!sn[o]){let l=i!==t?t:(u=>{let d,h,f=[{}];for(;d=x2.exec(u.replace(y2,""));)d[4]?f.shift():d[3]?(h=d[3].replace(Fp," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(Fp," ").trim();return f[0]})(t);sn[o]=On(r?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&sn.g?sn.g:null;return n&&(sn.g=sn[o]),((l,u,d,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(sn[o],e,s,a),o},b2=(t,e,n)=>t.reduce((s,r,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":On(a,""):a===!1?"":a}return s+r+(o??"")},"");function $l(t){let e=this||{},n=t.call?t(e.p):t;return v2(n.unshift?n.raw?b2(n,[].slice.call(arguments,1),e.p):n.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):n,g2(e.target),e.g,e.o,e.k)}let m0,od,ad;$l.bind({g:1});let _n=$l.bind({k:1});function w2(t,e,n,s){On.p=e,m0=t,od=n,ad=s}function as(t,e){let n=this||{};return function(){let s=arguments;function r(i,o){let a=Object.assign({},i),l=a.className||r.className;n.p=Object.assign({theme:od&&od()},a),n.o=/ *go\d+/.test(l),a.className=$l.apply(n,s)+(l?" "+l:""),e&&(a.ref=o);let u=t;return t[0]&&(u=a.as||t,delete a.as),ad&&u[0]&&ad(a),m0(u,a)}return e?e(r):r}}var _2=t=>typeof t=="function",dl=(t,e)=>_2(t)?t(e):t,S2=(()=>{let t=0;return()=>(++t).toString()})(),g0=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),k2=20,Lh="default",x0=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:s}=e;return x0(t,{type:t.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},ma=[],y0={toasts:[],pausedAt:void 0,settings:{toastLimit:k2}},Yt={},v0=(t,e=Lh)=>{Yt[e]=x0(Yt[e]||y0,t),ma.forEach(([n,s])=>{n===e&&s(Yt[e])})},b0=t=>Object.keys(Yt).forEach(e=>v0(t,e)),j2=t=>Object.keys(Yt).find(e=>Yt[e].toasts.some(n=>n.id===t)),Vl=(t=Lh)=>e=>{v0(e,t)},N2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},C2=(t={},e=Lh)=>{let[n,s]=S.useState(Yt[e]||y0),r=S.useRef(Yt[e]);S.useEffect(()=>(r.current!==Yt[e]&&s(Yt[e]),ma.push([e,s]),()=>{let o=ma.findIndex(([a])=>a===e);o>-1&&ma.splice(o,1)}),[e]);let i=n.toasts.map(o=>{var a,l,u;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((a=t[o.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((l=t[o.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||N2[o.type],style:{...t.style,...(u=t[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:i}},E2=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||S2()}),lo=t=>(e,n)=>{let s=E2(e,t,n);return Vl(s.toasterId||j2(s.id))({type:2,toast:s}),s.id},Te=(t,e)=>lo("blank")(t,e);Te.error=lo("error");Te.success=lo("success");Te.loading=lo("loading");Te.custom=lo("custom");Te.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Vl(e)(n):b0(n)};Te.dismissAll=t=>Te.dismiss(void 0,t);Te.remove=(t,e)=>{let n={type:4,toastId:t};e?Vl(e)(n):b0(n)};Te.removeAll=t=>Te.remove(void 0,t);Te.promise=(t,e,n)=>{let s=Te.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let i=e.success?dl(e.success,r):void 0;return i?Te.success(i,{id:s,...n,...n==null?void 0:n.success}):Te.dismiss(s),r}).catch(r=>{let i=e.error?dl(e.error,r):void 0;i?Te.error(i,{id:s,...n,...n==null?void 0:n.error}):Te.dismiss(s)}),t};var P2=1e3,R2=(t,e="default")=>{let{toasts:n,pausedAt:s}=C2(t,e),r=S.useRef(new Map).current,i=S.useCallback((h,f=P2)=>{if(r.has(h))return;let p=setTimeout(()=>{r.delete(h),o({type:4,toastId:h})},f);r.set(h,p)},[]);S.useEffect(()=>{if(s)return;let h=Date.now(),f=n.map(p=>{if(p.duration===1/0)return;let m=(p.duration||0)+p.pauseDuration-(h-p.createdAt);if(m<0){p.visible&&Te.dismiss(p.id);return}return setTimeout(()=>Te.dismiss(p.id,e),m)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[n,s,e]);let o=S.useCallback(Vl(e),[e]),a=S.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=S.useCallback((h,f)=>{o({type:1,toast:{id:h,height:f}})},[o]),u=S.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),d=S.useCallback((h,f)=>{let{reverseOrder:p=!1,gutter:m=8,defaultPosition:y}=f||{},v=n.filter(b=>(b.position||y)===(h.position||y)&&b.height),g=v.findIndex(b=>b.id===h.id),x=v.filter((b,_)=>_<g&&b.visible).length;return v.filter(b=>b.visible).slice(...p?[x+1]:[0,x]).reduce((b,_)=>b+(_.height||0)+m,0)},[n]);return S.useEffect(()=>{n.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let f=r.get(h.id);f&&(clearTimeout(f),r.delete(h.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:u,calculateOffset:d}}},T2=_n`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,O2=_n`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,M2=_n`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,A2=as("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${T2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${O2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${M2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,L2=_n`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,D2=as("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${L2} 1s linear infinite;
`,F2=_n`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,I2=_n`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,z2=as("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${F2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${I2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,B2=as("div")`
  position: absolute;
`,U2=as("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$2=_n`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,V2=as("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,H2=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?S.createElement(V2,null,e):e:n==="blank"?null:S.createElement(U2,null,S.createElement(D2,{...s}),n!=="loading"&&S.createElement(B2,null,n==="error"?S.createElement(A2,{...s}):S.createElement(z2,{...s})))},W2=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,q2=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Q2="0%{opacity:0;} 100%{opacity:1;}",K2="0%{opacity:1;} 100%{opacity:0;}",Y2=as("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,X2=as("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,G2=(t,e)=>{let n=t.includes("top")?1:-1,[s,r]=g0()?[Q2,K2]:[W2(n),q2(n)];return{animation:e?`${_n(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_n(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},J2=S.memo(({toast:t,position:e,style:n,children:s})=>{let r=t.height?G2(t.position||e||"top-center",t.visible):{opacity:0},i=S.createElement(H2,{toast:t}),o=S.createElement(X2,{...t.ariaProps},dl(t.message,t));return S.createElement(Y2,{className:t.className,style:{...r,...n,...t.style}},typeof s=="function"?s({icon:i,message:o}):S.createElement(S.Fragment,null,i,o))});w2(S.createElement);var Z2=({id:t,className:e,style:n,onHeightUpdate:s,children:r})=>{let i=S.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;s(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return S.createElement("div",{ref:i,className:e,style:n},r)},eS=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:g0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...r}},tS=$l`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ao=16,nS=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:r,toasterId:i,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:u}=R2(n,i);return S.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Ao,left:Ao,right:Ao,bottom:Ao,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(d=>{let h=d.position||e,f=u.calculateOffset(d,{reverseOrder:t,gutter:s,defaultPosition:e}),p=eS(h,f);return S.createElement(Z2,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?tS:"",style:p},d.type==="custom"?dl(d.message,d):r?r(d):S.createElement(J2,{toast:d,position:h}))}))},L=Te;function w0(t,e){return function(){return t.apply(e,arguments)}}const{toString:sS}=Object.prototype,{getPrototypeOf:Dh}=Object,{iterator:Hl,toStringTag:_0}=Symbol,Wl=(t=>e=>{const n=sS.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ut=t=>(t=t.toLowerCase(),e=>Wl(e)===t),ql=t=>e=>typeof e===t,{isArray:Or}=Array,Vi=ql("undefined");function co(t){return t!==null&&!Vi(t)&&t.constructor!==null&&!Vi(t.constructor)&&lt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const S0=Ut("ArrayBuffer");function rS(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&S0(t.buffer),e}const iS=ql("string"),lt=ql("function"),k0=ql("number"),uo=t=>t!==null&&typeof t=="object",oS=t=>t===!0||t===!1,ga=t=>{if(Wl(t)!=="object")return!1;const e=Dh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_0 in t)&&!(Hl in t)},aS=t=>{if(!uo(t)||co(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},lS=Ut("Date"),cS=Ut("File"),uS=Ut("Blob"),dS=Ut("FileList"),hS=t=>uo(t)&&lt(t.pipe),fS=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||lt(t.append)&&((e=Wl(t))==="formdata"||e==="object"&&lt(t.toString)&&t.toString()==="[object FormData]"))},pS=Ut("URLSearchParams"),[mS,gS,xS,yS]=["ReadableStream","Request","Response","Headers"].map(Ut),vS=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ho(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Or(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(co(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(s=0;s<o;s++)a=i[s],e.call(null,t[a],a,t)}}function j0(t,e){if(co(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const Ss=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),N0=t=>!Vi(t)&&t!==Ss;function ld(){const{caseless:t}=N0(this)&&this||{},e={},n=(s,r)=>{const i=t&&j0(e,r)||r;ga(e[i])&&ga(s)?e[i]=ld(e[i],s):ga(s)?e[i]=ld({},s):Or(s)?e[i]=s.slice():e[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&ho(arguments[s],n);return e}const bS=(t,e,n,{allOwnKeys:s}={})=>(ho(e,(r,i)=>{n&&lt(r)?t[i]=w0(r,n):t[i]=r},{allOwnKeys:s}),t),wS=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_S=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},SS=(t,e,n,s)=>{let r,i,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Dh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kS=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},jS=t=>{if(!t)return null;if(Or(t))return t;let e=t.length;if(!k0(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},NS=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Dh(Uint8Array)),CS=(t,e)=>{const s=(t&&t[Hl]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},ES=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},PS=Ut("HTMLFormElement"),RS=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Ip=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),TS=Ut("RegExp"),C0=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};ho(n,(r,i)=>{let o;(o=e(r,i,t))!==!1&&(s[i]=o||r)}),Object.defineProperties(t,s)},OS=t=>{C0(t,(e,n)=>{if(lt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(lt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},MS=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return Or(t)?s(t):s(String(t).split(e)),n},AS=()=>{},LS=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function DS(t){return!!(t&&lt(t.append)&&t[_0]==="FormData"&&t[Hl])}const FS=t=>{const e=new Array(10),n=(s,r)=>{if(uo(s)){if(e.indexOf(s)>=0)return;if(co(s))return s;if(!("toJSON"in s)){e[r]=s;const i=Or(s)?[]:{};return ho(s,(o,a)=>{const l=n(o,r+1);!Vi(l)&&(i[a]=l)}),e[r]=void 0,i}}return s};return n(t,0)},IS=Ut("AsyncFunction"),zS=t=>t&&(uo(t)||lt(t))&&lt(t.then)&&lt(t.catch),E0=((t,e)=>t?setImmediate:e?((n,s)=>(Ss.addEventListener("message",({source:r,data:i})=>{r===Ss&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Ss.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",lt(Ss.postMessage)),BS=typeof queueMicrotask<"u"?queueMicrotask.bind(Ss):typeof process<"u"&&process.nextTick||E0,US=t=>t!=null&&lt(t[Hl]),C={isArray:Or,isArrayBuffer:S0,isBuffer:co,isFormData:fS,isArrayBufferView:rS,isString:iS,isNumber:k0,isBoolean:oS,isObject:uo,isPlainObject:ga,isEmptyObject:aS,isReadableStream:mS,isRequest:gS,isResponse:xS,isHeaders:yS,isUndefined:Vi,isDate:lS,isFile:cS,isBlob:uS,isRegExp:TS,isFunction:lt,isStream:hS,isURLSearchParams:pS,isTypedArray:NS,isFileList:dS,forEach:ho,merge:ld,extend:bS,trim:vS,stripBOM:wS,inherits:_S,toFlatObject:SS,kindOf:Wl,kindOfTest:Ut,endsWith:kS,toArray:jS,forEachEntry:CS,matchAll:ES,isHTMLForm:PS,hasOwnProperty:Ip,hasOwnProp:Ip,reduceDescriptors:C0,freezeMethods:OS,toObjectSet:MS,toCamelCase:RS,noop:AS,toFiniteNumber:LS,findKey:j0,global:Ss,isContextDefined:N0,isSpecCompliantForm:DS,toJSONObject:FS,isAsyncFn:IS,isThenable:zS,setImmediate:E0,asap:BS,isIterable:US};function W(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}C.inherits(W,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.status}}});const P0=W.prototype,R0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{R0[t]={value:t}});Object.defineProperties(W,R0);Object.defineProperty(P0,"isAxiosError",{value:!0});W.from=(t,e,n,s,r,i)=>{const o=Object.create(P0);return C.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),W.call(o,t.message,e,n,s,r),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const $S=null;function cd(t){return C.isPlainObject(t)||C.isArray(t)}function T0(t){return C.endsWith(t,"[]")?t.slice(0,-2):t}function zp(t,e,n){return t?t.concat(e).map(function(r,i){return r=T0(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function VS(t){return C.isArray(t)&&!t.some(cd)}const HS=C.toFlatObject(C,{},null,function(e){return/^is[A-Z]/.test(e)});function Ql(t,e,n){if(!C.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!C.isUndefined(v[y])});const s=n.metaTokens,r=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(e);if(!C.isFunction(r))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(C.isDate(m))return m.toISOString();if(C.isBoolean(m))return m.toString();if(!l&&C.isBlob(m))throw new W("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(m)||C.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,v){let g=m;if(m&&!v&&typeof m=="object"){if(C.endsWith(y,"{}"))y=s?y:y.slice(0,-2),m=JSON.stringify(m);else if(C.isArray(m)&&VS(m)||(C.isFileList(m)||C.endsWith(y,"[]"))&&(g=C.toArray(m)))return y=T0(y),g.forEach(function(b,_){!(C.isUndefined(b)||b===null)&&e.append(o===!0?zp([y],_,i):o===null?y:y+"[]",u(b))}),!1}return cd(m)?!0:(e.append(zp(v,y,i),u(m)),!1)}const h=[],f=Object.assign(HS,{defaultVisitor:d,convertValue:u,isVisitable:cd});function p(m,y){if(!C.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),C.forEach(m,function(g,x){(!(C.isUndefined(g)||g===null)&&r.call(e,g,C.isString(x)?x.trim():x,y,f))===!0&&p(g,y?y.concat(x):[x])}),h.pop()}}if(!C.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Bp(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Fh(t,e){this._pairs=[],t&&Ql(t,this,e)}const O0=Fh.prototype;O0.append=function(e,n){this._pairs.push([e,n])};O0.toString=function(e){const n=e?function(s){return e.call(this,s,Bp)}:Bp;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function WS(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function M0(t,e,n){if(!e)return t;const s=n&&n.encode||WS;C.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(e,n):i=C.isURLSearchParams(e)?e.toString():new Fh(e,n).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class qS{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Up=qS,A0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QS=typeof URLSearchParams<"u"?URLSearchParams:Fh,KS=typeof FormData<"u"?FormData:null,YS=typeof Blob<"u"?Blob:null,XS={isBrowser:!0,classes:{URLSearchParams:QS,FormData:KS,Blob:YS},protocols:["http","https","file","blob","url","data"]},Ih=typeof window<"u"&&typeof document<"u",ud=typeof navigator=="object"&&navigator||void 0,GS=Ih&&(!ud||["ReactNative","NativeScript","NS"].indexOf(ud.product)<0),JS=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ZS=Ih&&window.location.href||"http://localhost",ek=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ih,hasStandardBrowserEnv:GS,hasStandardBrowserWebWorkerEnv:JS,navigator:ud,origin:ZS},Symbol.toStringTag,{value:"Module"})),We={...ek,...XS};function tk(t,e){return Ql(t,new We.classes.URLSearchParams,{visitor:function(n,s,r,i){return We.isNode&&C.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function nk(t){return C.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sk(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function L0(t){function e(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&C.isArray(r)?r.length:o,l?(C.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!C.isObject(r[o]))&&(r[o]=[]),e(n,s,r[o],i)&&C.isArray(r[o])&&(r[o]=sk(r[o])),!a)}if(C.isFormData(t)&&C.isFunction(t.entries)){const n={};return C.forEachEntry(t,(s,r)=>{e(nk(s),r,n,0)}),n}return null}function rk(t,e,n){if(C.isString(t))try{return(e||JSON.parse)(t),C.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const zh={transitional:A0,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=C.isObject(e);if(i&&C.isHTMLForm(e)&&(e=new FormData(e)),C.isFormData(e))return r?JSON.stringify(L0(e)):e;if(C.isArrayBuffer(e)||C.isBuffer(e)||C.isStream(e)||C.isFile(e)||C.isBlob(e)||C.isReadableStream(e))return e;if(C.isArrayBufferView(e))return e.buffer;if(C.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return tk(e,this.formSerializer).toString();if((a=C.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ql(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),rk(e)):e}],transformResponse:[function(e){const n=this.transitional||zh.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(C.isResponse(e)||C.isReadableStream(e))return e;if(e&&C.isString(e)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?W.from(a,W.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],t=>{zh.headers[t]={}});const Bh=zh,ik=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ok=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||e[n]&&ik[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},$p=Symbol("internals");function Vr(t){return t&&String(t).trim().toLowerCase()}function xa(t){return t===!1||t==null?t:C.isArray(t)?t.map(xa):String(t)}function ak(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const lk=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Lc(t,e,n,s,r){if(C.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!C.isString(e)){if(C.isString(s))return e.indexOf(s)!==-1;if(C.isRegExp(s))return s.test(e)}}function ck(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function uk(t,e){const n=C.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,o){return this[s].call(this,e,r,i,o)},configurable:!0})})}class Kl{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(a,l,u){const d=Vr(l);if(!d)throw new Error("header name must be a non-empty string");const h=C.findKey(r,d);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||l]=xa(a))}const o=(a,l)=>C.forEach(a,(u,d)=>i(u,d,l));if(C.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(C.isString(e)&&(e=e.trim())&&!lk(e))o(ok(e),n);else if(C.isObject(e)&&C.isIterable(e)){let a={},l,u;for(const d of e){if(!C.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?C.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else e!=null&&i(n,e,s);return this}get(e,n){if(e=Vr(e),e){const s=C.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return ak(r);if(C.isFunction(n))return n.call(this,r,s);if(C.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Vr(e),e){const s=C.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Lc(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(o){if(o=Vr(o),o){const a=C.findKey(s,o);a&&(!n||Lc(s,s[a],a,n))&&(delete s[a],r=!0)}}return C.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||Lc(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return C.forEach(this,(r,i)=>{const o=C.findKey(s,i);if(o){n[o]=xa(r),delete n[i];return}const a=e?ck(i):String(i).trim();a!==i&&delete n[i],n[a]=xa(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return C.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&C.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[$p]=this[$p]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=Vr(o);s[a]||(uk(r,o),s[a]=!0)}return C.isArray(e)?e.forEach(i):i(e),this}}Kl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(Kl.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});C.freezeMethods(Kl);const Ft=Kl;function Dc(t,e){const n=this||Bh,s=e||n,r=Ft.from(s.headers);let i=s.data;return C.forEach(t,function(a){i=a.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function D0(t){return!!(t&&t.__CANCEL__)}function Mr(t,e,n){W.call(this,t??"canceled",W.ERR_CANCELED,e,n),this.name="CanceledError"}C.inherits(Mr,W,{__CANCEL__:!0});function F0(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new W("Request failed with status code "+n.status,[W.ERR_BAD_REQUEST,W.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function dk(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function hk(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=s[i];o||(o=u),n[r]=l,s[r]=u;let h=i,f=0;for(;h!==r;)f+=n[h++],h=h%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),u-o<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function fk(t,e){let n=0,s=1e3/e,r,i;const o=(u,d=Date.now())=>{n=d,r=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=s?o(u,d):(r=u,i||(i=setTimeout(()=>{i=null,o(r)},s-h)))},()=>r&&o(r)]}const hl=(t,e,n=3)=>{let s=0;const r=hk(50,250);return fk(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-s,u=r(l),d=o<=a;s=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},Vp=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Hp=t=>(...e)=>C.asap(()=>t(...e)),pk=We.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,We.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,mk=We.hasStandardBrowserEnv?{write(t,e,n,s,r,i){const o=[t+"="+encodeURIComponent(e)];C.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),C.isString(s)&&o.push("path="+s),C.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gk(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function xk(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function I0(t,e,n){let s=!gk(e);return t&&(s||n==!1)?xk(t,e):e}const Wp=t=>t instanceof Ft?{...t}:t;function Ds(t,e){e=e||{};const n={};function s(u,d,h,f){return C.isPlainObject(u)&&C.isPlainObject(d)?C.merge.call({caseless:f},u,d):C.isPlainObject(d)?C.merge({},d):C.isArray(d)?d.slice():d}function r(u,d,h,f){if(C.isUndefined(d)){if(!C.isUndefined(u))return s(void 0,u,h,f)}else return s(u,d,h,f)}function i(u,d){if(!C.isUndefined(d))return s(void 0,d)}function o(u,d){if(C.isUndefined(d)){if(!C.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function a(u,d,h){if(h in e)return s(u,d);if(h in t)return s(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>r(Wp(u),Wp(d),h,!0)};return C.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||r,f=h(t[d],e[d],d);C.isUndefined(f)&&h!==a||(n[d]=f)}),n}const z0=t=>{const e=Ds({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Ft.from(o),e.url=M0(I0(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(C.isFormData(n)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(We.hasStandardBrowserEnv&&(s&&C.isFunction(s)&&(s=s(e)),s||s!==!1&&pk(e.url))){const u=r&&i&&mk.read(i);u&&o.set(r,u)}return e},yk=typeof XMLHttpRequest<"u",vk=yk&&function(t){return new Promise(function(n,s){const r=z0(t);let i=r.data;const o=Ft.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=r,d,h,f,p,m;function y(){p&&p(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(r.method.toUpperCase(),r.url,!0),v.timeout=r.timeout;function g(){if(!v)return;const b=Ft.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),w={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:t,request:v};F0(function(j){n(j),y()},function(j){s(j),y()},w),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(s(new W("Request aborted",W.ECONNABORTED,t,v)),v=null)},v.onerror=function(){s(new W("Network Error",W.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let _=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const w=r.transitional||A0;r.timeoutErrorMessage&&(_=r.timeoutErrorMessage),s(new W(_,w.clarifyTimeoutError?W.ETIMEDOUT:W.ECONNABORTED,t,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&C.forEach(o.toJSON(),function(_,w){v.setRequestHeader(w,_)}),C.isUndefined(r.withCredentials)||(v.withCredentials=!!r.withCredentials),a&&a!=="json"&&(v.responseType=r.responseType),u&&([f,m]=hl(u,!0),v.addEventListener("progress",f)),l&&v.upload&&([h,p]=hl(l),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(d=b=>{v&&(s(!b||b.type?new Mr(null,t,v):b),v.abort(),v=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const x=dk(r.url);if(x&&We.protocols.indexOf(x)===-1){s(new W("Unsupported protocol "+x+":",W.ERR_BAD_REQUEST,t));return}v.send(i||null)})},bk=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const i=function(u){if(!r){r=!0,a();const d=u instanceof Error?u:this.reason;s.abort(d instanceof W?d:new Mr(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new W(`timeout ${e} of ms exceeded`,W.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=s;return l.unsubscribe=()=>C.asap(a),l}},wk=bk,_k=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},Sk=async function*(t,e){for await(const n of kk(t))yield*_k(n,e)},kk=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},qp=(t,e,n,s)=>{const r=Sk(t,e);let i=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await r.next();if(u){a(),l.close();return}let h=d.byteLength;if(n){let f=i+=h;n(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},Yl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",B0=Yl&&typeof ReadableStream=="function",jk=Yl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),U0=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Nk=B0&&U0(()=>{let t=!1;const e=new Request(We.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Qp=64*1024,dd=B0&&U0(()=>C.isReadableStream(new Response("").body)),fl={stream:dd&&(t=>t.body)};Yl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!fl[e]&&(fl[e]=C.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new W(`Response type '${e}' is not supported`,W.ERR_NOT_SUPPORT,s)})})})(new Response);const Ck=async t=>{if(t==null)return 0;if(C.isBlob(t))return t.size;if(C.isSpecCompliantForm(t))return(await new Request(We.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(C.isArrayBufferView(t)||C.isArrayBuffer(t))return t.byteLength;if(C.isURLSearchParams(t)&&(t=t+""),C.isString(t))return(await jk(t)).byteLength},Ek=async(t,e)=>{const n=C.toFiniteNumber(t.getContentLength());return n??Ck(e)},Pk=Yl&&(async t=>{let{url:e,method:n,data:s,signal:r,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=z0(t);u=u?(u+"").toLowerCase():"text";let p=wk([r,i&&i.toAbortSignal()],o),m;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(l&&Nk&&n!=="get"&&n!=="head"&&(v=await Ek(d,s))!==0){let w=new Request(e,{method:"POST",body:s,duplex:"half"}),k;if(C.isFormData(s)&&(k=w.headers.get("content-type"))&&d.setContentType(k),w.body){const[j,N]=Vp(v,hl(Hp(l)));s=qp(w.body,Qp,j,N)}}C.isString(h)||(h=h?"include":"omit");const g="credentials"in Request.prototype;m=new Request(e,{...f,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:g?h:void 0});let x=await fetch(m,f);const b=dd&&(u==="stream"||u==="response");if(dd&&(a||b&&y)){const w={};["status","statusText","headers"].forEach(P=>{w[P]=x[P]});const k=C.toFiniteNumber(x.headers.get("content-length")),[j,N]=a&&Vp(k,hl(Hp(a),!0))||[];x=new Response(qp(x.body,Qp,j,()=>{N&&N(),y&&y()}),w)}u=u||"text";let _=await fl[C.findKey(fl,u)||"text"](x,t);return!b&&y&&y(),await new Promise((w,k)=>{F0(w,k,{data:_,headers:Ft.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:m})})}catch(g){throw y&&y(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new W("Network Error",W.ERR_NETWORK,t,m),{cause:g.cause||g}):W.from(g,g&&g.code,t,m)}}),hd={http:$S,xhr:vk,fetch:Pk};C.forEach(hd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Kp=t=>`- ${t}`,Rk=t=>C.isFunction(t)||t===null||t===!1,$0={getAdapter:t=>{t=C.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let i=0;i<e;i++){n=t[i];let o;if(s=n,!Rk(n)&&(s=hd[(o=String(n)).toLowerCase()],s===void 0))throw new W(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(Kp).join(`
`):" "+Kp(i[0]):"as no adapter specified";throw new W("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:hd};function Fc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mr(null,t)}function Yp(t){return Fc(t),t.headers=Ft.from(t.headers),t.data=Dc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$0.getAdapter(t.adapter||Bh.adapter)(t).then(function(s){return Fc(t),s.data=Dc.call(t,t.transformResponse,s),s.headers=Ft.from(s.headers),s},function(s){return D0(s)||(Fc(t),s&&s.response&&(s.response.data=Dc.call(t,t.transformResponse,s.response),s.response.headers=Ft.from(s.response.headers))),Promise.reject(s)})}const V0="1.11.0",Xl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Xl[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Xp={};Xl.transitional=function(e,n,s){function r(i,o){return"[Axios v"+V0+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(e===!1)throw new W(r(o," has been removed"+(n?" in "+n:"")),W.ERR_DEPRECATED);return n&&!Xp[o]&&(Xp[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};Xl.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Tk(t,e,n){if(typeof t!="object")throw new W("options must be an object",W.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new W("option "+i+" must be "+l,W.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new W("Unknown option "+i,W.ERR_BAD_OPTION)}}const ya={assertOptions:Tk,validators:Xl},Vt=ya.validators;class pl{constructor(e){this.defaults=e||{},this.interceptors={request:new Up,response:new Up}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ds(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&ya.assertOptions(s,{silentJSONParsing:Vt.transitional(Vt.boolean),forcedJSONParsing:Vt.transitional(Vt.boolean),clarifyTimeoutError:Vt.transitional(Vt.boolean)},!1),r!=null&&(C.isFunction(r)?n.paramsSerializer={serialize:r}:ya.assertOptions(r,{encode:Vt.function,serialize:Vt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ya.assertOptions(n,{baseUrl:Vt.spelling("baseURL"),withXsrfToken:Vt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&C.merge(i.common,i[n.method]);i&&C.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Ft.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const m=[Yp.bind(this),void 0];for(m.unshift(...a),m.push(...u),f=m.length,d=Promise.resolve(n);h<f;)d=d.then(m[h++],m[h++]);return d}f=a.length;let p=n;for(h=0;h<f;){const m=a[h++],y=a[h++];try{p=m(p)}catch(v){y.call(this,v);break}}try{d=Yp.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=Ds(this.defaults,e);const n=I0(e.baseURL,e.url,e.allowAbsoluteUrls);return M0(n,e.params,e.paramsSerializer)}}C.forEach(["delete","get","head","options"],function(e){pl.prototype[e]=function(n,s){return this.request(Ds(s||{},{method:e,url:n,data:(s||{}).data}))}});C.forEach(["post","put","patch"],function(e){function n(s){return function(i,o,a){return this.request(Ds(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}pl.prototype[e]=n(),pl.prototype[e+"Form"]=n(!0)});const va=pl;class Uh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,a){s.reason||(s.reason=new Mr(i,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Uh(function(r){e=r}),cancel:e}}}const Ok=Uh;function Mk(t){return function(n){return t.apply(null,n)}}function Ak(t){return C.isObject(t)&&t.isAxiosError===!0}const fd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fd).forEach(([t,e])=>{fd[e]=t});const Lk=fd;function H0(t){const e=new va(t),n=w0(va.prototype.request,e);return C.extend(n,va.prototype,e,{allOwnKeys:!0}),C.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return H0(Ds(t,r))},n}const Pe=H0(Bh);Pe.Axios=va;Pe.CanceledError=Mr;Pe.CancelToken=Ok;Pe.isCancel=D0;Pe.VERSION=V0;Pe.toFormData=Ql;Pe.AxiosError=W;Pe.Cancel=Pe.CanceledError;Pe.all=function(e){return Promise.all(e)};Pe.spread=Mk;Pe.isAxiosError=Ak;Pe.mergeConfig=Ds;Pe.AxiosHeaders=Ft;Pe.formToJSON=t=>L0(C.isHTMLForm(t)?new FormData(t):t);Pe.getAdapter=$0.getAdapter;Pe.HttpStatusCode=Lk;Pe.default=Pe;const Dk=Pe,Fk={}.VITE_API_BASE_URL||"/api/v1",Q=Dk.create({baseURL:Fk,headers:{"Content-Type":"application/json"}});Q.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});Q.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)});const Lo={register:async t=>(await Q.post("/auth/register",t)).data,login:async t=>(await Q.post("/auth/login",t)).data,getMe:async()=>(await Q.get("/auth/me")).data,forgotPassword:async t=>(await Q.post("/auth/forgot-password",{email:t})).data,resetPassword:async(t,e)=>(await Q.post("/auth/reset-password",{token:t,password:e})).data,verifyResetToken:async t=>(await Q.get(`/auth/verify-reset-token/${t}`)).data},rr={getThreads:async(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([s,r])=>{r!=null&&e.append(s,r.toString())}),(await Q.get(`/threads?${e.toString()}`)).data},getThread:async t=>(await Q.get(`/threads/${t}`)).data,createThread:async t=>(await Q.post("/threads",t)).data,likeThread:async t=>(await Q.post(`/threads/${t}/like`,{action:"toggle"})).data,summarizeThread:async t=>(await Q.post(`/threads/${t}/summarize`)).data,deleteThread:async t=>{await Q.delete(`/threads/${t}`)}},xs={getReplies:async(t,e=1,n=10,s="newest")=>(await Q.get(`/replies/thread/${t}?page=${e}&limit=${n}&sort=${s}`)).data,createReply:async(t,e,n)=>{const s=n?{...e,parentReplyId:n}:e;return(await Q.post(`/replies/${t}`,s)).data},likeReply:async(t,e)=>(await Q.post(`/replies/${t}/like`,e)).data,updateReply:async(t,e)=>(await Q.patch(`/replies/${t}`,e)).data,deleteReply:async t=>{await Q.delete(`/replies/${t}`)},getNestedReplies:async(t,e=1,n=20)=>(await Q.get(`/replies/${t}/nested?page=${e}&limit=${n}`)).data,addEmojiReaction:async(t,e)=>(await Q.post(`/replies/${t}/reactions`,{emoji:e})).data},Do={getNotifications:async(t=1,e=10)=>(await Q.get(`/notifications?page=${t}&limit=${e}`)).data,markRead:async t=>(await Q.patch(`/notifications/${t}/read`,{read:!0})).data,markAllRead:async()=>(await Q.patch("/notifications/read-all")).data,getUnreadCount:async()=>(await Q.get("/notifications/unread/count")).data},dt={getDashboard:async()=>(await Q.get("/admin/dashboard")).data,getFlaggedThreads:async(t=1,e=10)=>(await Q.get(`/admin/threads/flagged?page=${t}&limit=${e}`)).data,getFlaggedReplies:async(t=1,e=10)=>(await Q.get(`/admin/replies/flagged?page=${t}&limit=${e}`)).data,getThreadById:async t=>(await Q.get(`/admin/threads/${t}`)).data,approveThread:async t=>(await Q.patch(`/admin/threads/${t}/approve`)).data,approveReply:async t=>(await Q.patch(`/admin/replies/${t}/approve`)).data,getUsers:async(t=1,e=10,n="")=>{const s=new URLSearchParams;return s.append("page",t.toString()),s.append("limit",e.toString()),n&&s.append("search",n),(await Q.get(`/admin/users?${s.toString()}`)).data},updateUserRole:async(t,e)=>(await Q.patch(`/admin/users/${t}/role`,{role:e})).data,deleteThread:async t=>{await Q.delete(`/admin/threads/${t}`)},deleteReply:async t=>{await Q.delete(`/admin/replies/${t}`)},blockUser:async(t,e)=>(await Q.post(`/admin/users/${t}/block`,{reason:e})).data,unblockUser:async t=>(await Q.post(`/admin/users/${t}/unblock`)).data,getAnalytics:async()=>(await Q.get("/admin/analytics")).data},W0=S.createContext(void 0),nn=()=>{const t=S.useContext(W0);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Ik=({children:t})=>{const[e,n]=S.useState(null),[s,r]=S.useState(null),[i,o]=S.useState(!0);S.useEffect(()=>{(async()=>{const p=localStorage.getItem("token"),m=localStorage.getItem("user");if(p&&m)try{r(p),n(JSON.parse(m)),await Lo.getMe()}catch{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null),n(null)}o(!1)})()},[]);const h={user:e,token:s,login:async(f,p)=>{var m,y,v;try{const g=await Lo.login({email:f,password:p}),{user:x,token:b}=g;if(!x||!b)throw new Error("Invalid login response");return n(x),r(b),localStorage.setItem("token",b),localStorage.setItem("user",JSON.stringify(x)),console.log("Login successful, user role:",x.role),x}catch(g){const x=((v=(y=(m=g.response)==null?void 0:m.data)==null?void 0:y.error)==null?void 0:v.message)||"Login failed";throw L.error(x),g}},loginWithToken:async f=>{var p,m,y;try{r(f),localStorage.setItem("token",f);const v=await Lo.getMe();n(v.user),localStorage.setItem("user",JSON.stringify(v.user)),L.success("OAuth login successful!")}catch(v){const g=((y=(m=(p=v.response)==null?void 0:p.data)==null?void 0:m.error)==null?void 0:y.message)||"OAuth login failed";throw L.error(g),v}},register:async(f,p,m)=>{var y,v,g;try{const x=await Lo.register({username:f,email:p,password:m}),{user:b,token:_}=x;n(b),r(_),localStorage.setItem("token",_),localStorage.setItem("user",JSON.stringify(b)),L.success("Registration successful!")}catch(x){const b=((g=(v=(y=x.response)==null?void 0:y.data)==null?void 0:v.error)==null?void 0:g.message)||"Registration failed";throw L.error(b),x}},logout:()=>{n(null),r(null),localStorage.removeItem("token"),localStorage.removeItem("user"),L.success("Logged out successfully")},loading:i};return c.jsx(W0.Provider,{value:h,children:t})},en=Object.create(null);en.open="0";en.close="1";en.ping="2";en.pong="3";en.message="4";en.upgrade="5";en.noop="6";const ba=Object.create(null);Object.keys(en).forEach(t=>{ba[en[t]]=t});const pd={type:"error",data:"parser error"},q0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Q0=typeof ArrayBuffer=="function",K0=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,$h=({type:t,data:e},n,s)=>q0&&e instanceof Blob?n?s(e):Gp(e,s):Q0&&(e instanceof ArrayBuffer||K0(e))?n?s(e):Gp(new Blob([e]),s):s(en[t]+(e||"")),Gp=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function Jp(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Ic;function zk(t,e){if(q0&&t.data instanceof Blob)return t.data.arrayBuffer().then(Jp).then(e);if(Q0&&(t.data instanceof ArrayBuffer||K0(t.data)))return e(Jp(t.data));$h(t,!1,n=>{Ic||(Ic=new TextEncoder),e(Ic.encode(n))})}const Zp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ei=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Zp.length;t++)ei[Zp.charCodeAt(t)]=t;const Bk=t=>{let e=t.length*.75,n=t.length,s,r=0,i,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(s=0;s<n;s+=4)i=ei[t.charCodeAt(s)],o=ei[t.charCodeAt(s+1)],a=ei[t.charCodeAt(s+2)],l=ei[t.charCodeAt(s+3)],d[r++]=i<<2|o>>4,d[r++]=(o&15)<<4|a>>2,d[r++]=(a&3)<<6|l&63;return u},Uk=typeof ArrayBuffer=="function",Vh=(t,e)=>{if(typeof t!="string")return{type:"message",data:Y0(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:$k(t.substring(1),e)}:ba[n]?t.length>1?{type:ba[n],data:t.substring(1)}:{type:ba[n]}:pd},$k=(t,e)=>{if(Uk){const n=Bk(t);return Y0(n,e)}else return{base64:!0,data:t}},Y0=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},X0=String.fromCharCode(30),Vk=(t,e)=>{const n=t.length,s=new Array(n);let r=0;t.forEach((i,o)=>{$h(i,!1,a=>{s[o]=a,++r===n&&e(s.join(X0))})})},Hk=(t,e)=>{const n=t.split(X0),s=[];for(let r=0;r<n.length;r++){const i=Vh(n[r],e);if(s.push(i),i.type==="error")break}return s};function Wk(){return new TransformStream({transform(t,e){zk(t,n=>{const s=n.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(n)})}})}let zc;function Fo(t){return t.reduce((e,n)=>e+n.length,0)}function Io(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let r=0;r<e;r++)n[r]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function qk(t,e){zc||(zc=new TextDecoder);const n=[];let s=0,r=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(s===0){if(Fo(n)<1)break;const l=Io(n,1);i=(l[0]&128)===128,r=l[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if(Fo(n)<2)break;const l=Io(n,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),s=3}else if(s===2){if(Fo(n)<8)break;const l=Io(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),d=u.getUint32(0);if(d>Math.pow(2,53-32)-1){a.enqueue(pd);break}r=d*Math.pow(2,32)+u.getUint32(4),s=3}else{if(Fo(n)<r)break;const l=Io(n,r);a.enqueue(Vh(i?l:zc.decode(l),e)),s=0}if(r===0||r>t){a.enqueue(pd);break}}}})}const G0=4;function Ee(t){if(t)return Qk(t)}function Qk(t){for(var e in Ee.prototype)t[e]=Ee.prototype[e];return t}Ee.prototype.on=Ee.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Ee.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Ee.prototype.off=Ee.prototype.removeListener=Ee.prototype.removeAllListeners=Ee.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,r=0;r<n.length;r++)if(s=n[r],s===e||s.fn===e){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Ee.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,r=n.length;s<r;++s)n[s].apply(this,e)}return this};Ee.prototype.emitReserved=Ee.prototype.emit;Ee.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ee.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Gl=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),_t=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),Kk="arraybuffer";function J0(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const Yk=_t.setTimeout,Xk=_t.clearTimeout;function Jl(t,e){e.useNativeTimers?(t.setTimeoutFn=Yk.bind(_t),t.clearTimeoutFn=Xk.bind(_t)):(t.setTimeoutFn=_t.setTimeout.bind(_t),t.clearTimeoutFn=_t.clearTimeout.bind(_t))}const Gk=1.33;function Jk(t){return typeof t=="string"?Zk(t):Math.ceil((t.byteLength||t.size)*Gk)}function Zk(t){let e=0,n=0;for(let s=0,r=t.length;s<r;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function Z0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ej(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function tj(t){let e={},n=t.split("&");for(let s=0,r=n.length;s<r;s++){let i=n[s].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class nj extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class Hh extends Ee{constructor(e){super(),this.writable=!1,Jl(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new nj(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Vh(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=ej(e);return n.length?"?"+n:""}}class sj extends Hh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Hk(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Vk(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Z0()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let ev=!1;try{ev=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const rj=ev;function ij(){}class oj extends sj{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}let dr=class wa extends Ee{constructor(e,n,s){super(),this.createRequest=e,Jl(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=J0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=wa.requestsCount++,wa.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ij,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete wa.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};dr.requestsCount=0;dr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",em);else if(typeof addEventListener=="function"){const t="onpagehide"in _t?"pagehide":"unload";addEventListener(t,em,!1)}}function em(){for(let t in dr.requests)dr.requests.hasOwnProperty(t)&&dr.requests[t].abort()}const aj=function(){const t=tv({xdomain:!1});return t&&t.responseType!==null}();class lj extends oj{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=aj&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new dr(tv,this.uri(),e)}}function tv(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||rj))return new XMLHttpRequest}catch{}if(!e)try{return new _t[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const nv=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class cj extends Hh{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=nv?{}:J0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n===e.length-1;$h(s,this.supportsBinary,i=>{try{this.doWrite(s,i)}catch{}r&&Gl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Z0()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Bc=_t.WebSocket||_t.MozWebSocket;class uj extends cj{createSocket(e,n,s){return nv?new Bc(e,n,s):n?new Bc(e,n):new Bc(e)}doWrite(e,n){this.ws.send(n)}}class dj extends Hh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=qk(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),r=Wk();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{s.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n===e.length-1;this._writer.write(s).then(()=>{r&&Gl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const hj={websocket:uj,webtransport:dj,polling:lj},fj=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,pj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function md(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let r=fj.exec(t||""),i={},o=14;for(;o--;)i[pj[o]]=r[o]||"";return n!=-1&&s!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=mj(i,i.path),i.queryKey=gj(i,i.query),i}function mj(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function gj(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,i){r&&(n[r]=i)}),n}const gd=typeof addEventListener=="function"&&typeof removeEventListener=="function",_a=[];gd&&addEventListener("offline",()=>{_a.forEach(t=>t())},!1);class Yn extends Ee{constructor(e,n){if(super(),this.binaryType=Kk,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=md(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=md(n.host).host);Jl(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const r=s.prototype.name;this.transports.push(r),this._transportsByName[r]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=tj(this.opts.query)),gd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},_a.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=G0,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Yn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Yn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(n+=Jk(r)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Gl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:e,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(Yn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),gd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=_a.indexOf(this._offlineEventListener);s!==-1&&_a.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Yn.protocol=G0;class xj extends Yn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;Yn.priorWebsocketSuccess=!1;const r=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Yn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function i(){s||(s=!0,d(),n.close(),n=null)}const o=h=>{const f=new Error("probe error: "+h);f.transport=n.name,i(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function l(){o("socket closed")}function u(h){n&&h.name!==n.name&&i()}const d=()=>{n.removeListener("open",r),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};n.once("open",r),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let yj=class extends xj{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(r=>hj[r]).filter(r=>!!r)),super(e,s)}};function vj(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=md(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+e,s.href=s.protocol+"://"+i+(n&&n.port===s.port?"":":"+s.port),s}const bj=typeof ArrayBuffer=="function",wj=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,sv=Object.prototype.toString,_j=typeof Blob=="function"||typeof Blob<"u"&&sv.call(Blob)==="[object BlobConstructor]",Sj=typeof File=="function"||typeof File<"u"&&sv.call(File)==="[object FileConstructor]";function Wh(t){return bj&&(t instanceof ArrayBuffer||wj(t))||_j&&t instanceof Blob||Sj&&t instanceof File}function Sa(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(Sa(t[n]))return!0;return!1}if(Wh(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Sa(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Sa(t[n]))return!0;return!1}function kj(t){const e=[],n=t.data,s=t;return s.data=xd(n,e),s.attachments=e.length,{packet:s,buffers:e}}function xd(t,e){if(!t)return t;if(Wh(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=xd(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=xd(t[s],e));return n}return t}function jj(t,e){return t.data=yd(t.data,e),delete t.attachments,t}function yd(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=yd(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=yd(t[n],e));return t}const Nj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Cj=5;var Z;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Z||(Z={}));class Ej{constructor(e){this.replacer=e}encode(e){return(e.type===Z.EVENT||e.type===Z.ACK)&&Sa(e)?this.encodeAsBinary({type:e.type===Z.EVENT?Z.BINARY_EVENT:Z.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Z.BINARY_EVENT||e.type===Z.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=kj(e),s=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(s),r}}function tm(t){return Object.prototype.toString.call(t)==="[object Object]"}class qh extends Ee{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===Z.BINARY_EVENT;s||n.type===Z.BINARY_ACK?(n.type=s?Z.EVENT:Z.ACK,this.reconstructor=new Pj(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Wh(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(Z[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Z.BINARY_EVENT||s.type===Z.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(i,n)}else s.nsp="/";const r=e.charAt(n+1);if(r!==""&&Number(r)==r){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}s.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(qh.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Z.CONNECT:return tm(n);case Z.DISCONNECT:return n===void 0;case Z.CONNECT_ERROR:return typeof n=="string"||tm(n);case Z.EVENT:case Z.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Nj.indexOf(n[0])===-1);case Z.ACK:case Z.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Pj{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=jj(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Rj=Object.freeze(Object.defineProperty({__proto__:null,Decoder:qh,Encoder:Ej,get PacketType(){return Z},protocol:Cj},Symbol.toStringTag,{value:"Module"}));function Mt(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Tj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class rv extends Ee{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Mt(e,"open",this.onopen.bind(this)),Mt(e,"packet",this.onpacket.bind(this)),Mt(e,"error",this.onerror.bind(this)),Mt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,r,i;if(Tj.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Z.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,h=n.pop();this._registerAckCallback(d,h),o.id=d}const a=(r=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||r===void 0?void 0:r.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},r),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((s,r)=>{const i=(o,a)=>o?r(o):s(a);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...i)=>s!==this._queue[0]?void 0:(r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Z.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Z.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Z.EVENT:case Z.BINARY_EVENT:this.onevent(e);break;case Z.ACK:case Z.BINARY_ACK:this.onack(e);break;case Z.DISCONNECT:this.ondisconnect();break;case Z.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...r){s||(s=!0,n.packet({type:Z.ACK,id:e,data:r}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Z.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function Ar(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ar.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Ar.prototype.reset=function(){this.attempts=0};Ar.prototype.setMin=function(t){this.ms=t};Ar.prototype.setMax=function(t){this.max=t};Ar.prototype.setJitter=function(t){this.jitter=t};class vd extends Ee{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Jl(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Ar({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const r=n.parser||Rj;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new yj(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=Mt(n,"open",function(){s.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Mt(n,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Mt(e,"ping",this.onping.bind(this)),Mt(e,"data",this.ondata.bind(this)),Mt(e,"error",this.onerror.bind(this)),Mt(e,"close",this.onclose.bind(this)),Mt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Gl(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new rv(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Hr={};function ka(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=vj(t,e.path||"/socket.io"),s=n.source,r=n.id,i=n.path,o=Hr[r]&&i in Hr[r].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new vd(s,e):(Hr[r]||(Hr[r]=new vd(s,e)),l=Hr[r]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(ka,{Manager:vd,Socket:rv,io:ka,connect:ka});const iv=S.createContext(void 0),Qh=()=>{const t=S.useContext(iv);if(t===void 0)throw new Error("useSocket must be used within a SocketProvider");return t},Oj=({children:t})=>{const{token:e,user:n}=nn(),s=S.useRef(null);S.useEffect(()=>{if(e&&n){const u={}.VITE_WS_URL||"http://localhost:5000";s.current=ka(u,{auth:{token:e}}),s.current.on("connect",()=>{console.log("Connected to WebSocket")}),s.current.on("disconnect",()=>{console.log("Disconnected from WebSocket")}),s.current.on("connect_error",d=>{console.error("Socket connection error:",d)})}else s.current&&(s.current.disconnect(),s.current=null);return()=>{s.current&&(s.current.disconnect(),s.current=null)}},[e,n]);const r=u=>{s.current&&s.current.emit("join",{rooms:[u]})},i=u=>{s.current&&s.current.emit("leave",{rooms:[u]})},o=u=>{s.current&&s.current.emit("join",{rooms:u})},a=u=>{s.current&&s.current.emit("leave",{rooms:u})},l={socket:s.current,joinRoom:r,leaveRoom:i,joinRooms:o,leaveRooms:a};return c.jsx(iv.Provider,{value:l,children:t})};var Mj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Aj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lj=(t,e)=>{const n=S.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...l},u)=>S.createElement("svg",{ref:u,...Mj,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:`lucide lucide-${Aj(t)}`,...l},[...e.map(([d,h])=>S.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n};var B=Lj;const ja=B("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),rt=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Uc=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),fo=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Dj=B("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),bd=B("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),$c=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Vc=B("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),es=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Fj=B("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ij=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Sn=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Hi=B("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Wi=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),zj=B("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ys=B("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),ov=B("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Fs=B("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),xn=B("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Bj=B("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),yi=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Uj=B("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),nm=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),vi=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),$j=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Et=B("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),fn=B("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Vj=B("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Hj=B("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Wj=B("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),qj=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),wd=B("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),Qj=B("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),av=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Kj=B("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Yj=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),br=B("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),_d=B("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),ct=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),sm=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),lv=B("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),qi=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Hc=B("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),ks=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Xj=B("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Gj=B("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Es=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ti=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Kh=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cv=B("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Jj=({children:t})=>{const{user:e,loading:n}=nn();return n?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"loading-spinner h-16 w-16 border-3 border-t-primary-500 mx-auto"}),c.jsxs("div",{className:"mt-6 flex items-center justify-center space-x-2",children:[c.jsx(br,{className:"w-5 h-5 text-primary-400"}),c.jsx("p",{className:"text-textSecondary",children:"Verifying access..."})]})]})}):e?c.jsx(c.Fragment,{children:t}):c.jsx(n0,{to:"/login",replace:!0})},Zj=()=>{const[t,e]=S.useState(!1),{socket:n}=Qh(),{data:s,refetch:r}=Kt("unreadNotifications",()=>Do.getUnreadCount(),{refetchInterval:3e4}),{data:i,refetch:o}=Kt(["notifications",t],()=>Do.getNotifications(1,10),{enabled:t});S.useEffect(()=>{if(n)return n.on("thread:new",d=>{L.success(`New thread: ${d.thread.title}`),r()}),n.on("reply:new",d=>{L.success("New reply in thread"),r()}),n.on("admin:moderation",d=>{L.success(`Content ${d.action}: ${d.type}`),r()}),()=>{n.off("thread:new"),n.off("reply:new"),n.off("admin:moderation")}},[n,r]);const a=async d=>{try{await Do.markRead(d),r(),o()}catch(h){console.error("Failed to mark notification as read:",h)}},l=async()=>{try{await Do.markAllRead(),r(),o()}catch(d){console.error("Failed to mark all notifications as read:",d)}},u=d=>{switch(d){case"thread":return c.jsx(fn,{className:"w-4 h-4 text-primary-400"});case"reply":return c.jsx(ti,{className:"w-4 h-4 text-secondary-400"});case"moderation":return c.jsx(br,{className:"w-4 h-4 text-accent-400"});default:return c.jsx(ct,{className:"w-4 h-4 text-textTertiary"})}};return c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>e(!t),className:"relative p-2 text-textTertiary hover:text-textPrimary focus:outline-none transition-colors duration-200 hover:bg-surfaceElevated rounded-lg",children:[c.jsx($c,{className:"w-5 h-5"}),(s==null?void 0:s.count)&&s.count>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-accent-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center border-2 border-surface",children:s.count>9?"9+":s.count})]}),t&&c.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-surfaceElevated rounded-xl shadow-2xl py-2 z-50 max-h-96 overflow-y-auto border border-border",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-border flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"p-1 bg-primary-500/20 rounded-lg",children:c.jsx($c,{className:"w-4 h-4 text-primary-400"})}),c.jsx("h3",{className:"text-sm font-medium text-textPrimary",children:"Notifications"})]}),(s==null?void 0:s.count)&&s.count>0&&c.jsxs("button",{onClick:l,className:"text-xs text-primary-400 hover:text-primary-300 transition-colors duration-200 flex items-center space-x-1",children:[c.jsx(es,{className:"w-3 h-3"}),c.jsx("span",{children:"Mark all read"})]})]}),i!=null&&i.items&&i.items.length>0?c.jsx("div",{className:"py-1",children:i.items.map(d=>c.jsx("div",{className:`px-4 py-3 hover:bg-surface cursor-pointer transition-colors duration-200 border-b border-border last:border-b-0 ${d.read?"":"bg-primary-500/10"}`,onClick:()=>a(d._id),children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"p-2 bg-surface rounded-lg",children:u(d.type)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("p",{className:"text-sm font-medium text-textPrimary",children:d.title}),!d.read&&c.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full ml-2 flex-shrink-0"})]}),c.jsx("p",{className:"text-sm text-textSecondary mt-1",children:d.body}),c.jsxs("div",{className:"flex items-center space-x-2 mt-2 text-xs text-textTertiary",children:[c.jsx(Sn,{className:"w-3 h-3"}),c.jsx("span",{children:new Date(d.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})},d._id))}):c.jsxs("div",{className:"px-4 py-8 text-center",children:[c.jsx("div",{className:"p-3 bg-surface rounded-full w-12 h-12 mx-auto mb-3 flex items-center justify-center",children:c.jsx($c,{className:"w-6 h-6 text-textTertiary"})}),c.jsx("p",{className:"text-sm text-textSecondary",children:"No notifications"}),c.jsx("p",{className:"text-xs text-textTertiary mt-1",children:"We'll notify you when something arrives"})]})]}),t&&c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>e(!1)})]})},eN=()=>{const{user:t,logout:e}=nn(),n=Bt(),[s,r]=S.useState(!1),[i,o]=S.useState(!1),a=()=>{e(),n("/login")};return c.jsxs("nav",{className:"bg-surface border-b border-border shadow-soft",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs(se,{to:"/app",className:"flex items-center space-x-3 group",children:[c.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-primary-500 to-secondary-600 rounded-xl flex items-center justify-center shadow-glow group-hover:scale-105 transition-transform duration-300",children:c.jsx(ct,{className:"w-5 h-5 text-white"})}),c.jsx("span",{className:"text-xl font-bold gradient-text",children:"Threads"})]}),c.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[c.jsxs(se,{to:"/app",className:"text-textSecondary hover:text-textPrimary px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(xn,{className:"w-4 h-4"}),c.jsx("span",{children:"Home"})]}),(t==null?void 0:t.role)==="admin"&&c.jsxs(se,{to:"/app/admin",className:"text-textSecondary hover:text-textPrimary px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(br,{className:"w-4 h-4"}),c.jsx("span",{children:"Admin"})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(Zj,{}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>o(!i),className:"flex items-center space-x-3 text-textSecondary hover:text-textPrimary focus:outline-none transition-colors duration-200 group",children:[t!=null&&t.avatarUrl?c.jsx("img",{src:t.avatarUrl,alt:t.username,className:"w-9 h-9 rounded-full border-2 border-transparent group-hover:border-primary-500/30 transition-colors duration-200"}):c.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-primary-600 to-secondary-600 rounded-full flex items-center justify-center group-hover:scale-105 transition-transform duration-200",children:c.jsx("span",{className:"text-white text-sm font-medium",children:t==null?void 0:t.username.charAt(0).toUpperCase()})}),c.jsxs("div",{className:"hidden md:flex flex-col items-start",children:[c.jsx("span",{className:"text-sm font-medium text-textPrimary",children:t==null?void 0:t.username}),c.jsx("span",{className:"text-xs text-textTertiary",children:"Online"})]}),c.jsx(Es,{className:"w-4 h-4"})]}),i&&c.jsxs("div",{className:"absolute right-0 mt-3 w-56 bg-surfaceElevated rounded-xl shadow-2xl py-2 z-50 border border-border",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-border",children:[c.jsx("div",{className:"font-medium text-textPrimary",children:t==null?void 0:t.username}),c.jsx("div",{className:"text-sm text-textTertiary truncate",children:t==null?void 0:t.email})]}),c.jsxs(se,{to:"/app/profile",className:"w-full text-left px-4 py-3 text-sm text-textSecondary hover:bg-surface hover:text-textPrimary transition-colors duration-200 flex items-center space-x-3",onClick:()=>o(!1),children:[c.jsx(Es,{className:"w-4 h-4"}),c.jsx("span",{children:"Profile"})]}),c.jsxs(se,{to:"/settings",className:"w-full text-left px-4 py-3 text-sm text-textSecondary hover:bg-surface hover:text-textPrimary transition-colors duration-200 flex items-center space-x-3",onClick:()=>o(!1),children:[c.jsx(Yj,{className:"w-4 h-4"}),c.jsx("span",{children:"Settings"})]}),c.jsxs("button",{onClick:a,className:"w-full text-left px-4 py-3 text-sm text-textSecondary hover:bg-surface hover:text-textPrimary transition-colors duration-200 flex items-center space-x-3",children:[c.jsx(nm,{className:"w-4 h-4"}),c.jsx("span",{children:"Logout"})]})]})]}),c.jsx("button",{onClick:()=>r(!s),className:"md:hidden p-2 rounded-lg text-textTertiary hover:text-textPrimary hover:bg-surfaceElevated focus:outline-none transition-colors duration-200",children:s?c.jsx(Kh,{className:"w-6 h-6"}):c.jsx($j,{className:"w-6 h-6"})})]})]}),s&&c.jsx("div",{className:"md:hidden py-4 border-t border-border",children:c.jsxs("div",{className:"flex flex-col space-y-3",children:[c.jsxs(se,{to:"/app",className:"text-textSecondary hover:text-textPrimary px-4 py-3 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center space-x-3",onClick:()=>r(!1),children:[c.jsx(xn,{className:"w-4 h-4"}),c.jsx("span",{children:"Home"})]}),(t==null?void 0:t.role)==="admin"&&c.jsxs(se,{to:"/app/admin",className:"text-textSecondary hover:text-textPrimary px-4 py-3 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center space-x-3",onClick:()=>r(!1),children:[c.jsx(br,{className:"w-4 h-4"}),c.jsx("span",{children:"Admin"})]}),c.jsxs(se,{to:"/app/profile",className:"text-textSecondary hover:text-textPrimary px-4 py-3 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center space-x-3",onClick:()=>r(!1),children:[c.jsx(Es,{className:"w-4 h-4"}),c.jsx("span",{children:"Profile"})]}),c.jsxs("button",{onClick:a,className:"w-full text-left text-textSecondary hover:text-textPrimary px-4 py-3 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center space-x-3",children:[c.jsx(nm,{className:"w-4 h-4"}),c.jsx("span",{children:"Logout"})]})]})})]}),(i||s)&&c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{o(!1),r(!1)}})]})},tN=()=>c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(eN,{}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsx(N_,{})}),c.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none -z-10",children:[c.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-500/5 rounded-full"}),c.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-secondary-500/5 rounded-full"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-accent-500/3 rounded-full"})]})]}),nN=()=>{const t=Bt(),[e,n]=S.useState(!1),[s,r]=S.useState(!1),i=()=>{t("/login")};return S.useEffect(()=>{const o=new Image;o.onload=()=>n(!0),o.onerror=()=>{console.warn("Background image failed to load, using fallback"),r(!0)};const a=["/images/bg.jpg","/images/bg.png","/images/bg.webp"];let l=0;const u=()=>{l<a.length?(o.src=a[l],l++):r(!0)};o.onerror=u,u()},[]),c.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[c.jsx("div",{className:`absolute inset-0 bg-cover bg-center bg-no-repeat transition-opacity duration-1000 ${e?"opacity-100":"opacity-0"}`,style:{backgroundImage:s?"none":"url('/images/bg.jpg')",backgroundColor:s?"#1a1a2e":"transparent"}}),!e&&!s&&c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 animate-pulse"}),s&&c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/30 to-black/50"}),c.jsxs("div",{className:"relative z-10 flex min-h-screen flex-col items-center justify-center px-4 text-center",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-center",children:[c.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-r from-emerald-400 to-blue-500 p-4 shadow-2xl",children:c.jsx(Et,{className:"h-12 w-12 text-white"})}),c.jsx("div",{className:"ml-4",children:c.jsx(ct,{className:"h-6 w-6 text-emerald-400"})})]}),c.jsx("h1",{className:"mb-6 text-5xl font-bold leading-tight text-white drop-shadow-2xl md:text-7xl lg:text-8xl",children:"Your World, Your Voice."}),c.jsx("p",{className:"mb-12 max-w-2xl text-xl font-medium text-gray-200 drop-shadow-lg md:text-2xl lg:text-3xl",children:"Connect, Share, and Discover like never before."}),c.jsxs("button",{onClick:i,className:"group relative overflow-hidden rounded-full bg-gradient-to-r from-emerald-400 to-blue-500 px-8 py-4 text-lg font-semibold text-white shadow-2xl transition-all duration-300 hover:scale-105 hover:shadow-emerald-500/25 md:px-12 md:py-5 md:text-xl",children:[c.jsxs("span",{className:"relative z-10 flex items-center",children:["Get Started",c.jsx("svg",{className:"ml-2 h-5 w-5 transition-transform duration-300 group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-300 to-blue-400 opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]}),c.jsxs("div",{className:"mt-16 grid grid-cols-1 gap-6 text-center text-white/80 md:grid-cols-3 md:gap-8",children:[c.jsxs("div",{className:"rounded-lg bg-white/10 p-6 backdrop-blur-sm",children:[c.jsx("div",{className:"mb-3 flex justify-center",children:c.jsx("div",{className:"rounded-full bg-emerald-500/20 p-3",children:c.jsx(Et,{className:"h-6 w-6 text-emerald-400"})})}),c.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Thread Discussions"}),c.jsx("p",{className:"text-sm text-gray-300",children:"Engage in meaningful conversations with AI-powered moderation"})]}),c.jsxs("div",{className:"rounded-lg bg-white/10 p-6 backdrop-blur-sm",children:[c.jsx("div",{className:"mb-3 flex justify-center",children:c.jsx("div",{className:"rounded-full bg-blue-500/20 p-3",children:c.jsx(ct,{className:"h-6 w-6 text-blue-400"})})}),c.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"AI Summaries"}),c.jsx("p",{className:"text-sm text-gray-300",children:"Get intelligent summaries of long discussions automatically"})]}),c.jsxs("div",{className:"rounded-lg bg-white/10 p-6 backdrop-blur-sm",children:[c.jsx("div",{className:"mb-3 flex justify-center",children:c.jsx("div",{className:"rounded-full bg-purple-500/20 p-3",children:c.jsx("svg",{className:"h-6 w-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h6v-6H4v6z"})})})}),c.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Real-time Updates"}),c.jsx("p",{className:"text-sm text-gray-300",children:"Stay connected with live notifications and updates"})]})]})]})]})},ml=t=>{const e=/^[a-zA-Z0-9._%+-]+@gmail\.com$/;if(!t)return{isValid:!1,error:" Email is required"};if(!e.test(t))return{isValid:!1,error:" Please use a valid Gmail address"};const n=t.split("@")[0];return n.length<6?{isValid:!1,error:" Gmail username must be at least 6 characters"}:n.length>30?{isValid:!1,error:" Gmail username cannot exceed 30 characters"}:/^[a-zA-Z0-9._%+-]+$/.test(n)?/^[._%+-]|[._%+-]$/.test(n)?{isValid:!1,error:" Gmail username cannot start or end with special characters"}:/\.{2,}/.test(n)?{isValid:!1,error:" Gmail username cannot have consecutive dots"}:{isValid:!0}:{isValid:!1,error:" Gmail username contains invalid characters"}},rm=t=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t?e.test(t)?{isValid:!0}:{isValid:!1,error:" Please use a valid email address"}:{isValid:!1,error:" Email is required"}},wr=t=>{const e=[];if(!t)return{isValid:!1,error:" Password is required",strength:"weak",score:0,suggestions:["Password cannot be empty"]};if(t.length<8)return{isValid:!1,error:" Password must be at least 8 characters long",strength:"weak",score:0,suggestions:["Add more characters to reach at least 8"]};if(t.length>128)return{isValid:!1,error:" Password cannot exceed 128 characters",strength:"weak",score:0,suggestions:["Shorten your password to 128 characters or less"]};if(["password","123456","123456789","qwerty","abc123","password123","admin","letmein","welcome","monkey","dragon","master","111111","sunshine","iloveyou","trustno1","000000","123123","football"].includes(t.toLowerCase()))return{isValid:!1,error:" Password is too common, please choose a stronger one",strength:"weak",score:0,suggestions:["Avoid common dictionary words","Use a unique combination of characters"]};let s=0;const r=/[a-z]/.test(t),i=/[A-Z]/.test(t),o=/[0-9]/.test(t),a=/[^a-zA-Z0-9]/.test(t);t.length>=16?s+=3:t.length>=12?s+=2:t.length>=8&&(s+=1),r&&(s+=1),i&&(s+=1),o&&(s+=1),a&&(s+=1),[r,i,o,a].filter(Boolean).length>=3&&(s+=1),/(.)\1{2,}/.test(t)&&(s-=1,e.push("Avoid repeating the same character multiple times")),/123|abc|qwe|asd|zxc|987|654|321/i.test(t)&&(s-=1,e.push("Avoid simple keyboard patterns")),t.toLowerCase().includes("password")&&(s-=2,e.push('Avoid using the word "password"')),s=Math.max(0,Math.min(s,10));let u;return s>=8?u="excellent":s>=6?u="strong":s>=4?u="medium":u="weak",r||e.push("Add lowercase letters"),i||e.push("Add uppercase letters"),o||e.push("Add numbers"),a||e.push("Add special characters (!@#$%^&*)"),t.length<12&&e.push("Make it longer (at least 12 characters)"),u==="weak"||u==="medium"?{isValid:!1,error:` Password strength: ${u}. ${e[0]||"Please strengthen your password"}`,strength:u,score:s,suggestions:e.slice(0,3)}:{isValid:!0,strength:u,score:s,suggestions:["Great password! "]}},im=t=>{const e=[];return t?t.length<3?{isValid:!1,error:" Username must be at least 3 characters long",suggestions:["Add more characters to reach at least 3"]}:t.length>20?{isValid:!1,error:" Username cannot exceed 20 characters",suggestions:["Shorten your username to 20 characters or less"]}:/^[a-zA-Z0-9_-]+$/.test(t)?/^[_-]|[_-]$/.test(t)?{isValid:!1,error:" Username cannot start or end with underscores or hyphens",suggestions:["Start and end with letters or numbers"]}:/[_-]{2,}/.test(t)?{isValid:!1,error:" Username cannot have consecutive underscores or hyphens",suggestions:["Use only single underscores or hyphens"]}:(["admin","administrator","root","system","support","contact","help","info","moderator","owner","official","team"].includes(t.toLowerCase())&&e.push("This username may be reserved, try a different one"),t.length<5&&e.push("Consider a longer username for better uniqueness"),/[a-zA-Z]/.test(t)||e.push("Add some letters to make it more memorable"),{isValid:!0,suggestions:e.length>0?e:["Perfect username! "]}):{isValid:!1,error:" Username can only contain letters, numbers, underscores, and hyphens",suggestions:["Remove any special characters except _ and -"]}:{isValid:!1,error:" Username is required",suggestions:["Choose a unique username"]}},om=t=>{switch(t){case"excellent":return"text-green-400";case"strong":return"text-green-500";case"medium":return"text-yellow-500";case"weak":return"text-red-400";default:return"text-textTertiary"}},sN=t=>{switch(t){case"excellent":return"";case"strong":return"";case"medium":return"";case"weak":return"";default:return""}},rN=()=>{const[t,e]=S.useState(""),[n,s]=S.useState(""),[r,i]=S.useState(!1),[o,a]=S.useState(!1),[l,u]=S.useState(""),[d,h]=S.useState(""),[f,p]=S.useState(!1),[m,y]=S.useState(!1),{login:v,user:g}=nn(),x=Bt(),[b]=s0(),[_,w]=S.useState(!1);S.useEffect(()=>{const N=b.get("error");N==="oauth_not_configured"?L.error("OAuth is not configured yet"):N==="oauth_failed"?L.error("OAuth authentication failed"):N==="no_token"&&L.error("Authentication token not received")},[b]),S.useEffect(()=>{_&&g&&(console.log("User state updated, redirecting. Role:",g.role),g.role==="admin"?x("/app/admin",{replace:!0}):x("/app",{replace:!0}),w(!1))},[g,_,x]),S.useEffect(()=>{if(t){const N=rm(t);p(N.isValid),u(N.error||"")}else p(!1),u("")},[t]),S.useEffect(()=>{if(n){const N=wr(n);y(N.isValid),h(N.error||"")}else y(!1),h("")},[n]);const k=async N=>{var O,F,U;N.preventDefault();const P=rm(t),E=wr(n);if(!P.isValid){u(P.error||""),L.error("Please fix the email errors");return}if(!E.isValid){h(E.error||""),L.error("Please fix the password errors");return}a(!0);try{const $=await v(t,n);if(console.log("Login response - userData:",$),console.log("User role:",$==null?void 0:$.role),!$)throw new Error("No user data returned");w(!0),setTimeout(()=>{$.role==="admin"?(console.log("Fallback redirect to admin dashboard"),x("/app/admin",{replace:!0})):(console.log("Fallback redirect to home"),x("/app",{replace:!0}))},300)}catch($){const V=((U=(F=(O=$==null?void 0:$.response)==null?void 0:O.data)==null?void 0:F.error)==null?void 0:U.message)||"Login failed. Please check your credentials.";L.error(V),console.error("Login error:",$),w(!1)}finally{a(!1)}},j=()=>{window.location.href=`${{}.VITE_API_BASE_URL}/auth/google`};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background py-12 px-4 sm:px-6 lg:px-8 relative",children:[c.jsx("div",{className:"absolute top-6 left-6 z-20",children:c.jsxs(se,{to:"/",className:"btn btn-ghost btn-sm gap-2 hover:bg-primary-500/10 transition-all duration-300",children:[c.jsx(xn,{className:"w-4 h-4"}),"Back to Home"]})}),c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-500/5 rounded-full"}),c.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-secondary-500/5 rounded-full"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-accent-500/3 rounded-full"})]}),c.jsxs("div",{className:"max-w-md w-full space-y-8 relative z-10",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-primary-500 to-secondary-600 rounded-2xl flex items-center justify-center shadow-glow mb-6 hover-lift transition-all duration-300",children:c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-600 to-secondary-700 rounded-xl flex items-center justify-center",children:c.jsx(ct,{className:"w-8 h-8 text-white"})})}),c.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Welcome Back"}),c.jsx("p",{className:"text-textSecondary text-lg",children:"Sign in to your Threads account"}),c.jsxs("p",{className:"mt-4 text-sm text-textTertiary",children:["Don't have an account?"," ",c.jsx(se,{to:"/register",className:"font-semibold text-primary-400 hover:text-primary-300 transition-colors",children:"Create one now"})]}),c.jsx("p",{className:"mt-2 text-sm text-textTertiary",children:c.jsx(se,{to:"/forgot-password",className:"font-semibold text-primary-400 hover:text-primary-300 transition-colors",children:"Forgot your password?"})})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:k,children:[c.jsxs("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-8 space-y-6 shadow-soft hover:shadow-medium transition-all duration-300",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-textSecondary mb-3",children:"Email address"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(vi,{className:"h-5 w-5 text-textTertiary"})}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:N=>e(N.target.value),className:`input pl-12 pr-12 ${l?"input-error":f?"input-success":""}`,placeholder:"Enter your Gmail address"}),f&&c.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:c.jsx(es,{className:"h-5 w-5 text-primary-400"})})]}),l&&c.jsxs("div",{className:"flex items-center mt-2 text-sm text-accent-400 bg-accent-500/10 px-3 py-2 rounded-lg",children:[c.jsx(rt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),l]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-textSecondary mb-3",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(yi,{className:"h-5 w-5 text-textTertiary"})}),c.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:N=>s(N.target.value),className:`input pl-12 pr-12 ${d?"input-error":m?"input-success":""}`,placeholder:"Enter your password"}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-textPrimary transition-colors",onClick:()=>i(!r),children:r?c.jsx(Hi,{className:"h-5 w-5 text-textTertiary"}):c.jsx(Wi,{className:"h-5 w-5 text-textTertiary"})})]}),d&&c.jsxs("div",{className:"flex items-center mt-2 text-sm text-accent-400 bg-accent-500/10 px-3 py-2 rounded-lg",children:[c.jsx(rt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),d]})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary w-full text-lg py-4 hover-glow transition-all duration-300",children:o?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"loading-spinner h-6 w-6 border-2 border-t-white mr-2"}),"Signing In..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Uj,{className:"w-5 h-5 mr-2"}),"Sign In"]})})}),c.jsxs("div",{className:"mt-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-divider"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-4 bg-background text-textSecondary font-medium",children:"Or continue with"})})]}),c.jsx("div",{className:"mt-6",children:c.jsxs("button",{type:"button",onClick:j,className:"w-full btn btn-outline py-4 text-base hover:bg-primary-500/10 transition-all duration-300",children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),c.jsx("span",{className:"ml-2",children:"Continue with Google"})]})})]})]})]})]})},iN=()=>{const[t,e]=S.useState(""),[n,s]=S.useState(""),[r,i]=S.useState(""),[o,a]=S.useState(""),[l,u]=S.useState(!1),[d,h]=S.useState(!1),[f,p]=S.useState(!1),[m,y]=S.useState(""),[v,g]=S.useState(""),[x,b]=S.useState(""),[_,w]=S.useState(""),[k,j]=S.useState(!1),[N,P]=S.useState(!1),[E,O]=S.useState(!1),[F,U]=S.useState(!1),[$,V]=S.useState("weak"),[H,G]=S.useState(0),{register:T}=nn(),M=Bt();S.useEffect(()=>{if(t){const z=im(t);j(z.isValid),y(z.error||"")}else j(!1),y("")},[t]),S.useEffect(()=>{if(n){const z=ml(n);P(z.isValid),g(z.error||"")}else P(!1),g("")},[n]),S.useEffect(()=>{if(r){const z=wr(r);O(z.isValid),b(z.error||""),V(z.strength),G(z.score)}else O(!1),b(""),V("weak"),G(0)},[r]),S.useEffect(()=>{o?r!==o?(U(!1),w("Passwords do not match")):(U(!0),w("")):(U(!1),w(""))},[o,r]);const I=async z=>{z.preventDefault();const K=im(t),ge=ml(n),ut=wr(r);if(!K.isValid){y(K.error||""),L.error("Please fix the username errors");return}if(!ge.isValid){g(ge.error||""),L.error("Please fix the email errors");return}if(!ut.isValid){b(ut.error||""),L.error("Please fix the password errors");return}if(r!==o){w("Passwords do not match"),L.error("Passwords do not match");return}p(!0);try{await T(t,n,r),L.success("Account created successfully! Welcome to Threads! "),M("/app")}catch{L.error("Registration failed. Please try again.")}finally{p(!1)}},ee=()=>{window.location.href=`${{}.VITE_API_BASE_URL}/auth/google`};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background py-12 px-4 sm:px-6 lg:px-8 relative",children:[c.jsx("div",{className:"absolute top-6 left-6 z-20",children:c.jsxs(se,{to:"/",className:"btn btn-ghost btn-sm gap-2 hover:bg-primary-500/10 transition-all duration-300",children:[c.jsx(xn,{className:"w-4 h-4"}),"Back to Home"]})}),c.jsxs("div",{className:"absolute inset-0 overflow-hidden -z-10",children:[c.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-500/5 rounded-full"}),c.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-secondary-500/5 rounded-full"})]}),c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary-500 to-secondary-600 rounded-2xl flex items-center justify-center shadow-glow mb-4",children:c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-600 to-secondary-700 rounded-xl flex items-center justify-center",children:c.jsx(ct,{className:"w-6 h-6 text-white"})})}),c.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Join Threads"}),c.jsx("p",{className:"text-textSecondary",children:"Create your account and start the conversation"}),c.jsxs("p",{className:"mt-2 text-sm text-textTertiary",children:["Already have an account?"," ",c.jsx(se,{to:"/login",className:"font-semibold text-primary-400 hover:text-primary-300 transition-colors",children:"Sign in here"})]})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:I,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"username",className:"block text-sm font-medium text-textSecondary mb-3 flex items-center",children:[c.jsx(Es,{className:"w-4 h-4 mr-2"}),"Username"]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:t,onChange:z=>e(z.target.value),className:`input ${m?"input-error":k?"input-success":""}`,placeholder:"Choose a username",minLength:3,maxLength:30}),k&&c.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:c.jsx(es,{className:"h-5 w-5 text-primary-400"})})]}),m&&c.jsxs("div",{className:"flex items-center mt-2 text-sm text-accent-400 bg-accent-500/10 px-3 py-2 rounded-lg",children:[c.jsx(rt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),m]})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-textSecondary mb-3 flex items-center",children:[c.jsx(vi,{className:"w-4 h-4 mr-2"}),"Email address"]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:z=>s(z.target.value),className:`input ${v?"input-error":N?"input-success":""}`,placeholder:"Enter your Gmail address"}),N&&c.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:c.jsx(es,{className:"h-5 w-5 text-primary-400"})})]}),v&&c.jsxs("div",{className:"flex items-center mt-2 text-sm text-accent-400 bg-accent-500/10 px-3 py-2 rounded-lg",children:[c.jsx(rt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),v]})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-textSecondary mb-3 flex items-center",children:[c.jsx(yi,{className:"w-4 h-4 mr-2"}),"Password"]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"new-password",required:!0,value:r,onChange:z=>i(z.target.value),className:`input ${x?"input-error":E?"input-success":""}`,placeholder:"Create a strong password",minLength:8}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-textPrimary transition-colors",onClick:()=>u(!l),children:l?c.jsx(Hi,{className:"h-5 w-5 text-textTertiary"}):c.jsx(Wi,{className:"h-5 w-5 text-textTertiary"})})]}),r&&c.jsxs("div",{className:"mt-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[c.jsx("span",{className:"text-textSecondary",children:"Password strength:"}),c.jsxs("span",{className:`font-medium ${om($)} flex items-center space-x-1`,children:[c.jsx("span",{children:sN($)}),c.jsx("span",{children:$.charAt(0).toUpperCase()+$.slice(1)}),c.jsxs("span",{children:["(",H,"/10)"]})]})]}),c.jsx("div",{className:"w-full bg-surfaceElevated rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${om($).replace("text-","bg-")}`,style:{width:`${H*10}%`}})})]}),x&&c.jsxs("div",{className:"flex items-center mt-2 text-sm text-accent-400 bg-accent-500/10 px-3 py-2 rounded-lg",children:[c.jsx(rt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),x]})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-textSecondary mb-3 flex items-center",children:[c.jsx(br,{className:"w-4 h-4 mr-2"}),"Confirm Password"]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:d?"text":"password",autoComplete:"new-password",required:!0,value:o,onChange:z=>a(z.target.value),className:`input ${_?"input-error":F?"input-success":""}`,placeholder:"Confirm your password",minLength:8}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-textPrimary transition-colors",onClick:()=>h(!d),children:d?c.jsx(Hi,{className:"h-5 w-5 text-textTertiary"}):c.jsx(Wi,{className:"h-5 w-5 text-textTertiary"})})]}),_&&c.jsxs("div",{className:"flex items-center mt-2 text-sm text-accent-400 bg-accent-500/10 px-3 py-2 rounded-lg",children:[c.jsx(rt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),_]})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:f,className:"btn btn-primary w-full text-lg py-4 hover-glow transition-all duration-300",children:f?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"loading-spinner h-6 w-6 border-2 border-t-white mr-2"}),"Creating Account..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ct,{className:"w-5 h-5 mr-2"}),"Create Account"]})})}),c.jsxs("div",{className:"mt-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-divider"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-4 bg-background text-textSecondary font-medium",children:"Or continue with"})})]}),c.jsx("div",{className:"mt-6",children:c.jsxs("button",{type:"button",onClick:ee,className:"w-full btn btn-outline py-4 text-base hover:bg-primary-500/10 transition-all duration-300",children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),c.jsx("span",{className:"ml-2",children:"Continue with Google"})]})})]})]})]})]})},oN=()=>{const[t,e]=S.useState(""),[n,s]=S.useState(!1),[r,i]=S.useState(""),[o,a]=S.useState(!1),[l,u]=S.useState(!1);me.useEffect(()=>{if(t){const h=ml(t);a(h.isValid),i(h.error||"")}else a(!1),i("")},[t]);const d=async h=>{var p;h.preventDefault();const f=ml(t);if(!f.isValid){i(f.error||""),L.error("Please fix the email errors");return}s(!0);try{const m=await fetch("/api/v1/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),y=await m.json();m.ok?(u(!0),L.success("Password reset email sent! Check your inbox.")):L.error(((p=y.error)==null?void 0:p.message)||"Failed to send reset email")}catch(m){console.error("Forgot password error:",m),L.error("Failed to send reset email. Please try again.")}finally{s(!1)}};return l?c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background py-12 px-4 sm:px-6 lg:px-8 relative",children:[c.jsx("div",{className:"absolute top-6 left-6 z-20",children:c.jsxs(se,{to:"/",className:"btn btn-ghost btn-sm gap-2 hover:bg-primary-500/10 transition-all duration-300",children:[c.jsx(xn,{className:"w-4 h-4"}),"Back to Home"]})}),c.jsxs("div",{className:"absolute inset-0 overflow-hidden -z-10",children:[c.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-500/5 rounded-full"}),c.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-secondary-500/5 rounded-full"})]}),c.jsx("div",{className:"max-w-md w-full space-y-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center shadow-glow mb-4",children:c.jsx(es,{className:"w-8 h-8 text-white"})}),c.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Check Your Email"}),c.jsxs("p",{className:"text-textSecondary mb-6",children:["We've sent a password reset link to ",c.jsx("strong",{children:t})]}),c.jsxs("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-6 space-y-4",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:c.jsx(vi,{className:"w-5 h-5 text-primary-400"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"text-sm font-medium text-textPrimary mb-1",children:"What's next?"}),c.jsxs("ul",{className:"text-sm text-textSecondary space-y-1",children:[c.jsx("li",{children:" Check your email inbox (and spam folder)"}),c.jsx("li",{children:" Click the reset link in the email"}),c.jsx("li",{children:" Create a new password"}),c.jsx("li",{children:" Sign in with your new password"})]})]})]}),c.jsxs("div",{className:"text-xs text-textTertiary bg-surface p-3 rounded-lg",children:[c.jsx("strong",{children:"Note:"})," The reset link will expire in 1 hour for security reasons."]})]}),c.jsxs("div",{className:"mt-8 space-y-3",children:[c.jsx(se,{to:"/login",className:"btn btn-primary w-full",children:"Back to Login"}),c.jsx("button",{onClick:()=>{u(!1),e("")},className:"btn btn-ghost w-full",children:"Try a different email"})]})]})})]}):c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background py-12 px-4 sm:px-6 lg:px-8 relative",children:[c.jsx("div",{className:"absolute top-6 left-6 z-20",children:c.jsxs(se,{to:"/",className:"btn btn-ghost btn-sm gap-2 hover:bg-primary-500/10 transition-all duration-300",children:[c.jsx(xn,{className:"w-4 h-4"}),"Back to Home"]})}),c.jsxs("div",{className:"absolute inset-0 overflow-hidden -z-10",children:[c.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-500/5 rounded-full"}),c.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-secondary-500/5 rounded-full"})]}),c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary-500 to-secondary-600 rounded-2xl flex items-center justify-center shadow-glow mb-4",children:c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-600 to-secondary-700 rounded-xl flex items-center justify-center",children:c.jsx(ct,{className:"w-6 h-6 text-white"})})}),c.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Forgot Password?"}),c.jsx("p",{className:"text-textSecondary",children:"No worries! Enter your email and we'll send you reset instructions."})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[c.jsx("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-8 space-y-6 shadow-soft hover:shadow-medium transition-all duration-300",children:c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-textSecondary mb-3",children:"Email address"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(vi,{className:"h-5 w-5 text-textTertiary"})}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:h=>e(h.target.value),className:`input pl-12 pr-12 ${r?"input-error":o?"input-success":""}`,placeholder:"Enter your Gmail address"}),o&&c.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:c.jsx(es,{className:"h-5 w-5 text-primary-400"})})]}),r&&c.jsxs("div",{className:"flex items-center mt-2 text-sm text-accent-400 bg-accent-500/10 px-3 py-2 rounded-lg",children:[c.jsx(rt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),r]})]})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:n||!o,className:"btn btn-primary w-full text-lg py-4 hover-glow transition-all duration-300",children:n?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"loading-spinner h-6 w-6 border-2 border-t-white mr-2"}),"Sending Reset Link..."]}):c.jsxs(c.Fragment,{children:[c.jsx(vi,{className:"w-5 h-5 mr-2"}),"Send Reset Link"]})})}),c.jsx("div",{className:"text-center",children:c.jsxs(se,{to:"/login",className:"inline-flex items-center text-sm text-textSecondary hover:text-textPrimary transition-colors",children:[c.jsx(fo,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})]})]})},aN=()=>{const[t]=s0(),e=Bt(),n=t.get("token"),[s,r]=S.useState(""),[i,o]=S.useState(""),[a,l]=S.useState(!1),[u,d]=S.useState(!1),[h,f]=S.useState(!1),[p,m]=S.useState(!0),[y,v]=S.useState(!1),[g,x]=S.useState(""),[b,_]=S.useState(""),[w,k]=S.useState(!1),[j,N]=S.useState(!1);S.useEffect(()=>{(async()=>{if(!n){m(!1),v(!1);return}try{(await fetch(`/api/v1/auth/verify-reset-token/${n}`)).ok?v(!0):v(!1)}catch(O){console.error("Token verification error:",O),v(!1)}finally{m(!1)}})()},[n]),S.useEffect(()=>{if(s){const E=wr(s);k(E.isValid),x(E.error||"")}else k(!1),x("")},[s]),S.useEffect(()=>{i?s!==i?(N(!1),_("Passwords do not match")):(N(!0),_("")):(N(!1),_(""))},[i,s]);const P=async E=>{var F;E.preventDefault();const O=wr(s);if(!O.isValid){x(O.error||""),L.error("Please fix the password errors");return}if(s!==i){_("Passwords do not match"),L.error("Passwords do not match");return}f(!0);try{const U=await fetch("/api/v1/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,password:s})}),$=await U.json();U.ok?(L.success("Password reset successfully! You can now login with your new password."),e("/login")):L.error(((F=$.error)==null?void 0:F.message)||"Failed to reset password")}catch(U){console.error("Reset password error:",U),L.error("Failed to reset password. Please try again.")}finally{f(!1)}};return p?c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background relative",children:[c.jsx("div",{className:"absolute top-6 left-6 z-20",children:c.jsxs(se,{to:"/",className:"btn btn-ghost btn-sm gap-2 hover:bg-primary-500/10 transition-all duration-300",children:[c.jsx(xn,{className:"w-4 h-4"}),"Back to Home"]})}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"loading-spinner h-10 w-10 border-3 border-t-primary-500 mx-auto"}),c.jsx("p",{className:"text-textSecondary mt-4",children:"Verifying reset link..."})]})]}):y?c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background py-12 px-4 sm:px-6 lg:px-8 relative",children:[c.jsx("div",{className:"absolute top-6 left-6 z-20",children:c.jsxs(se,{to:"/",className:"btn btn-ghost btn-sm gap-2 hover:bg-primary-500/10 transition-all duration-300",children:[c.jsx(xn,{className:"w-4 h-4"}),"Back to Home"]})}),c.jsxs("div",{className:"absolute inset-0 overflow-hidden -z-10",children:[c.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-500/5 rounded-full"}),c.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-secondary-500/5 rounded-full"})]}),c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary-500 to-secondary-600 rounded-2xl flex items-center justify-center shadow-glow mb-4",children:c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-600 to-secondary-700 rounded-xl flex items-center justify-center",children:c.jsx(ct,{className:"w-6 h-6 text-white"})})}),c.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Reset Your Password"}),c.jsx("p",{className:"text-textSecondary",children:"Enter your new password below"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:P,children:[c.jsxs("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-8 space-y-6 shadow-soft hover:shadow-medium transition-all duration-300",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-textSecondary mb-3",children:"New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(yi,{className:"h-5 w-5 text-textTertiary"})}),c.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"new-password",required:!0,value:s,onChange:E=>r(E.target.value),className:`input pl-12 pr-12 ${g?"input-error":w?"input-success":""}`,placeholder:"Enter your new password",minLength:8}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-textPrimary transition-colors",onClick:()=>l(!a),children:a?c.jsx(Hi,{className:"h-5 w-5 text-textTertiary"}):c.jsx(Wi,{className:"h-5 w-5 text-textTertiary"})})]}),g&&c.jsxs("div",{className:"flex items-center mt-2 text-sm text-accent-400 bg-accent-500/10 px-3 py-2 rounded-lg",children:[c.jsx(rt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),g]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-textSecondary mb-3",children:"Confirm New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(yi,{className:"h-5 w-5 text-textTertiary"})}),c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",autoComplete:"new-password",required:!0,value:i,onChange:E=>o(E.target.value),className:`input pl-12 pr-12 ${b?"input-error":j?"input-success":""}`,placeholder:"Confirm your new password",minLength:8}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-textPrimary transition-colors",onClick:()=>d(!u),children:u?c.jsx(Hi,{className:"h-5 w-5 text-textTertiary"}):c.jsx(Wi,{className:"h-5 w-5 text-textTertiary"})})]}),b&&c.jsxs("div",{className:"flex items-center mt-2 text-sm text-accent-400 bg-accent-500/10 px-3 py-2 rounded-lg",children:[c.jsx(rt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),b]})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:h||!w||!j,className:"btn btn-primary w-full text-lg py-4 hover-glow transition-all duration-300",children:h?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"loading-spinner h-6 w-6 border-2 border-t-white mr-2"}),"Resetting Password..."]}):c.jsxs(c.Fragment,{children:[c.jsx(yi,{className:"w-5 h-5 mr-2"}),"Reset Password"]})})}),c.jsx("div",{className:"text-center",children:c.jsxs(se,{to:"/login",className:"inline-flex items-center text-sm text-textSecondary hover:text-textPrimary transition-colors",children:[c.jsx(fo,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})]})]}):c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background py-12 px-4 sm:px-6 lg:px-8 relative",children:[c.jsx("div",{className:"absolute top-6 left-6 z-20",children:c.jsxs(se,{to:"/",className:"btn btn-ghost btn-sm gap-2 hover:bg-primary-500/10 transition-all duration-300",children:[c.jsx(xn,{className:"w-4 h-4"}),"Back to Home"]})}),c.jsxs("div",{className:"absolute inset-0 overflow-hidden -z-10",children:[c.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-500/5 rounded-full"}),c.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-secondary-500/5 rounded-full"})]}),c.jsx("div",{className:"max-w-md w-full space-y-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-accent-500 to-accent-600 rounded-2xl flex items-center justify-center shadow-glow mb-4",children:c.jsx(rt,{className:"w-8 h-8 text-white"})}),c.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Invalid Reset Link"}),c.jsx("p",{className:"text-textSecondary mb-6",children:"This password reset link is invalid or has expired. Please request a new one."}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(se,{to:"/forgot-password",className:"btn btn-primary w-full",children:"Request New Reset Link"}),c.jsx(se,{to:"/login",className:"btn btn-ghost w-full",children:"Back to Login"})]})]})})]})},lN=({thread:t})=>{const e=n=>{const s=new Date(n),i=Math.floor((new Date().getTime()-s.getTime())/(1e3*60*60));return i<1?"Just now":i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`};return c.jsx("div",{className:"card p-6 hover-lift transition-all duration-300",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"flex-shrink-0",children:t.author.avatarUrl?c.jsx("img",{src:t.author.avatarUrl,alt:t.author.username,className:"w-10 h-10 rounded-full border-2 border-border"}):c.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-sm font-medium",children:t.author.username.charAt(0).toUpperCase()})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[c.jsx("span",{className:"text-sm font-medium text-textPrimary",children:t.author.username}),c.jsx("span",{className:"text-sm text-textTertiary",children:""}),c.jsxs("div",{className:"flex items-center space-x-1 text-sm text-textTertiary",children:[c.jsx(Sn,{className:"w-3 h-3"}),c.jsx("span",{children:e(t.createdAt)})]}),t.status==="flagged"&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-sm text-textTertiary",children:""}),c.jsx("span",{className:"badge badge-accent text-xs",children:"Under Review"})]})]}),c.jsxs(se,{to:`/app/thread/${t._id}`,className:"block group",children:[c.jsx("h3",{className:"text-xl font-semibold text-textPrimary mb-3 group-hover:text-primary-400 transition-colors duration-200",children:t.title}),c.jsx("p",{className:"text-textSecondary mb-4 line-clamp-3 leading-relaxed",children:t.content})]}),t.imageUrl&&c.jsxs("div",{className:"mb-4 rounded-xl overflow-hidden",children:[c.jsx("img",{src:t.imageUrl,alt:t.imageCaption||"Thread image",className:"w-full max-w-md rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105",onError:n=>{n.currentTarget.style.display="none"}}),t.imageCaption&&c.jsx("p",{className:"text-sm text-textTertiary mt-2 italic",children:t.imageCaption})]}),c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(lv,{className:"w-4 h-4 text-textTertiary"}),c.jsx("span",{className:"text-sm text-textSecondary capitalize",children:t.topic})]}),c.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[c.jsxs("div",{className:`flex items-center space-x-2 ${t.likedByMe?"text-accent-400":"text-textTertiary hover:text-textPrimary"} transition-colors duration-200`,children:[c.jsx(Fs,{className:`w-4 h-4 ${t.likedByMe?"fill-current":""}`}),c.jsx("span",{children:t.likes})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-textTertiary hover:text-textPrimary transition-colors duration-200",children:[c.jsx(Et,{className:"w-4 h-4"}),c.jsx("span",{children:t.replyCount??0})]})]}),t.summary&&c.jsxs("div",{className:"mt-4 p-4 bg-primary-500/10 rounded-xl border border-primary-500/20",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(ct,{className:"w-4 h-4 text-primary-400"}),c.jsx("h4",{className:"text-sm font-medium text-primary-400",children:"AI Summary"})]}),c.jsx("p",{className:"text-sm text-primary-300 whitespace-pre-line leading-relaxed",children:t.summary})]})]})]})})},cN=()=>{const[t,e]=S.useState({page:1,limit:10,sort:"newest"}),[n,s]=S.useState(""),[r,i]=S.useState(!1),o=ao(),{socket:a}=Qh(),l=Bt(),{data:u,isLoading:d,error:h}=Kt(["threads",t],()=>rr.getThreads(t),{keepPreviousData:!0});S.useEffect(()=>{if(a)return a.on("thread:new",g=>{t.topic&&g.topic!==t.topic||t.search&&!g.title.toLowerCase().includes(t.search.toLowerCase())||(o.setQueryData(["threads",t],x=>x&&{...x,items:[g,...x.items],total:x.total+1}),L.success(`New thread: ${g.title}`,{duration:4e3,icon:""}))}),a.on("thread:like",({threadId:g,likes:x,likedByMe:b})=>{o.setQueryData(["threads",t],_=>_&&{..._,items:_.items.map(w=>w._id===g?{...w,likes:x,likedByMe:b}:w)})}),()=>{a.off("thread:new"),a.off("thread:like")}},[a,t,o]);const f=g=>{g.preventDefault(),e(x=>({...x,search:n,page:1}))},p=g=>{e(x=>({...x,sort:g,page:1}))},m=g=>{e(x=>({...x,topic:g||void 0,page:1}))},y=g=>{e(x=>({...x,page:g}))},v=["general","technology","books","movies","music","sports","politics","science"];return h?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-accent-400",children:"Failed to load threads. Please try again."})}):c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg",children:c.jsx(ct,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Threads"}),c.jsx("p",{className:"text-textSecondary mt-1",children:"Join the conversation and share your thoughts"})]})]}),c.jsxs("button",{onClick:()=>l("/app/create-thread"),className:"btn btn-primary flex items-center space-x-2",children:[c.jsx(qj,{className:"w-4 h-4"}),c.jsx("span",{children:"New Thread"})]})]}),c.jsxs("div",{className:"card p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-textPrimary",children:"Discover Threads"}),c.jsxs("button",{onClick:()=>i(!r),className:"flex items-center space-x-2 text-sm text-textSecondary hover:text-textPrimary transition-colors",children:[c.jsx(zj,{className:"w-4 h-4"}),c.jsxs("span",{children:[r?"Hide":"Show"," Filters"]})]})]}),r&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx("form",{onSubmit:f,className:"md:col-span-2",children:c.jsxs("div",{className:"relative",children:[c.jsx(av,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-textTertiary w-4 h-4"}),c.jsx("input",{type:"text",placeholder:"Search threads by title or content...",value:n,onChange:g=>s(g.target.value),className:"input pl-10"})]})}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:t.topic||"",onChange:g=>m(g.target.value),className:"input appearance-none",children:[c.jsx("option",{value:"",children:"All Topics"}),v.map(g=>c.jsx("option",{value:g,children:g.charAt(0).toUpperCase()+g.slice(1)},g))]}),c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:c.jsx(ov,{className:"h-4 w-4 text-textTertiary"})})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 pt-4 border-t border-border",children:[c.jsx("span",{className:"text-sm font-medium text-textSecondary",children:"Sort by:"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>p("newest"),className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t.sort==="newest"?"bg-primary-500/20 text-primary-400 border border-primary-500/30":"text-textSecondary hover:text-textPrimary hover:bg-surfaceElevated"}`,children:[c.jsx(Sn,{className:"w-4 h-4"}),c.jsx("span",{children:"Newest"})]}),c.jsxs("button",{onClick:()=>p("oldest"),className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t.sort==="oldest"?"bg-primary-500/20 text-primary-400 border border-primary-500/30":"text-textSecondary hover:text-textPrimary hover:bg-surfaceElevated"}`,children:[c.jsx(Sn,{className:"w-4 h-4"}),c.jsx("span",{children:"Oldest"})]}),c.jsxs("button",{onClick:()=>p("popular"),className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t.sort==="popular"?"bg-primary-500/20 text-primary-400 border border-primary-500/30":"text-textSecondary hover:text-textPrimary hover:bg-surfaceElevated"}`,children:[c.jsx(ks,{className:"w-4 h-4"}),c.jsx("span",{children:"Popular"})]})]})]})]})]}),c.jsx("div",{className:"space-y-4",children:d?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"loading-spinner h-8 w-8 border-2 border-t-primary-500 mx-auto"}),c.jsx("p",{className:"text-textSecondary mt-2",children:"Loading threads..."})]}):u!=null&&u.items&&u.items.length>0?c.jsxs(c.Fragment,{children:[u.items.map(g=>c.jsx(lN,{thread:g},g._id)),u.total>u.limit&&c.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[c.jsx("button",{onClick:()=>y(t.page-1),disabled:t.page===1,className:"px-3 py-2 text-sm border border-border rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-surfaceElevated transition-colors",children:"Previous"}),c.jsxs("span",{className:"px-3 py-2 text-sm text-textSecondary",children:["Page ",t.page," of ",Math.ceil(u.total/u.limit)]}),c.jsx("button",{onClick:()=>y(t.page+1),disabled:t.page>=Math.ceil(u.total/u.limit),className:"px-3 py-2 text-sm border border-border rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-surfaceElevated transition-colors",children:"Next"})]})]}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-16 h-16 bg-surfaceElevated rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Et,{className:"w-8 h-8 text-textTertiary"})}),c.jsx("h3",{className:"text-lg font-medium text-textPrimary mb-2",children:"No threads found"}),c.jsx("p",{className:"text-textSecondary mb-4",children:t.search||t.topic?"Try adjusting your search or filters":"Be the first to start a conversation!"}),!t.search&&!t.topic&&c.jsx("button",{onClick:()=>l("/app/create-thread"),className:"btn btn-primary",children:"Create First Thread"})]})})]})},uN=["general","technology","science","health","entertainment","sports","politics","business","education","lifestyle"],dN=()=>{const[t,e]=S.useState(""),[n,s]=S.useState(""),[r,i]=S.useState(""),[o,a]=S.useState(""),[l,u]=S.useState(""),[d,h]=S.useState(!1),[f,p]=S.useState(""),[m,y]=S.useState(""),[v,g]=S.useState("");nn();const x=Bt(),b=async k=>{try{const j=new FormData;j.append("image",k);const N=await fetch("/api/v1/upload/image",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:j});if(N.ok){const P=await N.json();a(P.imageUrl),L.success("Image uploaded successfully!")}else L.error("Failed to upload image")}catch(j){console.error("Upload error:",j),L.error("Failed to upload image")}};S.useEffect(()=>{t?t.length<5?p("Title must be at least 5 characters long"):t.length>100?p("Title cannot exceed 100 characters"):p(""):p("")},[t]),S.useEffect(()=>{n?n.length<10?y("Content must be at least 10 characters long"):n.length>5e3?y("Content cannot exceed 5000 characters"):y(""):y("")},[n]),S.useEffect(()=>{g("")},[r]);const _=async k=>{var j,N,P;if(k.preventDefault(),!t||!n||!r){t||p("Title is required"),n||y("Content is required"),r||g("Topic is required"),L.error("Please fill in all required fields");return}if(f||m||v){L.error("Please fix the validation errors");return}h(!0);try{const E=await rr.createThread({title:t.trim(),content:n.trim(),topic:r,imageUrl:o.trim()||void 0,imageCaption:l.trim()||void 0});E.moderation&&E.moderation.status==="Flagged"?(L.success("Thread created but is under review for content moderation"),x("/app")):(L.success("Thread created successfully!"),x(`/app/thread/${E.thread._id}`))}catch(E){console.error("Error creating thread:",E),L.error(((P=(N=(j=E.response)==null?void 0:j.data)==null?void 0:N.error)==null?void 0:P.message)||"Failed to create thread")}finally{h(!1)}},w=t&&n&&r&&!f&&!m&&!v;return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"bg-surface border-b border-border sticky top-0 z-10",children:c.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:()=>x(-1),className:"p-2 hover:bg-surfaceElevated rounded-full transition-colors text-textSecondary hover:text-textPrimary",children:c.jsx(fo,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-semibold text-textPrimary",children:"Create New Thread"}),c.jsx("p",{className:"text-sm text-textSecondary",children:"Share your thoughts with the community"})]})]})})}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[c.jsxs("form",{onSubmit:_,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-textSecondary mb-2",children:"Thread Title *"}),c.jsx("input",{id:"title",type:"text",value:t,onChange:k=>e(k.target.value),className:`input ${f?"input-error":""}`,placeholder:"What's your thread about?",maxLength:100}),c.jsxs("div",{className:"flex justify-between items-center mt-1",children:[f&&c.jsxs("div",{className:"flex items-center text-sm text-accent-400",children:[c.jsx(rt,{className:"h-4 w-4 mr-1"}),f]}),c.jsxs("span",{className:`text-sm ${f?"text-accent-400":"text-textTertiary"}`,children:[t.length,"/100"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-textSecondary mb-2",children:"Topic *"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{id:"topic",value:r,onChange:k=>i(k.target.value),className:`input ${v?"input-error":""}`,children:[c.jsx("option",{value:"",children:"Select a topic"}),uN.map(k=>c.jsx("option",{value:k,children:k.charAt(0).toUpperCase()+k.slice(1)},k))]}),c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:c.jsx(ov,{className:"h-5 w-5 text-textTertiary"})})]}),v&&c.jsxs("div",{className:"flex items-center mt-1 text-sm text-accent-400",children:[c.jsx(rt,{className:"h-4 w-4 mr-1"}),v]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-textSecondary mb-2",children:"Thread Content *"}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{id:"content",value:n,onChange:k=>s(k.target.value),rows:12,className:`input ${m?"input-error":""}`,placeholder:"Share your thoughts, questions, or start a discussion...",maxLength:5e3}),c.jsxs("div",{className:"absolute bottom-3 right-3 bg-surfaceElevated px-2 py-1 rounded text-xs text-textTertiary",children:[n.length,"/5000"]})]}),m&&c.jsxs("div",{className:"flex items-center mt-1 text-sm text-accent-400",children:[c.jsx(rt,{className:"h-4 w-4 mr-1"}),m]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"imageFile",className:"block text-sm font-medium text-textSecondary mb-2",children:"Image (Optional)"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{id:"imageFile",type:"file",accept:"image/*",onChange:k=>{var N;const j=(N=k.target.files)==null?void 0:N[0];j&&b(j)},className:"input",disabled:d}),c.jsx("input",{id:"imageUrl",type:"url",value:o,onChange:k=>a(k.target.value),className:"input",placeholder:"Or paste image URL here",disabled:d})]}),c.jsx("p",{className:"text-xs text-textTertiary mt-1",children:"Upload an image or paste an image URL to enhance your thread"})]}),o&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"imageCaption",className:"block text-sm font-medium text-textSecondary mb-2",children:"Image Caption (Optional)"}),c.jsx("input",{id:"imageCaption",type:"text",value:l,onChange:k=>u(k.target.value),className:"input",placeholder:"Describe the image...",maxLength:200}),c.jsx("div",{className:"flex justify-between items-center mt-1",children:c.jsxs("span",{className:"text-sm text-textTertiary",children:[l.length,"/200"]})})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"submit",disabled:!w||d,className:`btn ${w&&!d?"btn-primary":"btn-ghost opacity-50 cursor-not-allowed"}`,children:d?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"loading-spinner h-4 w-4 border-2 mr-2"}),"Creating..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Kj,{className:"h-4 w-4 mr-2"}),"Create Thread"]})})})]}),c.jsx("div",{className:"mt-8 p-6 card-glass",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:c.jsx(Bj,{className:"h-5 w-5 text-primary-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-textPrimary mb-2",children:"Tips for great threads:"}),c.jsxs("ul",{className:"text-sm text-textSecondary space-y-1",children:[c.jsx("li",{children:" Be clear and specific in your title"}),c.jsx("li",{children:" Provide context and background information"}),c.jsx("li",{children:" Ask engaging questions to encourage discussion"}),c.jsx("li",{children:" Choose the most relevant topic for better visibility"}),c.jsx("li",{children:" Be respectful and follow community guidelines"})]})]})]})})]})]})},hN=({onEmojiSelect:t,onClose:e})=>{const[n,s]=S.useState("reactions"),r=S.useRef(null),i={reactions:{name:"Reactions",icon:c.jsx(_d,{className:"w-4 h-4"}),emojis:["","","","","","","","","","","",""]},emotions:{name:"Emotions",icon:c.jsx(Fs,{className:"w-4 h-4"}),emojis:["","","","","","","","","","","",""]},objects:{name:"Objects",icon:c.jsx(sm,{className:"w-4 h-4"}),emojis:["","","","","","","","","","","",""]},nature:{name:"Nature",icon:c.jsx(sm,{className:"w-4 h-4"}),emojis:["","","","","","","","","","","",""]},food:{name:"Food",icon:c.jsx(Xj,{className:"w-4 h-4"}),emojis:["","","","","","","","","","","",""]},activities:{name:"Activities",icon:c.jsx(Qj,{className:"w-4 h-4"}),emojis:["","","","","","","","","","","",""]}};S.useEffect(()=>{const a=l=>{r.current&&!r.current.contains(l.target)&&(e==null||e())};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[e]);const o=a=>{t(a),setTimeout(()=>{e==null||e()},150)};return c.jsxs("div",{ref:r,className:"bg-surface border border-border rounded-xl shadow-2xl p-4 w-80 max-h-96 overflow-hidden glass",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-border",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"p-1 bg-primary-500/20 rounded-lg",children:c.jsx(_d,{className:"w-4 h-4 text-primary-400"})}),c.jsx("h3",{className:"text-lg font-semibold text-textPrimary",children:"Add Reaction"})]}),c.jsx("button",{onClick:e,className:"text-textTertiary hover:text-textPrimary transition-colors p-1 hover:bg-surfaceElevated rounded-lg",children:c.jsx(Kh,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex space-x-1 mb-4 overflow-x-auto pb-2",children:Object.entries(i).map(([a,l])=>c.jsxs("button",{onClick:()=>s(a),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all duration-200 ${n===a?"bg-primary-500/20 text-primary-400 border border-primary-500/30 shadow-sm":"text-textTertiary hover:text-textPrimary hover:bg-surfaceElevated"}`,children:[l.icon,c.jsx("span",{children:l.name})]},a))}),c.jsx("div",{className:"grid grid-cols-6 gap-2 max-h-48 overflow-y-auto",children:i[n].emojis.map((a,l)=>c.jsx("button",{onClick:()=>o(a),className:"w-10 h-10 text-2xl hover:bg-surfaceElevated rounded-lg transition-all duration-200 flex items-center justify-center hover:scale-110 hover:shadow-sm",title:`Add ${a} reaction`,children:a},l))}),c.jsxs("div",{className:"mt-4 pt-3 border-t border-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(cv,{className:"w-4 h-4 text-secondary-400"}),c.jsx("h4",{className:"text-sm font-medium text-textSecondary",children:"Quick Reactions"})]}),c.jsx("div",{className:"flex space-x-2",children:["","","","",""].map((a,l)=>c.jsx("button",{onClick:()=>o(a),className:"w-8 h-8 text-lg hover:bg-surfaceElevated rounded-lg transition-all duration-200 flex items-center justify-center hover:scale-110",children:a},l))})]}),c.jsx("div",{className:"mt-4 pt-3 border-t border-border text-xs text-textTertiary text-center",children:"Click an emoji to add it as a reaction"})]})},uv=({reply:t,threadId:e,onReplyUpdate:n,onReplyDelete:s,onNestedReply:r,depth:i=0,showNestedReplies:o=!0})=>{const[a,l]=S.useState(!1),[u,d]=S.useState(!1),[h,f]=S.useState(!1),[p,m]=S.useState(t.content),[y,v]=S.useState(!1),[g,x]=S.useState(!1),[b,_]=S.useState([]),[w,k]=S.useState(!1),[j,N]=S.useState(!1),{user:P}=nn(),E=(P==null?void 0:P._id)===t.author._id,O=(P==null?void 0:P.role)==="admin",F=E||O,U=K=>{const ge=new Date(K),xe=Math.floor((new Date().getTime()-ge.getTime())/(1e3*60));return xe<1?"Just now":xe<60?`${xe}m ago`:xe<1440?`${Math.floor(xe/60)}h ago`:`${Math.floor(xe/1440)}d ago`},$=async()=>{if(!a){l(!0);try{const K=await xs.likeReply(t._id,{action:"toggle"});n(t._id,{...t,...K}),L.success(t.likedByMe?"Reply unliked":"Reply liked!")}catch{L.error("Failed to like reply")}finally{l(!1)}}},V=()=>{d(!0),r(t._id)},H=()=>{f(!0),m(t.content)},G=async()=>{if(p.trim()===t.content){f(!1);return}try{const K=await xs.updateReply(t._id,{content:p.trim()});n(t._id,K.reply),f(!1),L.success("Reply updated successfully!")}catch{L.error("Failed to update reply")}},T=async()=>{if(confirm("Are you sure you want to delete this reply?"))try{await xs.deleteReply(t._id),s(t._id),L.success("Reply deleted successfully!")}catch{L.error("Failed to delete reply")}},M=async K=>{try{await xs.addEmojiReaction(t._id,K),L.success(`Added ${K} reaction!`),v(!1)}catch{L.error("Failed to add emoji reaction")}},I=async()=>{if(w){k(!1);return}if(b.length>0){k(!0);return}N(!0);try{console.log("Loading nested replies for reply:",t._id);const K=await xs.getNestedReplies(t._id);console.log("Nested replies response:",K),_(K.items||[]),k(!0)}catch(K){console.error("Failed to load nested replies:",K),L.error("Failed to load nested replies")}finally{N(!1)}},z=i<3;return c.jsx("div",{className:`${i>0?"ml-8 border-l border-border pl-4":""} py-2`,children:c.jsxs("div",{className:"card p-4 hover-lift transition-all duration-300",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[t.author.avatarUrl?c.jsx("img",{src:t.author.avatarUrl,alt:t.author.username,className:"w-8 h-8 rounded-full"}):c.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-sm font-medium",children:t.author.username.charAt(0).toUpperCase()})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"font-medium text-textPrimary",children:t.author.username}),t.author._id===(P==null?void 0:P._id)&&c.jsx("span",{className:"text-xs bg-primary-500/20 text-primary-400 px-2 py-1 rounded-full",children:"You"}),t.status==="flagged"&&c.jsx("span",{className:"text-xs bg-accent-500/20 text-accent-400 px-2 py-1 rounded-full",children:"Under Review"})]}),c.jsxs("div",{className:"flex items-center space-x-1 text-sm text-textTertiary",children:[c.jsx(Sn,{className:"w-3 h-3"}),c.jsx("span",{children:U(t.createdAt)})]})]})]}),F&&c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>x(!g),className:"p-1 hover:bg-surfaceElevated rounded-full transition-colors duration-200",children:c.jsx(Vj,{className:"w-4 h-4 text-textTertiary"})}),g&&c.jsxs("div",{className:"absolute right-0 top-8 bg-surfaceElevated border border-border rounded-xl shadow-2xl py-2 z-10 min-w-[120px]",children:[E&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:H,className:"w-full text-left px-4 py-2 text-sm text-textSecondary hover:bg-surface hover:text-textPrimary transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(Hj,{className:"w-4 h-4"}),c.jsx("span",{children:"Edit"})]}),c.jsxs("button",{onClick:T,className:"w-full text-left px-4 py-2 text-sm text-accent-400 hover:bg-surface hover:text-accent-300 transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(qi,{className:"w-4 h-4"}),c.jsx("span",{children:"Delete"})]})]}),O&&!E&&c.jsxs("button",{onClick:T,className:"w-full text-left px-4 py-2 text-sm text-accent-400 hover:bg-surface hover:text-accent-300 transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(qi,{className:"w-4 h-4"}),c.jsx("span",{children:"Delete as Admin"})]})]})]})]}),t.parentReplyId&&c.jsxs("div",{className:"mb-2 text-xs text-textTertiary bg-surfaceElevated p-2 rounded-lg",children:[c.jsx("span",{className:"font-medium",children:"Replying to:"})," ",t.parentReplyAuthor||"Unknown user"]}),h?c.jsxs("div",{className:"mb-3",children:[c.jsx("textarea",{value:p,onChange:K=>m(K.target.value),className:"input resize-none",rows:3,maxLength:1e3}),c.jsxs("div",{className:"flex justify-end space-x-2 mt-2",children:[c.jsx("button",{onClick:()=>f(!1),className:"btn btn-ghost text-sm",children:"Cancel"}),c.jsx("button",{onClick:G,className:"btn btn-primary text-sm",children:"Save"})]})]}):c.jsx("div",{className:"mb-3",children:c.jsx("p",{className:"text-textSecondary whitespace-pre-wrap",children:t.content})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:$,disabled:a,className:`btn btn-ghost flex items-center space-x-2 px-3 py-2 ${t.likedByMe?"text-accent-400 hover:text-accent-300":"text-textTertiary hover:text-textPrimary"}`,children:[c.jsx(Fs,{className:`w-4 h-4 ${t.likedByMe?"fill-current":""}`}),c.jsx("span",{children:t.likes})]}),t.emojiReactions&&Object.keys(t.emojiReactions).length>0&&c.jsx("div",{className:"flex items-center space-x-1",children:Object.entries(t.emojiReactions).map(([K,ge])=>c.jsxs("span",{className:"text-sm bg-surfaceElevated px-2 py-1 rounded-full text-textSecondary",children:[K," ",ge]},K))}),z&&c.jsxs("button",{onClick:V,className:"btn btn-ghost flex items-center space-x-2 px-3 py-2",children:[c.jsx(wd,{className:"w-4 h-4"}),c.jsx("span",{children:"Reply"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>v(!y),className:"btn btn-ghost flex items-center space-x-2 px-3 py-2",children:[c.jsx(_d,{className:"w-4 h-4"}),c.jsx("span",{children:"React"})]}),y&&c.jsx("div",{className:"absolute bottom-full left-0 mb-2 z-20",children:c.jsx(hN,{onEmojiSelect:M})})]}),o&&c.jsxs("button",{onClick:I,className:"btn btn-ghost flex items-center space-x-2 px-3 py-2",children:[c.jsx(Et,{className:"w-4 h-4"}),c.jsx("span",{children:j?"Loading...":w?`Hide replies (${b.length})`:`Show replies${(t.replyCount??0)>0?` (${t.replyCount})`:""}`})]})]}),c.jsxs("span",{className:"text-xs text-textTertiary",children:[t.content.length,"/1000"]})]}),w&&o&&c.jsxs("div",{className:"mt-4 space-y-3",children:[b.map(K=>c.jsx(uv,{reply:K,threadId:e,onReplyUpdate:n,onReplyDelete:s,onNestedReply:r,depth:i+1,showNestedReplies:i<2},K._id)),b.length===0&&c.jsx("div",{className:"text-center py-4 text-textTertiary text-sm",children:"No replies yet. Be the first to reply!"})]})]})})},fN=({isOpen:t,onClose:e,onSubmit:n,isLoading:s,threadId:r,parentReply:i,replyingTo:o})=>{const[a,l]=S.useState(""),[u,d]=S.useState(!1);S.useEffect(()=>{t&&(l(""),d(!1))},[t,i==null?void 0:i._id]);const h=p=>{p.preventDefault(),a.trim()&&(n(a.trim(),i==null?void 0:i._id),l(""))},f=()=>{s||(l(""),e())};return t?c.jsx("div",{className:"fixed inset-0 bg-overlay flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-surface border border-border rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:c.jsx(wd,{className:"w-5 h-5 text-primary-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-textPrimary",children:i?"Reply to Comment":"Add Reply"}),i&&c.jsxs("p",{className:"text-sm text-textSecondary",children:["Replying to ",i.author.username]})]})]}),c.jsx("button",{onClick:f,disabled:s,className:"text-textTertiary hover:text-textPrimary disabled:opacity-50 transition-colors p-1 hover:bg-surfaceElevated rounded-lg",children:c.jsx(Kh,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:h,className:"p-6",children:[i&&c.jsx("div",{className:"mb-6 p-4 bg-surfaceElevated rounded-xl border border-border",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"flex-shrink-0",children:i.author.avatarUrl?c.jsx("img",{src:i.author.avatarUrl,alt:i.author.username,className:"w-8 h-8 rounded-full"}):c.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-medium",children:i.author.username.charAt(0).toUpperCase()})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-textPrimary",children:i.author.username}),c.jsx("span",{className:"text-xs text-textTertiary",children:""}),c.jsx("span",{className:"text-xs text-textTertiary",children:new Date(i.createdAt).toLocaleDateString()})]}),c.jsx("p",{className:"text-sm text-textSecondary line-clamp-3",children:i.content})]})]})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-textSecondary mb-3",children:"Your Reply *"}),c.jsx("textarea",{id:"content",value:a,onChange:p=>l(p.target.value),className:"input resize-none min-h-[150px]",rows:6,placeholder:i?`Reply to ${i.author.username}...`:"Share your thoughts...",maxLength:1e3,required:!0,disabled:s}),c.jsxs("div",{className:"flex justify-between items-center mt-2",children:[c.jsxs("p",{className:"text-xs text-textTertiary",children:[a.length,"/1000 characters"]}),a.length>800&&c.jsxs("div",{className:"flex items-center text-xs text-accent-400",children:[c.jsx(rt,{className:"w-3 h-3 mr-1"}),"Getting long"]})]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-border",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-textTertiary",children:[c.jsx(Et,{className:"w-4 h-4"}),c.jsx("span",{children:i?"Nested reply":"Top-level reply"})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{type:"button",onClick:f,disabled:s,className:"btn btn-ghost",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:s||!a.trim(),className:"btn btn-primary flex items-center space-x-2",children:s?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"loading-spinner h-4 w-4 border-2 border-t-white"}),c.jsx("span",{children:"Posting..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(wd,{className:"w-4 h-4"}),c.jsx("span",{children:"Post Reply"})]})})]})]})]})]})}):null},pN=()=>{var k;const{id:t}=Jy(),{user:e}=nn(),{socket:n,joinRoom:s,leaveRoom:r}=Qh(),i=ao(),[o,a]=S.useState(!1),[l,u]=S.useState(1),[d,h]=S.useState(null),{data:f,isLoading:p,error:m}=Kt(["thread",t,l],()=>rr.getThread(t),{enabled:!!t}),y=Ot(()=>rr.likeThread(t),{onSuccess:()=>{i.invalidateQueries(["thread",t]),i.invalidateQueries(["threads"])}}),v=Ot(()=>rr.summarizeThread(t),{onSuccess:()=>{i.invalidateQueries(["thread",t]),L.success("Thread summarized successfully!")},onError:()=>{L.error("Failed to summarize thread")}}),g=Ot(()=>rr.deleteThread(t),{onSuccess:()=>{L.success("Thread deleted successfully!"),window.location.href="/app"},onError:j=>{var P,E,O;const N=((O=(E=(P=j.response)==null?void 0:P.data)==null?void 0:E.error)==null?void 0:O.message)||"Failed to delete thread";L.error(N)}}),x=Ot(j=>xs.createReply(t,{content:j}),{onSuccess:j=>{i.invalidateQueries(["thread",t]),a(!1),j.moderation?L.success("Reply posted but flagged for review"):L.success("Reply posted successfully!")},onError:j=>{var P,E,O;const N=((O=(E=(P=j.response)==null?void 0:P.data)==null?void 0:E.error)==null?void 0:O.message)||"Failed to post reply";L.error(N)}});S.useEffect(()=>{if(n&&t)return s(`thread:${t}`),n.on("reply:new",j=>{j.threadId===t&&i.invalidateQueries(["thread",t])}),n.on("reply:like",j=>{i.invalidateQueries(["thread",t])}),n.on("thread:like",j=>{j.threadId===t&&i.invalidateQueries(["thread",t])}),n.on("thread:updated",j=>{j.threadId===t&&i.invalidateQueries(["thread",t])}),()=>{r(`thread:${t}`),n.off("reply:new"),n.off("reply:like"),n.off("thread:like"),n.off("thread:updated")}},[n,t,s,r,i]);const b=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(p)return c.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"loading-spinner h-10 w-10 border-3 border-t-primary-500 mx-auto"}),c.jsx("p",{className:"text-textSecondary mt-4",children:"Loading thread..."})]})});if(m||!f)return c.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-accent-400",children:"Failed to load thread. Please try again."})})});const{thread:_,replies:w}=f;return c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[c.jsxs(se,{to:"/app",className:"inline-flex items-center space-x-2 text-textSecondary hover:text-textPrimary mb-6 transition-colors",children:[c.jsx(fo,{className:"w-4 h-4"}),c.jsx("span",{children:"Back to Threads"})]}),c.jsx("div",{className:"card p-6 mb-8",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"flex-shrink-0",children:_.author.avatarUrl?c.jsx("img",{src:_.author.avatarUrl,alt:_.author.username,className:"w-12 h-12 rounded-full"}):c.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-sm font-medium",children:_.author.username.charAt(0).toUpperCase()})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[c.jsx("span",{className:"text-sm font-medium text-textPrimary",children:_.author.username}),c.jsx("span",{className:"text-sm text-textTertiary",children:""}),c.jsx("span",{className:"text-sm text-textTertiary",children:b(_.createdAt)}),_.status==="flagged"&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-sm text-textTertiary",children:""}),c.jsx("span",{className:"badge badge-accent text-xs",children:"Under Review"})]})]}),c.jsx("h1",{className:"text-3xl font-bold text-textPrimary mb-4",children:_.title}),c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(lv,{className:"w-4 h-4 text-textTertiary"}),c.jsx("span",{className:"text-sm text-textSecondary capitalize",children:_.topic})]}),c.jsx("p",{className:"text-textSecondary mb-6 whitespace-pre-wrap leading-relaxed",children:_.content}),_.imageUrl&&c.jsxs("div",{className:"mb-6",children:[c.jsx("img",{src:_.imageUrl,alt:_.imageCaption||"Thread image",className:"w-full max-w-2xl rounded-xl shadow-md",onError:j=>{j.currentTarget.style.display="none"}}),_.imageCaption&&c.jsx("p",{className:"text-sm text-textTertiary mt-3 italic text-center",children:_.imageCaption})]}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsxs("button",{onClick:()=>y.mutate(),disabled:y.isLoading,className:`flex items-center space-x-2 text-sm transition-colors ${_.likedByMe?"text-accent-400":"text-textTertiary hover:text-textPrimary"}`,children:[c.jsx(Fs,{className:`w-5 h-5 ${_.likedByMe?"fill-current":""}`}),c.jsx("span",{children:_.likes})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-textTertiary",children:[c.jsx(Et,{className:"w-5 h-5"}),c.jsx("span",{children:_.replyCount})]})]}),e&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("button",{onClick:()=>a(!0),className:"btn btn-primary",children:"Reply"}),_.replyCount>=10&&!_.summary&&c.jsxs("button",{onClick:()=>v.mutate(),disabled:v.isLoading,className:"btn btn-secondary flex items-center space-x-2",children:[c.jsx(ct,{className:"w-4 h-4"}),c.jsx("span",{children:"Summarize"})]}),(e._id===_.author._id||e.role==="admin")&&c.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to delete this thread? This action cannot be undone.")&&g.mutate()},disabled:g.isLoading,className:"btn btn-accent flex items-center space-x-2",children:[c.jsx(qi,{className:"w-4 h-4"}),c.jsx("span",{children:"Delete"})]})]})]}),_.summary&&c.jsxs("div",{className:"mt-6 p-5 bg-primary-500/10 rounded-xl border border-primary-500/20",children:[c.jsxs("h3",{className:"text-sm font-medium text-primary-400 mb-3 flex items-center space-x-2",children:[c.jsx(ct,{className:"w-4 h-4"}),c.jsx("span",{children:"AI Summary"})]}),c.jsx("p",{className:"text-sm text-primary-300 whitespace-pre-line leading-relaxed",children:_.summary})]})]})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h2",{className:"text-2xl font-semibold text-textPrimary",children:["Replies (",_.replyCount,")"]}),w.items&&w.items.length>0&&c.jsx("button",{onClick:()=>a(!0),className:"btn btn-primary",children:"Add Reply"})]}),w.items&&w.items.length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"space-y-4",children:w.items.map(j=>c.jsx(uv,{reply:j,threadId:t,onReplyUpdate:(N,P)=>{i.invalidateQueries(["thread",t])},onReplyDelete:N=>{i.invalidateQueries(["thread",t])},onNestedReply:N=>{h(N),a(!0)}},j._id))}),w.total>w.limit&&c.jsxs("div",{className:"flex justify-center items-center space-x-3 mt-8",children:[c.jsxs("button",{onClick:()=>u(j=>Math.max(1,j-1)),disabled:l===1,className:"btn btn-ghost flex items-center space-x-2 px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Fj,{className:"w-4 h-4"}),c.jsx("span",{children:"Previous"})]}),c.jsxs("span",{className:"text-sm text-textSecondary px-4 py-2",children:["Page ",l," of ",Math.ceil(w.total/w.limit)]}),c.jsxs("button",{onClick:()=>u(j=>j+1),disabled:l>=Math.ceil(w.total/w.limit),className:"btn btn-ghost flex items-center space-x-2 px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("span",{children:"Next"}),c.jsx(Ij,{className:"w-4 h-4"})]})]})]}):c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx(Et,{className:"w-16 h-16 text-textTertiary mx-auto mb-4 opacity-60"}),c.jsx("h3",{className:"text-xl font-medium text-textPrimary mb-2",children:"No replies yet"}),c.jsx("p",{className:"text-textSecondary mb-6",children:"Be the first to share your thoughts!"}),c.jsx("button",{onClick:()=>a(!0),className:"btn btn-primary",children:"Add First Reply"})]})]}),c.jsx(fN,{isOpen:o,onClose:()=>{a(!1),h(null)},onSubmit:(j,N)=>{N?xs.createReply(t,{content:j},N).then(P=>{i.invalidateQueries(["thread",t]),a(!1),h(null),P.moderation?L.success("Reply posted but flagged for review"):L.success("Reply posted successfully!")}).catch(P=>{var O,F,U;const E=((U=(F=(O=P.response)==null?void 0:O.data)==null?void 0:F.error)==null?void 0:U.message)||"Failed to post reply";L.error(E)}):x.mutate(j)},isLoading:x.isLoading,threadId:t,parentReply:d&&((k=w.items)==null?void 0:k.find(j=>j._id===d))||null})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function po(t){return t+.5|0}const Dn=(t,e,n)=>Math.max(Math.min(t,n),e);function ni(t){return Dn(po(t*2.55),0,255)}function Xn(t){return Dn(po(t*255),0,255)}function un(t){return Dn(po(t/2.55)/100,0,1)}function am(t){return Dn(po(t*100),0,100)}const vt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Sd=[..."0123456789ABCDEF"],mN=t=>Sd[t&15],gN=t=>Sd[(t&240)>>4]+Sd[t&15],zo=t=>(t&240)>>4===(t&15),xN=t=>zo(t.r)&&zo(t.g)&&zo(t.b)&&zo(t.a);function yN(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&vt[t[1]]*17,g:255&vt[t[2]]*17,b:255&vt[t[3]]*17,a:e===5?vt[t[4]]*17:255}:(e===7||e===9)&&(n={r:vt[t[1]]<<4|vt[t[2]],g:vt[t[3]]<<4|vt[t[4]],b:vt[t[5]]<<4|vt[t[6]],a:e===9?vt[t[7]]<<4|vt[t[8]]:255})),n}const vN=(t,e)=>t<255?e(t):"";function bN(t){var e=xN(t)?mN:gN;return t?"#"+e(t.r)+e(t.g)+e(t.b)+vN(t.a,e):void 0}const wN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dv(t,e,n){const s=e*Math.min(n,1-n),r=(i,o=(i+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function _N(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function SN(t,e,n){const s=dv(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function kN(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function Yh(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),a=(i+o)/2;let l,u,d;return i!==o&&(d=i-o,u=a>.5?d/(2-i-o):d/(i+o),l=kN(n,s,r,d,i),l=l*60+.5),[l|0,u||0,a]}function Xh(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Xn)}function Gh(t,e,n){return Xh(dv,t,e,n)}function jN(t,e,n){return Xh(SN,t,e,n)}function NN(t,e,n){return Xh(_N,t,e,n)}function hv(t){return(t%360+360)%360}function CN(t){const e=wN.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?ni(+e[5]):Xn(+e[5]));const r=hv(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=jN(r,i,o):e[1]==="hsv"?s=NN(r,i,o):s=Gh(r,i,o),{r:s[0],g:s[1],b:s[2],a:n}}function EN(t,e){var n=Yh(t);n[0]=hv(n[0]+e),n=Gh(n),t.r=n[0],t.g=n[1],t.b=n[2]}function PN(t){if(!t)return;const e=Yh(t),n=e[0],s=am(e[1]),r=am(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${un(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const lm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function RN(){const t={},e=Object.keys(cm),n=Object.keys(lm);let s,r,i,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],r=0;r<n.length;r++)i=n[r],a=a.replace(i,lm[i]);i=parseInt(cm[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let Bo;function TN(t){Bo||(Bo=RN(),Bo.transparent=[0,0,0,0]);const e=Bo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ON=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function MN(t){const e=ON.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?ni(o):Dn(o*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?ni(s):Dn(s,0,255)),r=255&(e[4]?ni(r):Dn(r,0,255)),i=255&(e[6]?ni(i):Dn(i,0,255)),{r:s,g:r,b:i,a:n}}}function AN(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${un(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Wc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Hs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function LN(t,e,n){const s=Hs(un(t.r)),r=Hs(un(t.g)),i=Hs(un(t.b));return{r:Xn(Wc(s+n*(Hs(un(e.r))-s))),g:Xn(Wc(r+n*(Hs(un(e.g))-r))),b:Xn(Wc(i+n*(Hs(un(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Uo(t,e,n){if(t){let s=Yh(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Gh(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function fv(t,e){return t&&Object.assign(e||{},t)}function um(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Xn(t[3]))):(e=fv(t,{r:0,g:0,b:0,a:1}),e.a=Xn(e.a)),e}function DN(t){return t.charAt(0)==="r"?MN(t):CN(t)}class Qi{constructor(e){if(e instanceof Qi)return e;const n=typeof e;let s;n==="object"?s=um(e):n==="string"&&(s=yN(e)||TN(e)||DN(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=fv(this._rgb);return e&&(e.a=un(e.a)),e}set rgb(e){this._rgb=um(e)}rgbString(){return this._valid?AN(this._rgb):void 0}hexString(){return this._valid?bN(this._rgb):void 0}hslString(){return this._valid?PN(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=s.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-u,s.r=255&u*s.r+i*r.r+.5,s.g=255&u*s.g+i*r.g+.5,s.b=255&u*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=LN(this._rgb,e._rgb,n)),this}clone(){return new Qi(this.rgb)}alpha(e){return this._rgb.a=Xn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=po(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Uo(this._rgb,2,e),this}darken(e){return Uo(this._rgb,2,-e),this}saturate(e){return Uo(this._rgb,1,e),this}desaturate(e){return Uo(this._rgb,1,-e),this}rotate(e){return EN(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function rn(){}const FN=(()=>{let t=0;return()=>t++})();function ne(t){return t==null}function ue(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function J(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function _e(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ht(t,e){return _e(t)?t:e}function q(t,e){return typeof t>"u"?e:t}const IN=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,pv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ae(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ie(t,e,n,s){let r,i,o;if(ue(t))if(i=t.length,s)for(r=i-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<i;r++)e.call(n,t[r],r);else if(J(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)e.call(n,t[o[r]],o[r])}function gl(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function xl(t){if(ue(t))return t.map(xl);if(J(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=xl(t[n[r]]);return e}return t}function mv(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function zN(t,e,n,s){if(!mv(t))return;const r=e[t],i=n[t];J(r)&&J(i)?Ki(r,i,s):e[t]=xl(i)}function Ki(t,e,n){const s=ue(e)?e:[e],r=s.length;if(!J(t))return t;n=n||{};const i=n.merger||zN;let o;for(let a=0;a<r;++a){if(o=s[a],!J(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)i(l[u],t,o,n)}return t}function bi(t,e){return Ki(t,e,{merger:BN})}function BN(t,e,n){if(!mv(t))return;const s=e[t],r=n[t];J(s)&&J(r)?bi(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=xl(r))}const dm={"":t=>t,x:t=>t.x,y:t=>t.y};function UN(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function $N(t){const e=UN(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function ts(t,e){return(dm[e]||(dm[e]=$N(e)))(t)}function Jh(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Yi=t=>typeof t<"u",ns=t=>typeof t=="function",hm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function VN(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const re=Math.PI,he=2*re,HN=he+re,yl=Number.POSITIVE_INFINITY,WN=re/180,je=re/2,cs=re/4,fm=re*2/3,Fn=Math.log10,Zt=Math.sign;function wi(t,e,n){return Math.abs(t-e)<n}function pm(t){const e=Math.round(t);t=wi(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Fn(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function qN(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function QN(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Xi(t){return!QN(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function KN(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function gv(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Xt(t){return t*(re/180)}function Zh(t){return t*(180/re)}function mm(t){if(!_e(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function xv(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*re&&(i+=he),{angle:i,distance:r}}function kd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function YN(t,e){return(t-e+HN)%he-re}function Ve(t){return(t%he+he)%he}function Gi(t,e,n,s){const r=Ve(t),i=Ve(e),o=Ve(n),a=Ve(i-r),l=Ve(o-r),u=Ve(r-i),d=Ve(r-o);return r===i||r===o||s&&i===o||a>l&&u<d}function qe(t,e,n){return Math.max(e,Math.min(n,t))}function XN(t){return qe(t,-32768,32767)}function pn(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function ef(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const js=(t,e,n,s)=>ef(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),GN=(t,e,n)=>ef(t,n,s=>t[s][e]>=n);function JN(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const yv=["push","pop","shift","splice","unshift"];function ZN(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),yv.forEach(n=>{const s="_onData"+Jh(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...i)}),o}})})}function gm(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(yv.forEach(i=>{delete t[i]}),delete t._chartjs)}function vv(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const bv=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function wv(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,bv.call(window,()=>{s=!1,t.apply(e,n)}))}}function eC(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const tf=t=>t==="start"?"left":t==="end"?"right":"center",$e=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,tC=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function nC(t,e,n){const s=e.length;let r=0,i=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:h,max:f,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(r=Math.min(js(l,d,h).lo,n?s:js(e,d,o.getPixelForValue(h)).lo),u){const y=l.slice(0,r+1).reverse().findIndex(v=>!ne(v[a.axis]));r-=Math.max(0,y)}r=qe(r,0,s-1)}if(m){let y=Math.max(js(l,o.axis,f,!0).hi+1,n?0:js(e,d,o.getPixelForValue(f),!0).hi+1);if(u){const v=l.slice(y-1).findIndex(g=>!ne(g[a.axis]));y+=Math.max(0,v)}i=qe(y,r,s)-r}else i=s-r}return{start:r,count:i}}function sC(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const $o=t=>t===0||t===1,xm=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*he/n)),ym=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*he/n)+1,_i={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*je)+1,easeOutSine:t=>Math.sin(t*je),easeInOutSine:t=>-.5*(Math.cos(re*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>$o(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>$o(t)?t:xm(t,.075,.3),easeOutElastic:t=>$o(t)?t:ym(t,.075,.3),easeInOutElastic(t){return $o(t)?t:t<.5?.5*xm(t*2,.1125,.45):.5+.5*ym(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-_i.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?_i.easeInBounce(t*2)*.5:_i.easeOutBounce(t*2-1)*.5+.5};function nf(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function vm(t){return nf(t)?t:new Qi(t)}function qc(t){return nf(t)?t:new Qi(t).saturate(.5).darken(.1).hexString()}const rC=["x","y","borderWidth","radius","tension"],iC=["color","borderColor","backgroundColor"];function oC(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:iC},numbers:{type:"number",properties:rC}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function aC(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const bm=new Map;function lC(t,e){e=e||{};const n=t+JSON.stringify(e);let s=bm.get(n);return s||(s=new Intl.NumberFormat(t,e),bm.set(n,s)),s}function Zl(t,e,n){return lC(e,n).format(t)}const _v={values(t){return ue(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),i=cC(t,n)}const o=Fn(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Zl(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(Fn(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?_v.numeric.call(this,t,e,n):""}};function cC(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var ec={formatters:_v};function uC(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ec.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Is=Object.create(null),jd=Object.create(null);function Si(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function Qc(t,e,n){return typeof e=="string"?Ki(Si(t,e),n):Ki(Si(t,""),e)}class dC{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>qc(r.backgroundColor),this.hoverBorderColor=(s,r)=>qc(r.borderColor),this.hoverColor=(s,r)=>qc(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Qc(this,e,n)}get(e){return Si(this,e)}describe(e,n){return Qc(jd,e,n)}override(e,n){return Qc(Is,e,n)}route(e,n,s,r){const i=Si(this,e),o=Si(this,s),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[r];return J(l)?Object.assign({},u,l):q(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Se=new dC({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[oC,aC,uC]);function hC(t){return!t||ne(t.size)||ne(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function vl(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function fC(t,e,n,s){s=s||{};let r=s.data=s.data||{},i=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(r=s.data={},i=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,u,d,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!ue(h))o=vl(t,r,i,o,h);else if(ue(h))for(u=0,d=h.length;u<d;u++)f=h[u],f!=null&&!ue(f)&&(o=vl(t,r,i,o,f));t.restore();const p=i.length/2;if(p>n.length){for(l=0;l<p;l++)delete r[i[l]];i.splice(0,p)}return o}function us(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function wm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Nd(t,e,n,s){Sv(t,e,n,s,null)}function Sv(t,e,n,s,r){let i,o,a,l,u,d,h,f;const p=e.pointStyle,m=e.rotation,y=e.radius;let v=(m||0)*WN;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(v),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:r?t.ellipse(n,s,r/2,y,0,0,he):t.arc(n,s,y,0,he),t.closePath();break;case"triangle":d=r?r/2:y,t.moveTo(n+Math.sin(v)*d,s-Math.cos(v)*y),v+=fm,t.lineTo(n+Math.sin(v)*d,s-Math.cos(v)*y),v+=fm,t.lineTo(n+Math.sin(v)*d,s-Math.cos(v)*y),t.closePath();break;case"rectRounded":u=y*.516,l=y-u,o=Math.cos(v+cs)*l,h=Math.cos(v+cs)*(r?r/2-u:l),a=Math.sin(v+cs)*l,f=Math.sin(v+cs)*(r?r/2-u:l),t.arc(n-h,s-a,u,v-re,v-je),t.arc(n+f,s-o,u,v-je,v),t.arc(n+h,s+a,u,v,v+je),t.arc(n-f,s+o,u,v+je,v+re),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*y,d=r?r/2:l,t.rect(n-d,s-l,2*d,2*l);break}v+=cs;case"rectRot":h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),t.moveTo(n-h,s-a),t.lineTo(n+f,s-o),t.lineTo(n+h,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":v+=cs;case"cross":h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),v+=cs,h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=r?r/2:Math.cos(v)*y,a=Math.sin(v)*y,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(v)*(r?r/2:y),s+Math.sin(v)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function mn(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function tc(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function nc(t){t.restore()}function pC(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function mC(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function gC(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ne(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function xC(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=r.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function yC(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function zs(t,e,n,s,r,i={}){const o=ue(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=r.string,gC(t,i),l=0;l<o.length;++l)u=o[l],i.backdrop&&yC(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ne(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,s,i.maxWidth)),t.fillText(u,n,s,i.maxWidth),xC(t,n,s,u,i),s+=Number(r.lineHeight);t.restore()}function Ji(t,e){const{x:n,y:s,w:r,h:i,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*re,re,!0),t.lineTo(n,s+i-o.bottomLeft),t.arc(n+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,re,je,!0),t.lineTo(n+r-o.bottomRight,s+i),t.arc(n+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,je,0,!0),t.lineTo(n+r,s+o.topRight),t.arc(n+r-o.topRight,s+o.topRight,o.topRight,0,-je,!0),t.lineTo(n+o.topLeft,s)}const vC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function wC(t,e){const n=(""+t).match(vC);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const _C=t=>+t||0;function sf(t,e){const n={},s=J(e),r=s?Object.keys(e):e,i=J(t)?s?o=>q(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=_C(i(o));return n}function kv(t){return sf(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ps(t){return sf(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ke(t){const e=kv(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Me(t,e){t=t||{},e=e||Se.font;let n=q(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=q(t.style,e.style);s&&!(""+s).match(bC)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:q(t.family,e.family),lineHeight:wC(q(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:q(t.weight,e.weight),string:""};return r.string=hC(r),r}function Vo(t,e,n,s){let r=!0,i,o,a;for(i=0,o=t.length;i<o;++i)if(a=t[i],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&ue(a)&&(a=a[n%a.length],r=!1),a!==void 0))return s&&!r&&(s.cacheable=!1),a}function SC(t,e,n){const{min:s,max:r}=t,i=pv(e,(r-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function ls(t,e){return Object.assign(Object.create(t),e)}function rf(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=Ev("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:a=>rf([a,...t],e,i,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Nv(a,l,()=>TC(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Sm(a).includes(l)},ownKeys(a){return Sm(a)},set(a,l,u){const d=a._storage||(a._storage=r());return a[l]=d[l]=u,delete a._keys,!0}})}function _r(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:jv(t,s),setContext:i=>_r(t,i,n,s),override:i=>_r(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return Nv(i,o,()=>jC(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function jv(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:ns(n)?n:()=>n,isIndexable:ns(s)?s:()=>s}}const kC=(t,e)=>t?t+Jh(e):e,of=(t,e)=>J(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Nv(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function jC(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=t;let a=s[e];return ns(a)&&o.isScriptable(e)&&(a=NC(e,a,t,n)),ue(a)&&a.length&&(a=CC(e,a,t,o.isIndexable)),of(e,a)&&(a=_r(a,r,i&&i[e],o)),a}function NC(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||s);return a.delete(t),of(t,l)&&(l=af(r._scopes,r,t,l)),l}function CC(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(J(e[0])){const l=e,u=r._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=af(u,r,t,d);e.push(_r(h,i,o&&o[t],a))}}return e}function Cv(t,e,n){return ns(t)?t(e,n):t}const EC=(t,e)=>t===!0?e:typeof t=="string"?ts(e,t):void 0;function PC(t,e,n,s,r){for(const i of e){const o=EC(n,i);if(o){t.add(o);const a=Cv(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function af(t,e,n,s){const r=e._rootScopes,i=Cv(e._fallback,n,s),o=[...t,...r],a=new Set;a.add(s);let l=_m(a,o,n,i||n,s);return l===null||typeof i<"u"&&i!==n&&(l=_m(a,o,i,l,s),l===null)?!1:rf(Array.from(a),[""],r,i,()=>RC(e,n,s))}function _m(t,e,n,s,r){for(;n;)n=PC(t,e,n,s,r);return n}function RC(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return ue(r)&&J(n)?n:r||{}}function TC(t,e,n,s){let r;for(const i of e)if(r=Ev(kC(i,t),n),typeof r<"u")return of(t,r)?af(n,s,t,r):r}function Ev(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Sm(t){let e=t._keys;return e||(e=t._keys=OC(t._scopes)),e}function OC(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}function MC(t,e,n,s){const{iScale:r}=t,{key:i="r"}=this._parsing,o=new Array(s);let a,l,u,d;for(a=0,l=s;a<l;++a)u=a+n,d=e[u],o[a]={r:r.parse(ts(d,i),u)};return o}const AC=Number.EPSILON||1e-14,Sr=(t,e)=>e<t.length&&!t[e].skip&&t[e],Pv=t=>t==="x"?"y":"x";function LC(t,e,n,s){const r=t.skip?e:t,i=e,o=n.skip?e:n,a=kd(i,r),l=kd(o,i);let u=a/(a+l),d=l/(a+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=s*u,f=s*d;return{previous:{x:i.x-h*(o.x-r.x),y:i.y-h*(o.y-r.y)},next:{x:i.x+f*(o.x-r.x),y:i.y+f*(o.y-r.y)}}}function DC(t,e,n){const s=t.length;let r,i,o,a,l,u=Sr(t,0);for(let d=0;d<s-1;++d)if(l=u,u=Sr(t,d+1),!(!l||!u)){if(wi(e[d],0,AC)){n[d]=n[d+1]=0;continue}r=n[d]/e[d],i=n[d+1]/e[d],a=Math.pow(r,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=r*o*e[d],n[d+1]=i*o*e[d])}}function FC(t,e,n="x"){const s=Pv(n),r=t.length;let i,o,a,l=Sr(t,0);for(let u=0;u<r;++u){if(o=a,a=l,l=Sr(t,u+1),!a)continue;const d=a[n],h=a[s];o&&(i=(d-o[n])/3,a[`cp1${n}`]=d-i,a[`cp1${s}`]=h-i*e[u]),l&&(i=(l[n]-d)/3,a[`cp2${n}`]=d+i,a[`cp2${s}`]=h+i*e[u])}}function IC(t,e="x"){const n=Pv(e),s=t.length,r=Array(s).fill(0),i=Array(s);let o,a,l,u=Sr(t,0);for(o=0;o<s;++o)if(a=l,l=u,u=Sr(t,o+1),!!l){if(u){const d=u[e]-l[e];r[o]=d!==0?(u[n]-l[n])/d:0}i[o]=a?u?Zt(r[o-1])!==Zt(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}DC(t,r,i),FC(t,i,e)}function Ho(t,e,n){return Math.max(Math.min(t,n),e)}function zC(t,e){let n,s,r,i,o,a=mn(t[0],e);for(n=0,s=t.length;n<s;++n)o=i,i=a,a=n<s-1&&mn(t[n+1],e),i&&(r=t[n],o&&(r.cp1x=Ho(r.cp1x,e.left,e.right),r.cp1y=Ho(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Ho(r.cp2x,e.left,e.right),r.cp2y=Ho(r.cp2y,e.top,e.bottom)))}function BC(t,e,n,s,r){let i,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")IC(t,r);else{let u=s?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=LC(u,a,t[Math.min(i+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&zC(t,n)}function lf(){return typeof window<"u"&&typeof document<"u"}function cf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bl(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const sc=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function UC(t,e){return sc(t).getPropertyValue(e)}const $C=["top","right","bottom","left"];function Rs(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=$C[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const VC=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function HC(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let o=!1,a,l;if(VC(r,i,t.target))a=r,l=i;else{const u=e.getBoundingClientRect();a=s.clientX-u.left,l=s.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function ms(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=sc(n),i=r.boxSizing==="border-box",o=Rs(r,"padding"),a=Rs(r,"border","width"),{x:l,y:u,box:d}=HC(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:p,height:m}=e;return i&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/p*n.width/s),y:Math.round((u-f)/m*n.height/s)}}function WC(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&cf(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=sc(i),l=Rs(a,"border","width"),u=Rs(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,s=bl(a.maxWidth,i,"clientWidth"),r=bl(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||yl,maxHeight:r||yl}}const Wo=t=>Math.round(t*10)/10;function qC(t,e,n,s){const r=sc(t),i=Rs(r,"margin"),o=bl(r.maxWidth,t,"clientWidth")||yl,a=bl(r.maxHeight,t,"clientHeight")||yl,l=WC(t,e,n);let{width:u,height:d}=l;if(r.boxSizing==="content-box"){const f=Rs(r,"border","width"),p=Rs(r,"padding");u-=p.width+f.width,d-=p.height+f.height}return u=Math.max(0,u-i.width),d=Math.max(0,s?u/s:d-i.height),u=Wo(Math.min(u,o,l.maxWidth)),d=Wo(Math.min(d,a,l.maxHeight)),u&&!d&&(d=Wo(u/2)),(e!==void 0||n!==void 0)&&s&&l.height&&d>l.height&&(d=l.height,u=Wo(Math.floor(d*s))),{width:u,height:d}}function km(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=s,o.height=r,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const QC=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};lf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function jm(t,e){const n=UC(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function gs(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function KC(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function YC(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=gs(t,r,n),a=gs(r,i,n),l=gs(i,e,n),u=gs(o,a,n),d=gs(a,l,n);return gs(u,d,n)}const XC=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},GC=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function hr(t,e,n){return t?XC(e,n):GC()}function Rv(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Tv(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Ov(t){return t==="angle"?{between:Gi,compare:YN,normalize:Ve}:{between:pn,compare:(e,n)=>e-n,normalize:e=>e}}function Nm({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function JC(t,e,n){const{property:s,start:r,end:i}=n,{between:o,normalize:a}=Ov(s),l=e.length;let{start:u,end:d,loop:h}=t,f,p;if(h){for(u+=l,d+=l,f=0,p=l;f<p&&o(a(e[u%l][s]),r,i);++f)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:h,style:t.style}}function Mv(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,o=e.length,{compare:a,between:l,normalize:u}=Ov(s),{start:d,end:h,loop:f,style:p}=JC(t,e,n),m=[];let y=!1,v=null,g,x,b;const _=()=>l(r,b,g)&&a(r,b)!==0,w=()=>a(i,g)===0||l(i,b,g),k=()=>y||_(),j=()=>!y||w();for(let N=d,P=d;N<=h;++N)x=e[N%o],!x.skip&&(g=u(x[s]),g!==b&&(y=l(g,r,i),v===null&&k()&&(v=a(g,r)===0?N:P),v!==null&&j()&&(m.push(Nm({start:v,end:N,loop:f,count:o,style:p})),v=null),P=N,b=g));return v!==null&&m.push(Nm({start:v,end:h,loop:f,count:o,style:p})),m}function Av(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=Mv(s[r],t.points,e);i.length&&n.push(...i)}return n}function ZC(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function eE(t,e,n,s){const r=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%r];u.skip||u.stop?a.skip||(s=!1,i.push({start:e%r,end:(l-1)%r,loop:s}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&i.push({start:e%r,end:o%r,loop:s}),i}function tE(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:o,end:a}=ZC(n,r,i,s);if(s===!0)return Cm(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+r:a,u=!!t._fullLoop&&o===0&&a===r-1;return Cm(t,eE(n,o,l,u),n,e)}function Cm(t,e,n,s){return!s||!s.setContext||!n?e:nE(t,e,n,s)}function nE(t,e,n,s){const r=t._chart.getContext(),i=Em(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let d=i,h=e[0].start,f=h;function p(m,y,v,g){const x=a?-1:1;if(m!==y){for(m+=l;n[m%l].skip;)m-=x;for(;n[y%l].skip;)y+=x;m%l!==y%l&&(u.push({start:m%l,end:y%l,loop:v,style:g}),d=g,h=y%l)}}for(const m of e){h=a?h:m.start;let y=n[h%l],v;for(f=h+1;f<=m.end;f++){const g=n[f%l];v=Em(s.setContext(ls(r,{type:"segment",p0:y,p1:g,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),sE(v,d)&&p(h,f-1,m.loop,d),y=g,d=v}h<f-1&&p(h,f-1,m.loop,d)}return u}function Em(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function sE(t,e){if(!e)return!1;const n=[],s=function(r,i){return nf(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function qo(t,e,n){return t.options.clip?t[n]:e[n]}function rE(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:qo(n,e,"left"),right:qo(n,e,"right"),top:qo(s,e,"top"),bottom:qo(s,e,"bottom")}:e}function Lv(t,e){const n=e._clip;if(n.disabled)return!1;const s=rE(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class iE{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=bv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var on=new iE;const Pm="transparent",oE={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=vm(t||Pm),r=s.valid&&vm(e||Pm);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class aE{constructor(e,n,s,r){const i=n[s];r=Vo([e.to,r,i,e.from]);const o=Vo([e.from,i,r]);this._active=!0,this._fn=e.fn||oE[e.type||typeof o],this._easing=_i[e.easing]||_i.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Vo([e.to,n,r,e.from]),this._from=Vo([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<s),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=i;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class Dv{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!J(e))return;const n=Object.keys(Se.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!J(i))return;const o={};for(const a of n)o[a]=i[a];(ue(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,r=cE(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&lE(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,n));continue}const d=n[u];let h=i[u];const f=s.get(u);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}i[u]=h=new aE(f,e,u,d),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return on.add(this._chart,s),!0}}function lE(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function cE(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Rm(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function uE(t,e,n){if(n===!1)return!1;const s=Rm(t,n),r=Rm(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function dE(t){let e,n,s,r;return J(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function Fv(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function Tm(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let o,a,l,u;if(e===null)return;let d=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(d=!0,s.all)continue;break}u=t.values[l],_e(u)&&(i||e===0||Zt(e)===Zt(u))&&(e+=u)}return!d&&!s.all?0:e}function hE(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,d;for(l=0,u=o.length;l<u;++l)d=o[l],a[l]={[r]:d,[i]:t[d]};return a}function Kc(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function fE(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function pE(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function mE(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Om(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function Mm(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=s,l=i.axis,u=o.axis,d=fE(i,o,s),h=e.length;let f;for(let p=0;p<h;++p){const m=e[p],{[l]:y,[u]:v}=m,g=m._stacks||(m._stacks={});f=g[u]=mE(r,d,y),f[a]=v,f._top=Om(f,o,!0,s.type),f._bottom=Om(f,o,!1,s.type);const x=f._visualValues||(f._visualValues={});x[a]=v}}function Yc(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function gE(t,e){return ls(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function xE(t,e,n){return ls(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Wr(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const Xc=t=>t==="reset"||t==="none",Am=(t,e)=>e?t:Object.assign({},t),yE=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Fv(n,!0),values:null};class Gn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Kc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(h,f,p,m)=>h==="x"?f:h==="r"?m:p,i=n.xAxisID=q(s.xAxisID,Yc(e,"x")),o=n.yAxisID=q(s.yAxisID,Yc(e,"y")),a=n.rAxisID=q(s.rAxisID,Yc(e,"r")),l=n.indexAxis,u=n.iAxisID=r(l,i,o,a),d=n.vAxisID=r(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&gm(this._data,this),e._stacked&&Wr(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(J(n)){const r=this._cachedMeta;this._data=hE(n,r)}else if(s!==n){if(s){gm(s,this);const r=this._cachedMeta;Wr(r),r._parsed=[]}n&&Object.isExtensible(n)&&ZN(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=Kc(n.vScale,n),n.stack!==s.stack&&(r=!0,Wr(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(Mm(this,n._parsed),n._stacked=Kc(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:o}=s,a=i.axis;let l=e===0&&n===r.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,h,f;if(this._parsing===!1)s._parsed=r,s._sorted=!0,f=r;else{ue(r[e])?f=this.parseArrayData(s,r,e,n):J(r[e])?f=this.parseObjectData(s,r,e,n):f=this.parsePrimitiveData(s,r,e,n);const p=()=>h[a]===null||u&&h[a]<u[a];for(d=0;d<n;++d)s._parsed[d+e]=h=f[d],l&&(p()&&(l=!1),u=h);s._sorted=l}o&&Mm(this,f)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,u=i.getLabels(),d=i===o,h=new Array(r);let f,p,m;for(f=0,p=r;f<p;++f)m=f+s,h[f]={[a]:d||i.parse(u[m],m),[l]:o.parse(n[m],m)};return h}parseArrayData(e,n,s,r){const{xScale:i,yScale:o}=e,a=new Array(r);let l,u,d,h;for(l=0,u=r;l<u;++l)d=l+s,h=n[d],a[l]={x:i.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,s,r){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let d,h,f,p;for(d=0,h=r;d<h;++d)f=d+s,p=n[f],u[d]={x:i.parse(ts(p,a),f),y:o.parse(ts(p,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:Fv(r,!0),values:n._stacks[e.axis]._visualValues};return Tm(a,o,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let o=i===null?NaN:i;const a=r&&s._stacks[n.axis];r&&a&&(r.values=a,o=Tm(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,o=r.length,a=this._getOtherScale(e),l=yE(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=pE(a);let f,p;function m(){p=r[f];const y=p[a.axis];return!_e(p[e.axis])||d>y||h<y}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(u,e,p,l),i));++f);if(i){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(u,e,p,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][e.axis],_e(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=dE(q(this.options.clip,uE(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,i,a,l),d=a;d<a+l;++d){const h=r[d];h.hidden||(h.active&&u?o.push(h):h.draw(e,i))}for(d=0;d<o.length;++d)o[d].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=xE(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=gE(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&Yi(s);if(a)return Am(a,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(Se.elements[e]),m=()=>this.getContext(s,r,n),y=u.resolveNamedOptions(f,p,m,h);return y.$shared&&(y.$shared=l,i[o]=Object.freeze(Am(y,l))),y}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(r.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(e,s,n))}const u=new Dv(r,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Xc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:o}}updateElement(e,n,s,r){Xc(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!Xc(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const r=s.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&Wr(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}A(Gn,"defaults",{}),A(Gn,"datasetElementType",null),A(Gn,"dataElementType",null);function vE(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=vv(s.sort((r,i)=>r-i))}return t._cache.$bar}function bE(t){const e=t.iScale,n=vE(e,t.type);let s=e._length,r,i,o,a;const l=()=>{o===32767||o===-32768||(Yi(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),l();return s}function wE(t,e,n,s){const r=n.barThickness;let i,o;return ne(r)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=r*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[t]-i/2}}function _E(t,e,n,s){const r=e.pixels,i=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const u=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:u}}function SE(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),o=Math.min(r,i),a=Math.max(r,i);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:r,end:i,min:o,max:a}}function Iv(t,e,n,s){return ue(t)?SE(t,e,n,s):e[n.axis]=n.parse(t,s),e}function Lm(t,e,n,s){const r=t.iScale,i=t.vScale,o=r.getLabels(),a=r===i,l=[];let u,d,h,f;for(u=n,d=n+s;u<d;++u)f=e[u],h={},h[r.axis]=a||r.parse(o[u],u),l.push(Iv(f,h,i,u));return l}function Gc(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function kE(t,e,n){return t!==0?Zt(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function jE(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function NE(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:d}=jE(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=u:(n._bottom||0)===s?r=d:(i[Dm(d,o,a,l)]=!0,r=u)),i[Dm(r,o,a,l)]=!0,t.borderSkipped=i}function Dm(t,e,n,s){return s?(t=CE(t,e,n),t=Fm(t,n,e)):t=Fm(t,e,n),t}function CE(t,e,n){return t===e?n:t===n?e:t}function Fm(t,e,n){return t==="start"?e:t==="end"?n:t}function EE(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Na extends Gn{parsePrimitiveData(e,n,s,r){return Lm(e,n,s,r)}parseArrayData(e,n,s,r){return Lm(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?a:l,d=o.axis==="x"?a:l,h=[];let f,p,m,y;for(f=s,p=s+r;f<p;++f)y=n[f],m={},m[i.axis]=i.parse(ts(y,u),f),h.push(Iv(ts(y,d),m,o,f));return h}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),o=i._custom,a=Gc(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r);for(let p=n;p<n+s;p++){const m=this.getParsed(p),y=i||ne(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),v=this._calculateBarIndexPixels(p,d),g=(m._stacks||{})[a.axis],x={horizontal:u,base:y.base,enableBorderRadius:!g||Gc(m._custom)||o===g._top||o===g._bottom,x:u?y.head:v.center,y:u?v.center:y.head,height:u?v.size:Math.abs(y.size),width:u?Math.abs(y.size):v.size};f&&(x.options=h||this.resolveDataElementOptions(p,e[p].active?"active":r));const b=x.options||e[p].options;NE(x,b,g,o),EE(x,b,d.ratio),this.updateElement(e[p],p,x,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],u=d=>{const h=d._parsed.find(p=>p[s.axis]===l),f=h&&h[d.vScale.axis];if(ne(f)||isNaN(f))return!0};for(const d of r)if(!(n!==void 0&&u(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[q(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,o;for(i=0,o=n.data.length;i<o;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const a=e.barThickness;return{min:a||bE(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(e),u=l._custom,d=Gc(u);let h=l[n.axis],f=0,p=s?this.applyStack(n,l,s):h,m,y;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&Zt(h)!==Zt(u.barEnd)&&(f=0),f+=h);const v=!ne(i)&&!d?i:f;let g=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?m=n.getPixelForValue(f+p):m=g,y=m-g,Math.abs(y)<o){y=kE(y,n,a)*o,h===a&&(g-=y/2);const x=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),_=Math.min(x,b),w=Math.max(x,b);g=Math.max(Math.min(g,w),_),m=g+y,s&&!d&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(m)-n.getValueForPixel(g))}if(g===n.getPixelForValue(a)){const x=Zt(y)*n.getLineWidthForValue(a)/2;g+=x,y-=x}return{size:y,base:g,head:m,center:m+y/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,o=q(r.maxBarThickness,1/0);let a,l;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,h=r.barThickness==="flex"?_E(e,n,r,d*u):wE(e,n,r,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(q(f,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+p;a=h.start+h.chunk*m+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}A(Na,"id","bar"),A(Na,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),A(Na,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function PE(t,e,n){let s=1,r=1,i=0,o=0;if(e<he){const a=t,l=a+e,u=Math.cos(a),d=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(b,_,w)=>Gi(b,a,l,!0)?1:Math.max(_,_*n,w,w*n),m=(b,_,w)=>Gi(b,a,l,!0)?-1:Math.min(_,_*n,w,w*n),y=p(0,u,h),v=p(je,d,f),g=m(re,u,h),x=m(re+je,d,f);s=(y-g)/2,r=(v-x)/2,i=-(y+g)/2,o=-(v+x)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:o}}class si extends Gn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=l=>+s[l];if(J(s[e])){const{key:l="value"}=this._parsing;i=u=>+ts(s[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=i(o)}}_getRotation(){return Xt(this.options.rotation-90)}_getCircumference(){return Xt(this.options.circumference)}_getRotationExtents(){let e=he,n=-he;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(IN(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:y}=PE(h,d,l),v=(s.width-o)/f,g=(s.height-o)/p,x=Math.max(Math.min(v,g)/2,0),b=pv(this.options.radius,x),_=Math.max(b*l,0),w=(b-_)/this._getVisibleDatasetWeightTotal();this.offsetX=m*b,this.offsetY=y*b,r.total=this.calculateTotal(),this.outerRadius=b-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/he)}updateElements(e,n,s,r){const i=r==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=i&&u.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(n,r);let g=this._getRotation(),x;for(x=0;x<n;++x)g+=this._circumference(x,i);for(x=n;x<n+s;++x){const b=this._circumference(x,i),_=e[x],w={x:d+this.offsetX,y:h+this.offsetY,startAngle:g,endAngle:g+b,circumference:b,outerRadius:m,innerRadius:p};v&&(w.options=y||this.resolveDataElementOptions(x,_.active?"active":r)),g+=b,this.updateElement(_,x,w,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,r;for(r=0;r<n.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?he*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=Zl(n._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const s=this.chart;let r,i,o,a,l;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){o=s.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(q(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}A(si,"id","doughnut"),A(si,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),A(si,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),A(si,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class Ca extends Gn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=nC(n,r,o);this._drawStart=a,this._drawCount=l,sC(n)&&(a=0,l=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:u},e),this.updateElements(r,a,l,e)}updateElements(e,n,s,r){const i=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,r),f=o.axis,p=a.axis,{spanGaps:m,segment:y}=this.options,v=Xi(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||r==="none",x=n+s,b=e.length;let _=n>0&&this.getParsed(n-1);for(let w=0;w<b;++w){const k=e[w],j=g?k:{};if(w<n||w>=x){j.skip=!0;continue}const N=this.getParsed(w),P=ne(N[p]),E=j[f]=o.getPixelForValue(N[f],w),O=j[p]=i||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,N,l):N[p],w);j.skip=isNaN(E)||isNaN(O)||P,j.stop=w>0&&Math.abs(N[f]-_[f])>v,y&&(j.parsed=N,j.raw=u.data[w]),h&&(j.options=d||this.resolveDataElementOptions(w,k.active?"active":r)),g||this.updateElement(k,w,j,r),_=N}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}A(Ca,"id","line"),A(Ca,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),A(Ca,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ea extends Gn{getLabelAndValue(e){const n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,r){return MC.bind(this)(e,n,s,r)}update(e){const n=this._cachedMeta,s=n.dataset,r=n.data||[],i=n.iScale.getLabels();if(s.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:i.length===r.length,options:o};this.updateElement(s,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,s,r){const i=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+s;a++){const l=e[a],u=this.resolveDataElementOptions(a,l.active?"active":r),d=i.getPointPositionForValue(a,this.getParsed(a).r),h=o?i.xCenter:d.x,f=o?i.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(l,a,p,r)}}}A(Ea,"id","radar"),A(Ea,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),A(Ea,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function ds(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class uf{constructor(e){A(this,"options");this.options=e||{}}static override(e){Object.assign(uf.prototype,e)}init(){}formats(){return ds()}parse(){return ds()}format(){return ds()}add(){return ds()}diff(){return ds()}startOf(){return ds()}endOf(){return ds()}}var RE={_date:uf};function TE(t,e,n,s){const{controller:r,data:i,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const u=a._reversePixels?GN:js;if(s){if(r._sharedOptions){const d=i[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(i,e,n-h),p=u(i,e,n+h);return{lo:f.lo,hi:p.hi}}}}else{const d=u(i,e,n);if(l){const{vScale:h}=r._cachedMeta,{_parsed:f}=t,p=f.slice(0,d.lo+1).reverse().findIndex(y=>!ne(y[h.axis]));d.lo-=Math.max(0,p);const m=f.slice(d.hi).findIndex(y=>!ne(y[h.axis]));d.hi+=Math.max(0,m)}return d}}return{lo:0,hi:i.length-1}}function mo(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:u,data:d}=i[a],{lo:h,hi:f}=TE(i[a],e,o,r);for(let p=h;p<=f;++p){const m=d[p];m.skip||s(m,u,p)}}}function OE(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,o=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Jc(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||mo(t,n,e,function(a,l,u){!r&&!mn(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&i.push({element:a,datasetIndex:l,index:u})},!0),i}function ME(t,e,n,s){let r=[];function i(o,a,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],s),{angle:h}=xv(o,{x:e.x,y:e.y});Gi(h,u,d)&&r.push({element:o,datasetIndex:a,index:l})}return mo(t,n,e,i),r}function AE(t,e,n,s,r,i){let o=[];const a=OE(n);let l=Number.POSITIVE_INFINITY;function u(d,h,f){const p=d.inRange(e.x,e.y,r);if(s&&!p)return;const m=d.getCenterPoint(r);if(!(!!i||t.isPointInArea(m))&&!p)return;const v=a(e,m);v<l?(o=[{element:d,datasetIndex:h,index:f}],l=v):v===l&&o.push({element:d,datasetIndex:h,index:f})}return mo(t,n,e,u),o}function Zc(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?ME(t,e,n,r):AE(t,e,n,s,r,i)}function Im(t,e,n,s,r){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return mo(t,n,e,(l,u,d)=>{l[o]&&l[o](e[n],r)&&(i.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(e.x,e.y,r))}),s&&!a?[]:i}var LE={evaluateInteractionItems:mo,modes:{index(t,e,n,s){const r=ms(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Jc(t,r,i,s,o):Zc(t,r,i,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,h=u.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,s){const r=ms(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Jc(t,r,i,s,o):Zc(t,r,i,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point(t,e,n,s){const r=ms(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Jc(t,r,i,s,o)},nearest(t,e,n,s){const r=ms(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Zc(t,r,i,n.intersect,s,o)},x(t,e,n,s){const r=ms(e,t);return Im(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=ms(e,t);return Im(t,r,"y",n.intersect,s)}}};const zv=["left","top","right","bottom"];function qr(t,e){return t.filter(n=>n.pos===e)}function zm(t,e){return t.filter(n=>zv.indexOf(n.pos)===-1&&n.box.axis===e)}function Qr(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function DE(t){const e=[];let n,s,r,i,o,a;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a});return e}function FE(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!zv.includes(r))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function IE(t,e){const n=FE(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*s:l&&e.availableWidth,a.height=r):(a.width=s,a.height=d?d*r:l&&e.availableHeight)}return n}function zE(t){const e=DE(t),n=Qr(e.filter(u=>u.box.fullSize),!0),s=Qr(qr(e,"left"),!0),r=Qr(qr(e,"right")),i=Qr(qr(e,"top"),!0),o=Qr(qr(e,"bottom")),a=zm(e,"x"),l=zm(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:qr(e,"chartArea"),vertical:s.concat(r).concat(l),horizontal:i.concat(o).concat(a)}}function Bm(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function Bv(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function BE(t,e,n,s){const{pos:r,box:i}=n,o=t.maxPadding;if(!J(r)){n.size&&(t[r]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[r]+=n.size}i.getPadding&&Bv(o,i.getPadding());const a=Math.max(0,e.outerWidth-Bm(o,t,"left","right")),l=Math.max(0,e.outerHeight-Bm(o,t,"top","bottom")),u=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function UE(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function $E(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return s(t?["left","right"]:["top","bottom"])}function ri(t,e,n,s){const r=[];let i,o,a,l,u,d;for(i=0,o=t.length,u=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,$E(a.horizontal,e));const{same:h,other:f}=BE(e,n,a,s);u|=h&&r.length,d=d||f,l.fullSize||r.push(a)}return u&&ri(r,e,n,s)||d}function Qo(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function Um(t,e,n,s){const r=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,u=s[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*d,f=u.size||l.height;Yi(u.start)&&(o=u.start),l.fullSize?Qo(l,r.left,o,n.outerWidth-r.right-r.left,f):Qo(l,e.left+u.placed,o,h,f),u.start=o,u.placed+=h,o=l.bottom}else{const h=e.h*d,f=u.size||l.width;Yi(u.start)&&(i=u.start),l.fullSize?Qo(l,i,r.top,f,n.outerHeight-r.bottom-r.top):Qo(l,i,e.top+u.placed,f,h),u.start=i,u.placed+=h,i=l.right}}e.x=i,e.y=o}var kt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=Ke(t.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=zE(t.boxes),l=a.vertical,u=a.horizontal;ie(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=l.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},r);Bv(f,Ke(s));const p=Object.assign({maxPadding:f,w:i,h:o,x:r.left,y:r.top},r),m=IE(l.concat(u),h);ri(a.fullSize,p,h,m),ri(l,p,h,m),ri(u,p,h,m)&&ri(l,p,h,m),UE(p),Um(a.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,Um(a.rightAndBottom,p,h,m),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ie(a.chartArea,y=>{const v=y.box;Object.assign(v,t.chartArea),v.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Uv{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class VE extends Uv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Pa="$chartjs",HE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$m=t=>t===null||t==="";function WE(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[Pa]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",$m(r)){const i=jm(t,"width");i!==void 0&&(t.width=i)}if($m(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=jm(t,"height");i!==void 0&&(t.height=i)}return t}const $v=QC?{passive:!0}:!1;function qE(t,e,n){t&&t.addEventListener(e,n,$v)}function QE(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,$v)}function KE(t,e){const n=HE[t.type]||t.type,{x:s,y:r}=ms(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function wl(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function YE(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||wl(a.addedNodes,s),o=o&&!wl(a.removedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function XE(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||wl(a.removedNodes,s),o=o&&!wl(a.addedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Zi=new Map;let Vm=0;function Vv(){const t=window.devicePixelRatio;t!==Vm&&(Vm=t,Zi.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function GE(t,e){Zi.size||window.addEventListener("resize",Vv),Zi.set(t,e)}function JE(t){Zi.delete(t),Zi.size||window.removeEventListener("resize",Vv)}function ZE(t,e,n){const s=t.canvas,r=s&&cf(s);if(!r)return;const i=wv((a,l)=>{const u=r.clientWidth;n(a,l),u<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(r),GE(t,i),o}function eu(t,e,n){n&&n.disconnect(),e==="resize"&&JE(t)}function eP(t,e,n){const s=t.canvas,r=wv(i=>{t.ctx!==null&&n(KE(i,t))},t);return qE(s,e,r),r}class tP extends Uv{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(WE(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Pa])return!1;const s=n[Pa].initial;["height","width"].forEach(i=>{const o=s[i];ne(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Pa],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:YE,detach:XE,resize:ZE}[n]||eP;r[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:eu,detach:eu,resize:eu}[n]||QE)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return qC(e,n,s,r)}isAttached(e){const n=e&&cf(e);return!!(n&&n.isConnected)}}function nP(t){return!lf()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?VE:tP}class zt{constructor(){A(this,"x");A(this,"y");A(this,"active",!1);A(this,"options");A(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Xi(this.x)&&Xi(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}}A(zt,"defaults",{}),A(zt,"defaultRoutes");function sP(t,e){const n=t.options.ticks,s=rP(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?oP(e):[],o=i.length,a=i[0],l=i[o-1],u=[];if(o>r)return aP(e,u,i,o/r),u;const d=iP(i,e,r);if(o>0){let h,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(Ko(e,u,d,ne(p)?0:a-p,a),h=0,f=o-1;h<f;h++)Ko(e,u,d,i[h],i[h+1]);return Ko(e,u,d,l,ne(p)?e.length:l+p),u}return Ko(e,u,d),u}function rP(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function iP(t,e,n){const s=lP(t),r=e.length/n;if(!s)return Math.max(r,1);const i=qN(s);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>r)return l}return Math.max(r,1)}function oP(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function aP(t,e,n,s){let r=0,i=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),r++,i=n[r*s])}function Ko(t,e,n,s,r){const i=q(s,0),o=Math.min(q(r,t.length),t.length);let a=0,l,u,d;for(n=Math.ceil(n),r&&(l=r-s,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(u=Math.max(i,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(i+a*n))}function lP(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const cP=t=>t==="left"?"right":t==="right"?"left":t,Hm=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Wm=(t,e)=>Math.min(e||t,t);function qm(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function uP(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),u;if(!(n&&(s===1?u=Math.max(l-i,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(r-1))/2,l+=r<e?u:-u,l<i-a||l>o+a)))return l}function dP(t,e){ie(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function Kr(t){return t.drawTicks?t.tickLength:0}function Qm(t,e){if(!t.display)return 0;const n=Me(t.font,e),s=Ke(t.padding);return(ue(t.text)?t.text.length:1)*n.lineHeight+s.height}function hP(t,e){return ls(t,{scale:e,type:"scale"})}function fP(t,e,n){return ls(t,{tick:n,index:e,type:"tick"})}function pP(t,e,n){let s=tf(t);return(n&&e!=="right"||!n&&e==="right")&&(s=cP(s)),s}function mP(t,e,n,s){const{top:r,left:i,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:d}=l;let h=0,f,p,m;const y=o-r,v=a-i;if(t.isHorizontal()){if(p=$e(s,i,a),J(n)){const g=Object.keys(n)[0],x=n[g];m=d[g].getPixelForValue(x)+y-e}else n==="center"?m=(u.bottom+u.top)/2+y-e:m=Hm(t,n,e);f=a-i}else{if(J(n)){const g=Object.keys(n)[0],x=n[g];p=d[g].getPixelForValue(x)-v+e}else n==="center"?p=(u.left+u.right)/2-v+e:p=Hm(t,n,e);m=$e(s,o,r),h=n==="left"?-je:je}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}class $s extends zt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=ht(e,Number.POSITIVE_INFINITY),n=ht(n,Number.NEGATIVE_INFINITY),s=ht(s,Number.POSITIVE_INFINITY),r=ht(r,Number.NEGATIVE_INFINITY),{min:ht(e,s),max:ht(n,r),minDefined:_e(e),maxDefined:_e(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),i||(s=Math.max(s,o.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:ht(n,ht(s,n)),max:ht(s,ht(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ae(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=SC(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?qm(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=sP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ae(this.options.afterUpdate,[this])}beforeSetDimensions(){ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ae(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ae(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=ae(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Wm(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,a,l,u;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=qe(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:p/(s-1),h+6>a&&(a=p/(s-(e.offset?.5:1)),l=this.maxHeight-Kr(e.grid)-n.padding-Qm(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),o=Zh(Math.min(Math.asin(qe((d.highest.height+6)/a,-1,1)),Math.asin(qe(l/u,-1,1))-Math.asin(qe(f/u,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ae(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Qm(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Kr(i)+l):(e.height=this.maxHeight,e.width=Kr(i)+l),s.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),p=s.padding*2,m=Xt(this.labelRotation),y=Math.cos(m),v=Math.sin(m);if(a){const g=s.mirror?0:v*h.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+g+p)}else{const g=s.mirror?0:y*h.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+g+p)}this._calculatePadding(u,d,v,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?u?(f=r*e.width,p=s*n.height):(f=s*e.height,p=r*n.width):i==="start"?p=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;i==="start"?(d=0,h=e.height):i==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ae(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)ne(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=qm(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/Wm(n,s));let u=0,d=0,h,f,p,m,y,v,g,x,b,_,w;for(h=0;h<n;h+=l){if(m=e[h].label,y=this._resolveTickFontOptions(h),r.font=v=y.string,g=i[v]=i[v]||{data:{},gc:[]},x=y.lineHeight,b=_=0,!ne(m)&&!ue(m))b=vl(r,g.data,g.gc,b,m),_=x;else if(ue(m))for(f=0,p=m.length;f<p;++f)w=m[f],!ne(w)&&!ue(w)&&(b=vl(r,g.data,g.gc,b,w),_+=x);o.push(b),a.push(_),u=Math.max(b,u),d=Math.max(_,d)}dP(i,n);const k=o.indexOf(u),j=a.indexOf(d),N=P=>({width:o[P]||0,height:a[P]||0});return{first:N(0),last:N(n-1),widest:N(k),highest:N(j),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return XN(this._alignToPixels?us(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=fP(this.getContext(),e,s))}return this.$context||(this.$context=hP(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Xt(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*s>a*r?a/s:l/r:l*r<a*s?l/s:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:a}=r,l=i.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Kr(i),p=[],m=a.setContext(this.getContext()),y=m.display?m.width:0,v=y/2,g=function(H){return us(s,H,y)};let x,b,_,w,k,j,N,P,E,O,F,U;if(o==="top")x=g(this.bottom),j=this.bottom-f,P=x-v,O=g(e.top)+v,U=e.bottom;else if(o==="bottom")x=g(this.top),O=e.top,U=g(e.bottom)-v,j=x+v,P=this.top+f;else if(o==="left")x=g(this.right),k=this.right-f,N=x-v,E=g(e.left)+v,F=e.right;else if(o==="right")x=g(this.left),E=e.left,F=g(e.right)-v,k=x+v,N=this.left+f;else if(n==="x"){if(o==="center")x=g((e.top+e.bottom)/2+.5);else if(J(o)){const H=Object.keys(o)[0],G=o[H];x=g(this.chart.scales[H].getPixelForValue(G))}O=e.top,U=e.bottom,j=x+v,P=j+f}else if(n==="y"){if(o==="center")x=g((e.left+e.right)/2);else if(J(o)){const H=Object.keys(o)[0],G=o[H];x=g(this.chart.scales[H].getPixelForValue(G))}k=x-v,N=k-f,E=e.left,F=e.right}const $=q(r.ticks.maxTicksLimit,h),V=Math.max(1,Math.ceil(h/$));for(b=0;b<h;b+=V){const H=this.getContext(b),G=i.setContext(H),T=a.setContext(H),M=G.lineWidth,I=G.color,ee=T.dash||[],z=T.dashOffset,K=G.tickWidth,ge=G.tickColor,ut=G.tickBorderDash||[],xe=G.tickBorderDashOffset;_=uP(this,b,l),_!==void 0&&(w=us(s,_,M),u?k=N=E=F=w:j=P=O=U=w,p.push({tx1:k,ty1:j,tx2:N,ty2:P,x1:E,y1:O,x2:F,y2:U,width:M,color:I,borderDash:ee,borderDashOffset:z,tickWidth:K,tickColor:ge,tickBorderDash:ut,tickBorderDashOffset:xe}))}return this._ticksLength=h,this._borderValue=x,p}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:h}=i,f=Kr(s.grid),p=f+d,m=h?-d:p,y=-Xt(this.labelRotation),v=[];let g,x,b,_,w,k,j,N,P,E,O,F,U="middle";if(r==="top")k=this.bottom-m,j=this._getXAxisLabelAlignment();else if(r==="bottom")k=this.top+m,j=this._getXAxisLabelAlignment();else if(r==="left"){const V=this._getYAxisLabelAlignment(f);j=V.textAlign,w=V.x}else if(r==="right"){const V=this._getYAxisLabelAlignment(f);j=V.textAlign,w=V.x}else if(n==="x"){if(r==="center")k=(e.top+e.bottom)/2+p;else if(J(r)){const V=Object.keys(r)[0],H=r[V];k=this.chart.scales[V].getPixelForValue(H)+p}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")w=(e.left+e.right)/2-p;else if(J(r)){const V=Object.keys(r)[0],H=r[V];w=this.chart.scales[V].getPixelForValue(H)}j=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?U="top":l==="end"&&(U="bottom"));const $=this._getLabelSizes();for(g=0,x=a.length;g<x;++g){b=a[g],_=b.label;const V=i.setContext(this.getContext(g));N=this.getPixelForTick(g)+i.labelOffset,P=this._resolveTickFontOptions(g),E=P.lineHeight,O=ue(_)?_.length:1;const H=O/2,G=V.color,T=V.textStrokeColor,M=V.textStrokeWidth;let I=j;o?(w=N,j==="inner"&&(g===x-1?I=this.options.reverse?"left":"right":g===0?I=this.options.reverse?"right":"left":I="center"),r==="top"?u==="near"||y!==0?F=-O*E+E/2:u==="center"?F=-$.highest.height/2-H*E+E:F=-$.highest.height+E/2:u==="near"||y!==0?F=E/2:u==="center"?F=$.highest.height/2-H*E:F=$.highest.height-O*E,h&&(F*=-1),y!==0&&!V.showLabelBackdrop&&(w+=E/2*Math.sin(y))):(k=N,F=(1-O)*E/2);let ee;if(V.showLabelBackdrop){const z=Ke(V.backdropPadding),K=$.heights[g],ge=$.widths[g];let ut=F-z.top,xe=0-z.left;switch(U){case"middle":ut-=K/2;break;case"bottom":ut-=K;break}switch(j){case"center":xe-=ge/2;break;case"right":xe-=ge;break;case"inner":g===x-1?xe-=ge:g>0&&(xe-=ge/2);break}ee={left:xe,top:ut,width:ge+z.width,height:K+z.height,color:V.backdropColor}}v.push({label:_,font:P,textOffset:F,options:{rotation:y,color:G,strokeColor:T,strokeWidth:M,textAlign:I,textBaseline:U,translation:[w,k],backdrop:ee}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Xt(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let u,d;return n==="left"?r?(d=this.right+i,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?r?(d=this.left+i,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const l=r[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=us(e,this.left,o)-o/2,d=us(e,this.right,a)+a/2,h=f=l):(h=us(e,this.top,o)-o/2,f=us(e,this.bottom,a)+a/2,u=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&tc(s,r);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,u=o.label,d=o.textOffset;zs(s,u,0,d,l,a)}r&&nc(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=Me(s.font),o=Ke(s.padding),a=s.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||J(n)?(l+=o.bottom,ue(s.text)&&(l+=i.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=mP(this,l,n,a);zs(e,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:f,textAlign:pP(a,n,r),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=q(e.grid&&e.grid.z,-1),r=q(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==$s.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[s]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Me(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Yo{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;yP(n)&&(s=this.register(n));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,gP(e,o,s),this.override&&Se.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in Se[r]&&(delete Se[r][s],this.override&&delete Is[s])}}function gP(t,e,n){const s=Ki(Object.create(null),[n?Se.get(n):{},Se.get(e),t.defaults]);Se.set(e,s),t.defaultRoutes&&xP(e,t.defaultRoutes),t.descriptors&&Se.describe(e,t.descriptors)}function xP(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Se.route(i,r,l,a)})}function yP(t){return"id"in t&&"defaults"in t}class vP{constructor(){this.controllers=new Yo(Gn,"datasets",!0),this.elements=new Yo(zt,"elements"),this.plugins=new Yo(Object,"plugins"),this.scales=new Yo($s,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):ie(r,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const r=Jh(e);ae(s["before"+r],[],s),n[e](s),ae(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var qt=new vP;class bP{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,r){r=r||{};for(const i of e){const o=i.plugin,a=o[s],l=[n,r,i.options];if(ae(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ne(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=q(s.options&&s.options.plugins,{}),i=wP(s);return r===!1&&!n?[]:SP(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function wP(t){const e={},n=[],s=Object.keys(qt.plugins.items);for(let i=0;i<s.length;i++)n.push(qt.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function _P(t,e){return!e&&t===!1?null:t===!0?{}:t}function SP(t,{plugins:e,localIds:n},s,r){const i=[],o=t.getContext();for(const a of e){const l=a.id,u=_P(s[l],r);u!==null&&i.push({plugin:a,options:kP(t.config,{plugin:a,local:n[l]},u,o)})}return i}function kP(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Cd(t,e){const n=Se.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function jP(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function NP(t,e){return t===e?"_index_":"_value_"}function Km(t){if(t==="x"||t==="y"||t==="r")return t}function CP(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ed(t,...e){if(Km(t))return t;for(const n of e){const s=n.axis||CP(n.position)||t.length>1&&Km(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Ym(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function EP(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Ym(t,"x",n[0])||Ym(t,"y",n[0])}return{}}function PP(t,e){const n=Is[t.type]||{scales:{}},s=e.scales||{},r=Cd(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!J(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Ed(o,a,EP(o,t),Se.scales[a.type]),u=NP(l,r),d=n.scales||{};i[o]=bi(Object.create(null),[{axis:l},a,d[l],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Cd(a,e),d=(Is[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=jP(h,l),p=o[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),bi(i[p],[{axis:f},s[p],d[h]])})}),Object.keys(i).forEach(o=>{const a=i[o];bi(a,[Se.scales[a.type],Se.scale])}),i}function Hv(t){const e=t.options||(t.options={});e.plugins=q(e.plugins,{}),e.scales=PP(t,e)}function Wv(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function RP(t){return t=t||{},t.data=Wv(t.data),Hv(t),t}const Xm=new Map,qv=new Set;function Xo(t,e){let n=Xm.get(t);return n||(n=e(),Xm.set(t,n),qv.add(n)),n}const Yr=(t,e,n)=>{const s=ts(e,n);s!==void 0&&t.add(s)};class TP{constructor(e){this._config=RP(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Wv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Hv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Xo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Xo(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Xo(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Xo(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(h=>Yr(l,e,h))),d.forEach(h=>Yr(l,r,h)),d.forEach(h=>Yr(l,Is[i]||{},h)),d.forEach(h=>Yr(l,Se,h)),d.forEach(h=>Yr(l,jd,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),qv.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Is[n]||{},Se.datasets[n]||{},{type:n},Se,jd]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Gm(this._resolverCache,e,r);let l=o;if(MP(o,n)){i.$shared=!1,s=ns(s)?s():s;const u=this.createResolver(e,s,a);l=_r(o,s,u)}for(const u of n)i[u]=l[u];return i}createResolver(e,n,s=[""],r){const{resolver:i}=Gm(this._resolverCache,e,s);return J(n)?_r(i,n,void 0,r):i}}function Gm(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:rf(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(r,i)),i}const OP=t=>J(t)&&Object.getOwnPropertyNames(t).some(e=>ns(t[e]));function MP(t,e){const{isScriptable:n,isIndexable:s}=jv(t);for(const r of e){const i=n(r),o=s(r),a=(o||i)&&t[r];if(i&&(ns(a)||OP(a))||o&&ue(a))return!0}return!1}var AP="4.5.0";const LP=["top","bottom","left","right","chartArea"];function Jm(t,e){return t==="top"||t==="bottom"||LP.indexOf(t)===-1&&e==="x"}function Zm(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function eg(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ae(n&&n.onComplete,[t],e)}function DP(t){const e=t.chart,n=e.options.animation;ae(n&&n.onProgress,[t],e)}function Qv(t){return lf()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ra={},tg=t=>{const e=Qv(t);return Object.values(Ra).filter(n=>n.canvas===e).pop()};function FP(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function IP(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Nn;let rc=(Nn=class{static register(...e){qt.add(...e),ng()}static unregister(...e){qt.remove(...e),ng()}constructor(e,n){const s=this.config=new TP(n),r=Qv(e),i=tg(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||nP(r)),this.platform.updateConfig(s);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,d=l&&l.width;if(this.id=FN(),this.ctx=a,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=eC(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Ra[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}on.listen(this,"complete",eg),on.listen(this,"progress",DP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return ne(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return qt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():km(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return wm(this.canvas,this.ctx),this}stop(){return on.stop(this),this}resize(e,n){on.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,i),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,km(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ae(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ie(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=Ed(o,a),u=l==="r",d=l==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ie(i,o=>{const a=o.options,l=a.id,u=Ed(l,a),d=q(a.type,o.dtype);(a.position===void 0||Jm(a.position,u)!==Jm(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in s&&s[l].type===d)h=s[l];else{const f=qt.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),ie(r,(o,a)=>{o||delete s[a]}),ie(s,o=>{kt.configure(this,o,o.options),kt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(Zm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let o=this.getDatasetMeta(s);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=i.indexAxis||Cd(a,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=qt.getController(a),{datasetElementType:u,dataElementType:d}=Se.datasets[a];Object.assign(l,{dataElementType:qt.getElement(d),datasetElementType:u&&qt.getElement(u)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ie(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!r&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||ie(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Zm("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ie(this.scales,e=>{kt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!hm(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const o=s==="_removeElements"?-i:i;FP(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!hm(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;kt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],ie(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,ns(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(on.has(this)?this.attached&&!on.running(this)&&on.start(this):(this.draw(),eg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=Lv(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&tc(n,r),e.controller.draw(),r&&nc(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return mn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=LE.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=ls(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);Yi(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),on.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),wm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ra[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},r=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};ie(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},r=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ie(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ie(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!gl(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=i(n,e),a=s?e:i(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,o=n,a=this._getActiveElements(e,r,s,o),l=VN(e),u=IP(e,this._lastEvent,s,l);s&&(this._lastEvent=null,ae(i.onHover,[e,a,this],this),l&&ae(i.onClick,[e,a,this],this));const d=!gl(a,r);return(d||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},A(Nn,"defaults",Se),A(Nn,"instances",Ra),A(Nn,"overrides",Is),A(Nn,"registry",qt),A(Nn,"version",AP),A(Nn,"getChart",tg),Nn);function ng(){return ie(rc.instances,t=>t._plugins.invalidate())}function zP(t,e,n){const{startAngle:s,x:r,y:i,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:u,borderJoinStyle:d}=l,h=Math.min(u/o,Ve(s-n));if(t.beginPath(),t.arc(r,i,o-u/2,s+h/2,n-h/2),a>0){const f=Math.min(u/a,Ve(s-n));t.arc(r,i,a+u/2,n-f/2,s+f/2,!0)}else{const f=Math.min(u/2,o*Ve(s-n));if(d==="round")t.arc(r,i,f,n-re/2,s+re/2,!0);else if(d==="bevel"){const p=2*f*f,m=-p*Math.cos(n+re/2)+r,y=-p*Math.sin(n+re/2)+i,v=p*Math.cos(s+re/2)+r,g=p*Math.sin(s+re/2)+i;t.lineTo(m,y),t.lineTo(v,g)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function BP(t,e,n){const{startAngle:s,pixelMargin:r,x:i,y:o,outerRadius:a,innerRadius:l}=e;let u=r/a;t.beginPath(),t.arc(i,o,a,s-u,n+u),l>r?(u=r/l,t.arc(i,o,l,n+u,s-u,!0)):t.arc(i,o,r,n+je,s-je),t.closePath(),t.clip()}function UP(t){return sf(t,["outerStart","outerEnd","innerStart","innerEnd"])}function $P(t,e,n,s){const r=UP(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,s*e/2),a=l=>{const u=(n-Math.min(i,l))*s/2;return qe(l,0,Math.min(i,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:qe(r.innerStart,0,o),innerEnd:qe(r.innerEnd,0,o)}}function Ws(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function _l(t,e,n,s,r,i){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:d}=e,h=Math.max(e.outerRadius+s+n-u,0),f=d>0?d+s+n+u:0;let p=0;const m=r-l;if(s){const V=d>0?d-s:0,H=h>0?h-s:0,G=(V+H)/2,T=G!==0?m*G/(G+s):m;p=(m-T)/2}const y=Math.max(.001,m*h-n/re)/h,v=(m-y)/2,g=l+v+p,x=r-v-p,{outerStart:b,outerEnd:_,innerStart:w,innerEnd:k}=$P(e,f,h,x-g),j=h-b,N=h-_,P=g+b/j,E=x-_/N,O=f+w,F=f+k,U=g+w/O,$=x-k/F;if(t.beginPath(),i){const V=(P+E)/2;if(t.arc(o,a,h,P,V),t.arc(o,a,h,V,E),_>0){const M=Ws(N,E,o,a);t.arc(M.x,M.y,_,E,x+je)}const H=Ws(F,x,o,a);if(t.lineTo(H.x,H.y),k>0){const M=Ws(F,$,o,a);t.arc(M.x,M.y,k,x+je,$+Math.PI)}const G=(x-k/f+(g+w/f))/2;if(t.arc(o,a,f,x-k/f,G,!0),t.arc(o,a,f,G,g+w/f,!0),w>0){const M=Ws(O,U,o,a);t.arc(M.x,M.y,w,U+Math.PI,g-je)}const T=Ws(j,g,o,a);if(t.lineTo(T.x,T.y),b>0){const M=Ws(j,P,o,a);t.arc(M.x,M.y,b,g-je,P)}}else{t.moveTo(o,a);const V=Math.cos(P)*h+o,H=Math.sin(P)*h+a;t.lineTo(V,H);const G=Math.cos(E)*h+o,T=Math.sin(E)*h+a;t.lineTo(G,T)}t.closePath()}function VP(t,e,n,s,r){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){_l(t,e,n,s,l,r);for(let u=0;u<i;++u)t.fill();isNaN(a)||(l=o+(a%he||he))}return _l(t,e,n,s,l,r),t.fill(),l}function HP(t,e,n,s,r){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:p}=l,m=l.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=f,m?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let y=e.endAngle;if(i){_l(t,e,n,s,y,r);for(let v=0;v<i;++v)t.stroke();isNaN(a)||(y=o+(a%he||he))}m&&BP(t,e,y),l.selfJoin&&y-o>=re&&p===0&&d!=="miter"&&zP(t,e,y),i||(_l(t,e,n,s,y,r),t.stroke())}class ii extends zt{constructor(n){super();A(this,"circumference");A(this,"endAngle");A(this,"fullCircles");A(this,"innerRadius");A(this,"outerRadius");A(this,"pixelMargin");A(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:o,distance:a}=xv(i,{x:n,y:s}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,m=q(f,u-l),y=Gi(o,l,u)&&l!==u,v=m>=he||y,g=pn(a,d+p,h+p);return v&&g}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,h=(i+o)/2,f=(a+l+d+u)/2;return{x:s+Math.cos(h)*f,y:r+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>he?Math.floor(r/he):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(re,r||0)),d=i*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,VP(n,this,d,o,a),HP(n,this,d,o,a),n.restore()}}A(ii,"id","arc"),A(ii,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),A(ii,"defaultRoutes",{backgroundColor:"backgroundColor"}),A(ii,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Kv(t,e,n=e){t.lineCap=q(n.borderCapStyle,e.borderCapStyle),t.setLineDash(q(n.borderDash,e.borderDash)),t.lineDashOffset=q(n.borderDashOffset,e.borderDashOffset),t.lineJoin=q(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=q(n.borderWidth,e.borderWidth),t.strokeStyle=q(n.borderColor,e.borderColor)}function WP(t,e,n){t.lineTo(n.x,n.y)}function qP(t){return t.stepped?pC:t.tension||t.cubicInterpolationMode==="monotone"?mC:WP}function Yv(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:o,end:a}=e,l=Math.max(r,o),u=Math.min(i,a),d=r<o&&i<o||r>a&&i>a;return{count:s,start:l,loop:e.loop,ilen:u<l&&!d?s+u-l:u-l}}function QP(t,e,n,s){const{points:r,options:i}=e,{count:o,start:a,loop:l,ilen:u}=Yv(r,n,s),d=qP(i);let{move:h=!0,reverse:f}=s||{},p,m,y;for(p=0;p<=u;++p)m=r[(a+(f?u-p:p))%o],!m.skip&&(h?(t.moveTo(m.x,m.y),h=!1):d(t,y,m,f,i.stepped),y=m);return l&&(m=r[(a+(f?u:0))%o],d(t,y,m,f,i.stepped)),!!l}function KP(t,e,n,s){const r=e.points,{count:i,start:o,ilen:a}=Yv(r,n,s),{move:l=!0,reverse:u}=s||{};let d=0,h=0,f,p,m,y,v,g;const x=_=>(o+(u?a-_:_))%i,b=()=>{y!==v&&(t.lineTo(d,v),t.lineTo(d,y),t.lineTo(d,g))};for(l&&(p=r[x(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=r[x(f)],p.skip)continue;const _=p.x,w=p.y,k=_|0;k===m?(w<y?y=w:w>v&&(v=w),d=(h*d+_)/++h):(b(),t.lineTo(_,w),m=k,h=0,y=v=w),g=w}b()}function Pd(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?KP:QP}function YP(t){return t.stepped?KC:t.tension||t.cubicInterpolationMode==="monotone"?YC:gs}function XP(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),Kv(t,e.options),t.stroke(r)}function GP(t,e,n,s){const{segments:r,options:i}=e,o=Pd(e);for(const a of r)Kv(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const JP=typeof Path2D=="function";function ZP(t,e,n,s){JP&&!e.options.segment?XP(t,e,n,s):GP(t,e,n,s)}class In extends zt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;BC(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=tE(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,o=Av(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=YP(s);let u,d;for(u=0,d=o.length;u<d;++u){const{start:h,end:f}=o[u],p=i[h],m=i[f];if(p===m){a.push(p);continue}const y=Math.abs((r-p[n])/(m[n]-p[n])),v=l(p,m,y,s.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,s){return Pd(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=Pd(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of r)o&=i(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),ZP(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}A(In,"id","line"),A(In,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),A(In,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),A(In,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function sg(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class Ta extends zt{constructor(n){super();A(this,"parsed");A(this,"skip");A(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return sg(this,n,"x",s)}inYRange(n,s){return sg(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!mn(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Nd(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}A(Ta,"id","point"),A(Ta,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),A(Ta,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Xv(t,e){const{x:n,y:s,base:r,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,d,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),u=s-h,d=s+h):(h=i/2,a=n-h,l=n+h,u=Math.min(s,r),d=Math.max(s,r)),{left:a,top:u,right:l,bottom:d}}function zn(t,e,n,s){return t?0:qe(e,n,s)}function e4(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=kv(s);return{t:zn(r.top,i.top,0,n),r:zn(r.right,i.right,0,e),b:zn(r.bottom,i.bottom,0,n),l:zn(r.left,i.left,0,e)}}function t4(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=Ps(r),o=Math.min(e,n),a=t.borderSkipped,l=s||J(r);return{topLeft:zn(!l||a.top||a.left,i.topLeft,0,o),topRight:zn(!l||a.top||a.right,i.topRight,0,o),bottomLeft:zn(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:zn(!l||a.bottom||a.right,i.bottomRight,0,o)}}function n4(t){const e=Xv(t),n=e.right-e.left,s=e.bottom-e.top,r=e4(t,n/2,s/2),i=t4(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function tu(t,e,n,s){const r=e===null,i=n===null,a=t&&!(r&&i)&&Xv(t,s);return a&&(r||pn(e,a.left,a.right))&&(i||pn(n,a.top,a.bottom))}function s4(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function r4(t,e){t.rect(e.x,e.y,e.w,e.h)}function nu(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+o,radius:t.radius}}class Oa extends zt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:o}=n4(this),a=s4(o.radius)?Ji:r4;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,nu(o,n,i)),e.clip(),a(e,nu(i,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,nu(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return tu(this,e,n,s)}inXRange(e,n){return tu(this,e,null,n)}inYRange(e,n){return tu(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}A(Oa,"id","bar"),A(Oa,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),A(Oa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function i4(t,e,n){const s=t.segments,r=t.points,i=e.points,o=[];for(const a of s){let{start:l,end:u}=a;u=ic(l,u,r);const d=Rd(n,r[l],r[u],a.loop);if(!e.segments){o.push({source:a,target:d,start:r[l],end:r[u]});continue}const h=Av(e,d);for(const f of h){const p=Rd(n,i[f.start],i[f.end],f.loop),m=Mv(a,r,p);for(const y of m)o.push({source:y,target:f,start:{[n]:rg(d,p,"start",Math.max)},end:{[n]:rg(d,p,"end",Math.min)}})}}return o}function Rd(t,e,n,s){if(s)return;let r=e[t],i=n[t];return t==="angle"&&(r=Ve(r),i=Ve(i)),{property:t,start:r,end:i}}function o4(t,e){const{x:n=null,y:s=null}=t||{},r=e.points,i=[];return e.segments.forEach(({start:o,end:a})=>{a=ic(o,a,r);const l=r[o],u=r[a];s!==null?(i.push({x:l.x,y:s}),i.push({x:u.x,y:s})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:u.y}))}),i}function ic(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function rg(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function Gv(t,e){let n=[],s=!1;return ue(t)?(s=!0,n=t):n=o4(t,e),n.length?new In({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function ig(t){return t&&t.fill!==!1}function a4(t,e,n){let r=t[e].fill;const i=[e];let o;if(!n)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!_e(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function l4(t,e,n){const s=h4(t);if(J(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return _e(r)&&Math.floor(r)===r?c4(s[0],e,r,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function c4(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function u4(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:J(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function d4(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:J(t)?s=t.value:s=e.getBaseValue(),s}function h4(t){const e=t.options,n=e.fill;let s=q(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function f4(t){const{scale:e,index:n,line:s}=t,r=[],i=s.segments,o=s.points,a=p4(e,n);a.push(Gv({x:null,y:e.bottom},s));for(let l=0;l<i.length;l++){const u=i[l];for(let d=u.start;d<=u.end;d++)m4(r,o[d],a)}return new In({points:r,options:{}})}function p4(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const i=s[r];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function m4(t,e,n){const s=[];for(let r=0;r<n.length;r++){const i=n[r],{first:o,last:a,point:l}=g4(i,e,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(t.push(l),!a)break}}t.push(...s)}function g4(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const r=s[n],i=t.segments,o=t.points;let a=!1,l=!1;for(let u=0;u<i.length;u++){const d=i[u],h=o[d.start][n],f=o[d.end][n];if(pn(r,h,f)){a=r===h,l=r===f;break}}return{first:a,last:l,point:s}}class Jv{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:r,y:i,radius:o}=this;return n=n||{start:0,end:he},e.arc(r,i,o,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:r}=this,i=e.angle;return{x:n+Math.cos(i)*r,y:s+Math.sin(i)*r,angle:i}}}function x4(t){const{chart:e,fill:n,line:s}=t;if(_e(n))return y4(e,n);if(n==="stack")return f4(t);if(n==="shape")return!0;const r=v4(t);return r instanceof Jv?r:Gv(r,s)}function y4(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function v4(t){return(t.scale||{}).getPointPositionForValue?w4(t):b4(t)}function b4(t){const{scale:e={},fill:n}=t,s=u4(n,e);if(_e(s)){const r=e.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function w4(t){const{scale:e,fill:n}=t,s=e.options,r=e.getLabels().length,i=s.reverse?e.max:e.min,o=d4(n,e,i),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,i);return new Jv({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function su(t,e,n){const s=x4(e),{chart:r,index:i,line:o,scale:a,axis:l}=e,u=o.options,d=u.fill,h=u.backgroundColor,{above:f=h,below:p=h}=d||{},m=r.getDatasetMeta(i),y=Lv(r,m);s&&o.points.length&&(tc(t,n),_4(t,{line:o,target:s,above:f,below:p,area:n,scale:a,axis:l,clip:y}),nc(t))}function _4(t,e){const{line:n,target:s,above:r,below:i,area:o,scale:a,clip:l}=e,u=n._loop?"angle":e.axis;t.save();let d=i;i!==r&&(u==="x"?(og(t,s,o.top),ru(t,{line:n,target:s,color:r,scale:a,property:u,clip:l}),t.restore(),t.save(),og(t,s,o.bottom)):u==="y"&&(ag(t,s,o.left),ru(t,{line:n,target:s,color:i,scale:a,property:u,clip:l}),t.restore(),t.save(),ag(t,s,o.right),d=r)),ru(t,{line:n,target:s,color:d,scale:a,property:u,clip:l}),t.restore()}function og(t,e,n){const{segments:s,points:r}=e;let i=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:u}=a,d=r[l],h=r[ic(l,u,r)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function ag(t,e,n){const{segments:s,points:r}=e;let i=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:u}=a,d=r[l],h=r[ic(l,u,r)];i?(t.moveTo(d.x,d.y),i=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function ru(t,e){const{line:n,target:s,property:r,color:i,scale:o,clip:a}=e,l=i4(n,s,r);for(const{source:u,target:d,start:h,end:f}of l){const{style:{backgroundColor:p=i}={}}=u,m=s!==!0;t.save(),t.fillStyle=p,S4(t,o,a,m&&Rd(r,h,f)),t.beginPath();const y=!!n.pathSegment(t,u);let v;if(m){y?t.closePath():lg(t,s,f,r);const g=!!s.pathSegment(t,d,{move:y,reverse:!0});v=y&&g,v||lg(t,s,h,r)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function S4(t,e,n,s){const r=e.chart.chartArea,{property:i,start:o,end:a}=s||{};if(i==="x"||i==="y"){let l,u,d,h;i==="x"?(l=o,u=r.top,d=a,h=r.bottom):(l=r.left,u=o,d=r.right,h=a),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),h=Math.min(h,n.bottom)),t.rect(l,u,d-l,h-u),t.clip()}}function lg(t,e,n,s){const r=e.interpolate(n,s);r&&t.lineTo(r.x,r.y)}var k4={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,r=[];let i,o,a,l;for(o=0;o<s;++o)i=t.getDatasetMeta(o),a=i.dataset,l=null,a&&a.options&&a instanceof In&&(l={visible:t.isDatasetVisible(o),index:o,fill:l4(a,o,s),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=l,r.push(l);for(o=0;o<s;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=a4(r,o,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(i,a.axis),s&&a.fill&&su(t.ctx,a,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const i=s[r].$filler;ig(i)&&su(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!ig(s)||n.drawTime!=="beforeDatasetDraw"||su(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const cg=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},j4=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class ug extends zt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ae(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=Me(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=cg(s,i);let u,d;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=r+a;let h=e;i.textAlign="left",i.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((m,y)=>{const v=s+n/2+i.measureText(m.text).width;(y===0||u[u.length-1]+v+2*a>o)&&(h+=d,u[u.length-(y>0?0:1)]=0,p+=d,f++),l[y]={left:0,top:p,row:f,width:v,height:r},u[u.length-1]+=v+a}),h}_fitCols(e,n,s,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let h=a,f=0,p=0,m=0,y=0;return this.legendItems.forEach((v,g)=>{const{itemWidth:x,itemHeight:b}=N4(s,n,i,v,r);g>0&&p+b+2*a>d&&(h+=f+a,u.push({width:f,height:p}),m+=f+a,y++,f=p=0),l[g]={left:m,top:p,col:y,width:x,height:b},f=Math.max(f,x),p+=b+a}),h+=f,u.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,o=hr(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=$e(s,this.left+r,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=$e(s,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+e+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=$e(s,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=$e(s,this.top+e+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;tc(e,this),this._draw(),nc(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:o}=e,a=Se.color,l=hr(e.rtl,this.left,this.width),u=Me(o.font),{padding:d}=o,h=u.size,f=h/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:m,boxHeight:y,itemHeight:v}=cg(o,h),g=function(k,j,N){if(isNaN(m)||m<=0||isNaN(y)||y<0)return;r.save();const P=q(N.lineWidth,1);if(r.fillStyle=q(N.fillStyle,a),r.lineCap=q(N.lineCap,"butt"),r.lineDashOffset=q(N.lineDashOffset,0),r.lineJoin=q(N.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=q(N.strokeStyle,a),r.setLineDash(q(N.lineDash,[])),o.usePointStyle){const E={radius:y*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:P},O=l.xPlus(k,m/2),F=j+f;Sv(r,E,O,F,o.pointStyleWidth&&m)}else{const E=j+Math.max((h-y)/2,0),O=l.leftForLtr(k,m),F=Ps(N.borderRadius);r.beginPath(),Object.values(F).some(U=>U!==0)?Ji(r,{x:O,y:E,w:m,h:y,radius:F}):r.rect(O,E,m,y),r.fill(),P!==0&&r.stroke()}r.restore()},x=function(k,j,N){zs(r,N.text,k,j+v/2,u,{strikethrough:N.hidden,textAlign:l.textAlign(N.textAlign)})},b=this.isHorizontal(),_=this._computeTitleHeight();b?p={x:$e(i,this.left+d,this.right-s[0]),y:this.top+d+_,line:0}:p={x:this.left+d,y:$e(i,this.top+_+d,this.bottom-n[0].height),line:0},Rv(this.ctx,e.textDirection);const w=v+d;this.legendItems.forEach((k,j)=>{r.strokeStyle=k.fontColor,r.fillStyle=k.fontColor;const N=r.measureText(k.text).width,P=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),E=m+f+N;let O=p.x,F=p.y;l.setWidth(this.width),b?j>0&&O+E+d>this.right&&(F=p.y+=w,p.line++,O=p.x=$e(i,this.left+d,this.right-s[p.line])):j>0&&F+w>this.bottom&&(O=p.x=O+n[p.line].width+d,p.line++,F=p.y=$e(i,this.top+_+d,this.bottom-n[p.line].height));const U=l.x(O);if(g(U,F,k),O=tC(P,O+m+f,b?O+E:this.right,e.rtl),x(l.x(O),F,k),b)p.x+=E+d;else if(typeof k.text!="string"){const $=u.lineHeight;p.y+=Zv(k,$)+d}else p.y+=w}),Tv(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Me(n.font),r=Ke(n.padding);if(!n.display)return;const i=hr(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,u=r.top+l;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=$e(e.align,h,this.right-f);else{const m=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);d=u+$e(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=$e(a,h,h+f);o.textAlign=i.textAlign(tf(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,zs(o,n.text,p,d,s)}_computeTitleHeight(){const e=this.options.title,n=Me(e.font),s=Ke(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(pn(e,this.left,this.right)&&pn(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],pn(e,r.left,r.left+r.width)&&pn(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!P4(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=j4(r,s);r&&!i&&ae(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&ae(n.onHover,[e,s,this],this)}else s&&ae(n.onClick,[e,s,this],this)}}function N4(t,e,n,s,r){const i=C4(s,t,e,n),o=E4(r,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function C4(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+s.measureText(r).width}function E4(t,e,n){let s=t;return typeof e.text!="string"&&(s=Zv(e,n)),s}function Zv(t,e){const n=t.text?t.text.length:0;return e*n}function P4(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var R4={id:"legend",_element:ug,start(t,e,n){const s=t.legend=new ug({ctx:t.ctx,options:n,chart:t});kt.configure(t,s,n),kt.addBox(t,s)},stop(t){kt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;kt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=Ke(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class eb extends zt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=ue(s.text)?s.text.length:1;this._padding=Ke(s.padding);const i=r*Me(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:o}=this,a=o.align;let l=0,u,d,h;return this.isHorizontal()?(d=$e(a,s,i),h=n+e,u=i-s):(o.position==="left"?(d=s+e,h=$e(a,r,n),l=re*-.5):(d=i-e,h=$e(a,n,r),l=re*.5),u=r-n),{titleX:d,titleY:h,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Me(n.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(i);zs(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:u,textAlign:tf(n.align),textBaseline:"middle",translation:[o,a]})}}function T4(t,e){const n=new eb({ctx:t.ctx,options:e,chart:t});kt.configure(t,n,e),kt.addBox(t,n),t.titleBlock=n}var O4={id:"title",_element:eb,start(t,e,n){T4(t,n)},stop(t){const e=t.titleBlock;kt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;kt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const oi={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),r+=l.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=kd(e,u);d<r&&(r=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Ht(t,e){return e&&(ue(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function an(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function M4(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:o,value:a}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function dg(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=Me(e.bodyFont),u=Me(e.titleFont),d=Me(e.footerFont),h=i.length,f=r.length,p=s.length,m=Ke(e.padding);let y=m.height,v=0,g=s.reduce((_,w)=>_+w.before.length+w.lines.length+w.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const _=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=p*_+(g-p)*l.lineHeight+(g-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let x=0;const b=function(_){v=Math.max(v,n.measureText(_).width+x)};return n.save(),n.font=u.string,ie(t.title,b),n.font=l.string,ie(t.beforeBody.concat(t.afterBody),b),x=e.displayColors?o+2+e.boxPadding:0,ie(s,_=>{ie(_.before,b),ie(_.lines,b),ie(_.after,b)}),x=0,n.font=d.string,ie(t.footer,b),n.restore(),v+=m.width,{width:v,height:y}}function A4(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function L4(t,e,n,s){const{x:r,width:i}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&r+i+o>e.width||t==="right"&&r-i-o<0)return!0}function D4(t,e,n,s){const{x:r,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return s==="center"?u=r<=(a+l)/2?"left":"right":r<=i/2?u="left":r>=o-i/2&&(u="right"),L4(u,t,e,n)&&(u="center"),u}function hg(t,e,n){const s=n.yAlign||e.yAlign||A4(t,n);return{xAlign:n.xAlign||e.xAlign||D4(t,e,n,s),yAlign:s}}function F4(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function I4(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function fg(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=r+i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=Ps(o);let m=F4(e,a);const y=I4(e,l,u);return l==="center"?a==="left"?m+=u:a==="right"&&(m-=u):a==="left"?m-=Math.max(d,f)+r:a==="right"&&(m+=Math.max(h,p)+r),{x:qe(m,0,s.width-e.width),y:qe(y,0,s.height-e.height)}}function Go(t,e,n){const s=Ke(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function pg(t){return Ht([],an(t))}function z4(t,e,n){return ls(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function mg(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const tb={beforeTitle:rn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:rn,beforeBody:rn,beforeLabel:rn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ne(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:rn,afterBody:rn,beforeFooter:rn,footer:rn,afterFooter:rn};function et(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?tb[e].call(n,s):r}class Td extends zt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new Dv(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=z4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=et(s,"beforeTitle",this,e),i=et(s,"title",this,e),o=et(s,"afterTitle",this,e);let a=[];return a=Ht(a,an(r)),a=Ht(a,an(i)),a=Ht(a,an(o)),a}getBeforeBody(e,n){return pg(et(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return ie(e,i=>{const o={before:[],lines:[],after:[]},a=mg(s,i);Ht(o.before,an(et(a,"beforeLabel",this,i))),Ht(o.lines,et(a,"label",this,i)),Ht(o.after,an(et(a,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(e,n){return pg(et(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=et(s,"beforeFooter",this,e),i=et(s,"footer",this,e),o=et(s,"afterFooter",this,e);let a=[];return a=Ht(a,an(r)),a=Ht(a,an(i)),a=Ht(a,an(o)),a}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(M4(this.chart,n[l]));return e.filter&&(a=a.filter((d,h,f)=>e.filter(d,h,f,s))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,s))),ie(a,d=>{const h=mg(e.callbacks,d);r.push(et(h,"labelColor",this,d)),i.push(et(h,"labelPointStyle",this,d)),o.push(et(h,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const a=oi[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=dg(this,s),u=Object.assign({},a,l),d=hg(this.chart,s,u),h=fg(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:h}=Ps(a),{x:f,y:p}=e,{width:m,height:y}=n;let v,g,x,b,_,w;return i==="center"?(_=p+y/2,r==="left"?(v=f,g=v-o,b=_+o,w=_-o):(v=f+m,g=v+o,b=_-o,w=_+o),x=v):(r==="left"?g=f+Math.max(l,d)+o:r==="right"?g=f+m-Math.max(u,h)-o:g=this.caretX,i==="top"?(b=p,_=b-o,v=g-o,x=g+o):(b=p+y,_=b+o,v=g+o,x=g-o),w=b),{x1:v,x2:g,x3:x,y1:b,y2:_,y3:w}}drawTitle(e,n,s){const r=this.title,i=r.length;let o,a,l;if(i){const u=hr(s.rtl,this.x,this.width);for(e.x=Go(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=Me(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(r[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,r,i){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:u}=i,d=Me(i.bodyFont),h=Go(this,"left",i),f=r.x(h),p=l<d.lineHeight?(d.lineHeight-l)/2:0,m=n.y+p;if(i.usePointStyle){const y={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=r.leftForLtr(f,u)+u/2,g=m+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Nd(e,y,v,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Nd(e,y,v,g)}else{e.lineWidth=J(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(f,u),v=r.leftForLtr(r.xPlus(f,1),u-2),g=Ps(o.borderRadius);Object.values(g).some(x=>x!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Ji(e,{x:y,y:m,w:u,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Ji(e,{x:v,y:m+1,w:u-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,m,u,l),e.strokeRect(y,m,u,l),e.fillStyle=o.backgroundColor,e.fillRect(v,m+1,u-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:d}=s,h=Me(s.bodyFont);let f=h.lineHeight,p=0;const m=hr(s.rtl,this.x,this.width),y=function(N){n.fillText(N,m.x(e.x+p),e.y+f/2),e.y+=f+i},v=m.textAlign(o);let g,x,b,_,w,k,j;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Go(this,v,s),n.fillStyle=s.bodyColor,ie(this.beforeBody,y),p=a&&v!=="right"?o==="center"?u/2+d:u+2+d:0,_=0,k=r.length;_<k;++_){for(g=r[_],x=this.labelTextColors[_],n.fillStyle=x,ie(g.before,y),b=g.lines,a&&b.length&&(this._drawColorBox(n,e,_,m,s),f=Math.max(h.lineHeight,l)),w=0,j=b.length;w<j;++w)y(b[w]),f=h.lineHeight;ie(g.after,y)}p=0,f=h.lineHeight,ie(this.afterBody,y),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let o,a;if(i){const l=hr(s.rtl,this.x,this.width);for(e.x=Go(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=Me(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:d}=s,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=Ps(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,s,r),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(a+u,l+d-m),n.quadraticCurveTo(a+u,l+d,a+u-m,l+d),o==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(a+p,l+d),n.quadraticCurveTo(a,l+d,a,l+d-p),o==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const o=oi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=dg(this,e),l=Object.assign({},o,this._size),u=hg(n,e,l),d=fg(e,l,u,n);(r._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Ke(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),Rv(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),Tv(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),i=!gl(s,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,s),a=this._positionChanged(o,e),l=n||!gl(o,i)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,o=oi[i.position].call(this,e,n);return o!==!1&&(s!==o.x||r!==o.y)}}A(Td,"positioners",oi);var B4={id:"tooltip",_element:Td,positioners:oi,afterInit(t,e,n){n&&(t.tooltip=new Td({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const U4=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function $4(t,e,n,s){const r=t.indexOf(e);if(r===-1)return U4(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const V4=(t,e)=>t===null?null:qe(Math.round(t),0,e);function gg(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Od extends $s{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ne(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:$4(s,e,q(n,e),this._addedLabels),V4(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return gg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}A(Od,"id","category"),A(Od,"defaults",{ticks:{callback:gg}});function H4(t,e){const n=[],{bounds:r,step:i,min:o,max:a,precision:l,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=t,p=i||1,m=d-1,{min:y,max:v}=e,g=!ne(o),x=!ne(a),b=!ne(u),_=(v-y)/(h+1);let w=pm((v-y)/m/p)*p,k,j,N,P;if(w<1e-14&&!g&&!x)return[{value:y},{value:v}];P=Math.ceil(v/w)-Math.floor(y/w),P>m&&(w=pm(P*w/m/p)*p),ne(l)||(k=Math.pow(10,l),w=Math.ceil(w*k)/k),r==="ticks"?(j=Math.floor(y/w)*w,N=Math.ceil(v/w)*w):(j=y,N=v),g&&x&&i&&KN((a-o)/i,w/1e3)?(P=Math.round(Math.min((a-o)/w,d)),w=(a-o)/P,j=o,N=a):b?(j=g?o:j,N=x?a:N,P=u-1,w=(N-j)/P):(P=(N-j)/w,wi(P,Math.round(P),w/1e3)?P=Math.round(P):P=Math.ceil(P));const E=Math.max(mm(w),mm(j));k=Math.pow(10,ne(l)?E:l),j=Math.round(j*k)/k,N=Math.round(N*k)/k;let O=0;for(g&&(f&&j!==o?(n.push({value:o}),j<o&&O++,wi(Math.round((j+O*w)*k)/k,o,xg(o,_,t))&&O++):j<o&&O++);O<P;++O){const F=Math.round((j+O*w)*k)/k;if(x&&F>a)break;n.push({value:F})}return x&&f&&N!==a?n.length&&wi(n[n.length-1].value,a,xg(a,_,t))?n[n.length-1].value=a:n.push({value:a}):(!x||N===a)&&n.push({value:N}),n}function xg(t,e,{horizontal:n,minRotation:s}){const r=Xt(s),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class Sl extends $s{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ne(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const o=l=>r=n?r:l,a=l=>i=s?i:l;if(e){const l=Zt(r),u=Zt(i);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(r-l)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=H4(r,i);return e.bounds==="ticks"&&gv(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Zl(e,this.chart.options.locale,this.options.ticks.format)}}class Md extends Sl{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=_e(e)?e:0,this.max=_e(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Xt(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}A(Md,"id","linear"),A(Md,"defaults",{ticks:{callback:ec.formatters.numeric}});const eo=t=>Math.floor(Fn(t)),hs=(t,e)=>Math.pow(10,eo(t)+e);function yg(t){return t/Math.pow(10,eo(t))===1}function vg(t,e,n){const s=Math.pow(10,n),r=Math.floor(t/s);return Math.ceil(e/s)-r}function W4(t,e){const n=e-t;let s=eo(n);for(;vg(t,e,s)>10;)s++;for(;vg(t,e,s)<10;)s--;return Math.min(s,eo(t))}function q4(t,{min:e,max:n}){e=ht(t.min,e);const s=[],r=eo(e);let i=W4(e,n),o=i<0?Math.pow(10,Math.abs(i)):1;const a=Math.pow(10,i),l=r>i?Math.pow(10,r):0,u=Math.round((e-l)*o)/o,d=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((u-d)/Math.pow(10,i)),f=ht(t.min,Math.round((l+d+h*Math.pow(10,i))*o)/o);for(;f<n;)s.push({value:f,major:yg(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,o=i>=0?1:o),f=Math.round((l+d+h*Math.pow(10,i))*o)/o;const p=ht(t.max,f);return s.push({value:p,major:yg(p),significand:h}),s}class bg extends $s{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=Sl.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return _e(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=_e(e)?Math.max(0,e):null,this.max=_e(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!_e(this._userMin)&&(this.min=e===hs(this.min,0)?hs(this.min,-1):hs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,r=this.max;const i=a=>s=e?s:a,o=a=>r=n?r:a;s===r&&(s<=0?(i(1),o(10)):(i(hs(s,-1)),o(hs(r,1)))),s<=0&&i(hs(r,-1)),r<=0&&o(hs(s,1)),this.min=s,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=q4(n,this);return e.bounds==="ticks"&&gv(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":Zl(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Fn(e),this._valueRange=Fn(this.max)-Fn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Fn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}A(bg,"id","logarithmic"),A(bg,"defaults",{ticks:{callback:ec.formatters.logarithmic,major:{enabled:!0}}});function Ad(t){const e=t.ticks;if(e.display&&t.display){const n=Ke(e.backdropPadding);return q(e.font&&e.font.size,Se.font.size)+n.height}return 0}function Q4(t,e,n){return n=ue(n)?n:[n],{w:fC(t,e.string,n),h:n.length*e.lineHeight}}function wg(t,e,n,s,r){return t===s||t===r?{start:e-n/2,end:e+n/2}:t<s||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function K4(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],r=[],i=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?re/i:0;for(let l=0;l<i;l++){const u=o.setContext(t.getPointLabelContext(l));r[l]=u.padding;const d=t.getPointPosition(l,t.drawingArea+r[l],a),h=Me(u.font),f=Q4(t.ctx,h,t._pointLabels[l]);s[l]=f;const p=Ve(t.getIndexAngle(l)+a),m=Math.round(Zh(p)),y=wg(m,d.x,f.w,0,180),v=wg(m,d.y,f.h,90,270);Y4(n,e,p,y,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=J4(t,s,r)}function Y4(t,e,n,s,r){const i=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/i,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/i,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function X4(t,e,n){const s=t.drawingArea,{extra:r,additionalAngle:i,padding:o,size:a}=n,l=t.getPointPosition(e,s+r+o,i),u=Math.round(Zh(Ve(l.angle+je))),d=tR(l.y,a.h,u),h=Z4(u),f=eR(l.x,a.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:f,top:d,right:f+a.w,bottom:d+a.h}}function G4(t,e){if(!e)return!0;const{left:n,top:s,right:r,bottom:i}=t;return!(mn({x:n,y:s},e)||mn({x:n,y:i},e)||mn({x:r,y:s},e)||mn({x:r,y:i},e))}function J4(t,e,n){const s=[],r=t._pointLabels.length,i=t.options,{centerPointLabels:o,display:a}=i.pointLabels,l={extra:Ad(i)/2,additionalAngle:o?re/r:0};let u;for(let d=0;d<r;d++){l.padding=n[d],l.size=e[d];const h=X4(t,d,l);s.push(h),a==="auto"&&(h.visible=G4(h,u),h.visible&&(u=h))}return s}function Z4(t){return t===0||t===180?"center":t<180?"left":"right"}function eR(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function tR(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function nR(t,e,n){const{left:s,top:r,right:i,bottom:o}=n,{backdropColor:a}=e;if(!ne(a)){const l=Ps(e.borderRadius),u=Ke(e.backdropPadding);t.fillStyle=a;const d=s-u.left,h=r-u.top,f=i-s+u.width,p=o-r+u.height;Object.values(l).some(m=>m!==0)?(t.beginPath(),Ji(t,{x:d,y:h,w:f,h:p,radius:l}),t.fill()):t.fillRect(d,h,f,p)}}function sR(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let r=e-1;r>=0;r--){const i=t._pointLabelItems[r];if(!i.visible)continue;const o=s.setContext(t.getPointLabelContext(r));nR(n,o,i);const a=Me(o.font),{x:l,y:u,textAlign:d}=i;zs(n,t._pointLabels[r],l,u+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function nb(t,e,n,s){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,he);else{let i=t.getPointPosition(0,e);r.moveTo(i.x,i.y);for(let o=1;o<s;o++)i=t.getPointPosition(o,e),r.lineTo(i.x,i.y)}}function rR(t,e,n,s,r){const i=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!s||!a||!l||n<0||(i.save(),i.strokeStyle=a,i.lineWidth=l,i.setLineDash(r.dash||[]),i.lineDashOffset=r.dashOffset,i.beginPath(),nb(t,n,o,s),i.closePath(),i.stroke(),i.restore())}function iR(t,e,n){return ls(t,{label:n,index:e,type:"pointLabel"})}class ai extends Sl{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ke(Ad(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=_e(e)&&!isNaN(e)?e:0,this.max=_e(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ad(this.options))}generateTickLabels(e){Sl.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const r=ae(this.options.pointLabels.callback,[n,s],this);return r||r===0?r:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?K4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,r))}getIndexAngle(e){const n=he/(this._pointLabels.length||1),s=this.options.startAngle||0;return Ve(e*n+Xt(s))}getDistanceFromCenterForValue(e){if(ne(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ne(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return iR(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const r=this.getIndexAngle(e)-je+s;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:r,bottom:i}=this._pointLabelItems[e];return{left:n,top:s,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),nb(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:r,border:i}=n,o=this._pointLabels.length;let a,l,u;if(n.pointLabels.display&&sR(this,o),r.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const f=this.getContext(h),p=r.setContext(f),m=i.setContext(f);rR(this,p,l,o,m)}}),s.display){for(e.save(),a=o-1;a>=0;a--){const d=s.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=d;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const r=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const u=s.setContext(this.getContext(l)),d=Me(u.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=d.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const h=Ke(u.backdropPadding);e.fillRect(-o/2-h.left,-i-d.size/2-h.top,o+h.width,d.size+h.height)}zs(e,a.label,0,-i,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}A(ai,"id","radialLinear"),A(ai,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ec.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),A(ai,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),A(ai,"descriptors",{angleLines:{_fallback:"grid"}});const oc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nt=Object.keys(oc);function _g(t,e){return t-e}function Sg(t,e){if(ne(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),_e(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Xi(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function kg(t,e,n,s){const r=nt.length;for(let i=nt.indexOf(t);i<r-1;++i){const o=oc[nt[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return nt[i]}return nt[r-1]}function oR(t,e,n,s,r){for(let i=nt.length-1;i>=nt.indexOf(n);i--){const o=nt[i];if(oc[o].common&&t._adapter.diff(r,s,o)>=e-1)return o}return nt[n?nt.indexOf(n):0]}function aR(t){for(let e=nt.indexOf(t)+1,n=nt.length;e<n;++e)if(oc[nt[e]].common)return nt[e]}function jg(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=ef(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function lR(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+r.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function Ng(t,e,n){const s=[],r={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],r[a]=o,s.push({value:a,major:!1});return i===0||!n?s:lR(t,s,r,n)}class kl extends $s{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new RE._date(e.adapters.date);r.init(n),bi(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Sg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=_e(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=_e(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,a=JN(r,i,o);return this._unit=n.unit||(s.autoSkip?kg(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):oR(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:aR(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),Ng(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=qe(n,0,o),s=qe(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,o=i.unit||kg(i.minUnit,n,s,this._getLabelCapacity(n)),a=q(r.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,u=Xi(l)||l===!0,d={};let h=n,f,p;if(u&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,u?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const m=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<s;f=+e.add(f,a,o),p++)jg(d,f,m);return(f===s||r.bounds==="ticks"||p===1)&&jg(d,f,m),Object.keys(d).sort(_g).map(y=>+y)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,r){const i=this.options,o=i.ticks.callback;if(o)return ae(o,[e,n,s],this);const a=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&a[l],h=u&&a[u],f=s[n],p=u&&h&&f&&f.major;return this._adapter.format(e,r||(p?h:d))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=Xt(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:s*i+a*o,h:s*o+a*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,Ng(this,[e],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(Sg(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return vv(e.sort(_g))}}A(kl,"id","time"),A(kl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Jo(t,e,n){let s=0,r=t.length-1,i,o,a,l;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=js(t,"pos",e)),{pos:i,time:a}=t[s],{pos:o,time:l}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=js(t,"time",e)),{time:i,pos:a}=t[s],{time:o,pos:l}=t[r]);const u=o-i;return u?a+(l-a)*(e-i)/u:a}class Cg extends kl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Jo(n,this.min),this._tableRange=Jo(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let o,a,l,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=s&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=r.length;o<a;++o)d=r[o+1],l=r[o-1],u=r[o],Math.round((d+l)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Jo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Jo(this._table,s*this._tableRange+this._minPos,!0)}}A(Cg,"id","timeseries"),A(Cg,"defaults",kl.defaults);const sb="label";function Eg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function cR(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function rb(t,e){t.labels=e}function ib(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sb;const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(o=>o[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function uR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sb;const n={labels:[],datasets:[]};return rb(n,t.labels),ib(n,t.datasets,e),n}function dR(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:u=[],fallbackContent:d,updateMode:h,...f}=t,p=S.useRef(null),m=S.useRef(null),y=()=>{p.current&&(m.current=new rc(p.current,{type:o,data:uR(a,i),options:l&&{...l},plugins:u}),Eg(e,m.current))},v=()=>{Eg(e,null),m.current&&(m.current.destroy(),m.current=null)};return S.useEffect(()=>{!r&&m.current&&l&&cR(m.current,l)},[r,l]),S.useEffect(()=>{!r&&m.current&&rb(m.current.config.data,a.labels)},[r,a.labels]),S.useEffect(()=>{!r&&m.current&&a.datasets&&ib(m.current.config.data,a.datasets,i)},[r,a.datasets]),S.useEffect(()=>{m.current&&(r?(v(),setTimeout(y)):m.current.update(h))},[r,l,a.labels,a.datasets,h]),S.useEffect(()=>{m.current&&(v(),setTimeout(y))},[o]),S.useEffect(()=>(y(),()=>v()),[]),me.createElement("canvas",{ref:p,role:"img",height:n,width:s,...f},d)}const hR=S.forwardRef(dR);function ac(t,e){return rc.register(e),S.forwardRef((n,s)=>me.createElement(hR,{...n,ref:s,type:t}))}const Pg=ac("line",Ca),Zo=ac("bar",Na),Rg=ac("radar",Ea),Tg=ac("doughnut",si),fR=({selectedChart:t,selectedPeriod:e,onChartChange:n,onPeriodChange:s})=>{const r=[{id:"all",label:"All Charts",icon:bd},{id:"growth",label:"Growth Trends",icon:ks},{id:"activity",label:"Activity",icon:ja},{id:"distribution",label:"Distribution",icon:Wj},{id:"contributors",label:"Contributors",icon:bd}],i=[{id:"7d",label:"7 Days"},{id:"30d",label:"30 Days"},{id:"90d",label:"90 Days"},{id:"1y",label:"1 Year"}];return c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 p-4 bg-surfaceElevated border border-border rounded-xl",children:[c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("span",{className:"text-sm font-medium text-textSecondary mr-2",children:"Chart Type:"}),r.map(o=>{const a=o.icon;return c.jsxs("button",{onClick:()=>n(o.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${t===o.id?"bg-primary-500 text-white shadow-glow":"bg-surface text-textSecondary hover:bg-surfaceElevated hover:text-textPrimary"}`,children:[c.jsx(a,{className:"w-4 h-4"}),o.label]},o.id)})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium text-textSecondary",children:"Period:"}),c.jsx("div",{className:"flex bg-surface rounded-lg p-1",children:i.map(o=>c.jsx("button",{onClick:()=>s(o.id),className:`px-3 py-1 rounded-md text-sm font-medium transition-all duration-200 ${e===o.id?"bg-primary-500 text-white shadow-glow":"text-textSecondary hover:text-textPrimary"}`,children:o.label},o.id))})]})]})};rc.register(Od,Md,Ta,In,Oa,ii,O4,B4,R4,k4,ai);const pR=({data:t})=>{const[e,n]=S.useState("all"),[s,r]=S.useState("30d"),i={labels:["Users","Threads","Replies"],datasets:[{label:"Growth %",data:[t.userGrowth,t.threadGrowth,t.replyGrowth],borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,fill:!0,tension:.4,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:6,pointHoverRadius:8}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Growth Trends (vs Yesterday)",color:"#9ca3af",font:{size:14,weight:600}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(59, 130, 246, 0.3)",borderWidth:1,cornerRadius:8,displayColors:!1,callbacks:{label:function(v){const g=v.parsed.y,x=g>=0?"+":"";return`${v.label}: ${x}${g.toFixed(1)}%`}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"#9ca3af",callback:function(v){return v+"%"}}},x:{grid:{display:!1},ticks:{color:"#9ca3af",font:{weight:600}}}}},a={labels:["Users","Threads","Replies"],datasets:[{label:"Today",data:[t.newUsersToday,t.newThreadsToday,t.newRepliesToday],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(59, 130, 246, 0.8)","rgba(168, 85, 247, 0.8)"],borderColor:["rgb(34, 197, 94)","rgb(59, 130, 246)","rgb(168, 85, 247)"],borderWidth:2,borderRadius:8,borderSkipped:!1}]},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Today's Activity",color:"#9ca3af",font:{size:14,weight:600}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(59, 130, 246, 0.3)",borderWidth:1,cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"#9ca3af",stepSize:1}},x:{grid:{display:!1},ticks:{color:"#9ca3af",font:{weight:600}}}}},u={labels:["Threads","Replies","Flagged Content"],datasets:[{data:[t.totalThreads,t.totalReplies,t.flaggedContent],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(168, 85, 247, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["rgb(59, 130, 246)","rgb(168, 85, 247)","rgb(239, 68, 68)"],borderWidth:2,hoverOffset:4}]},d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"#9ca3af",padding:20,usePointStyle:!0,pointStyle:"circle"}},title:{display:!0,text:"Content Distribution",color:"#9ca3af",font:{size:14,weight:600}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(59, 130, 246, 0.3)",borderWidth:1,cornerRadius:8,callbacks:{label:function(v){const g=v.dataset.data.reduce((b,_)=>b+_,0),x=(v.parsed/g*100).toFixed(1);return`${v.label}: ${v.parsed} (${x}%)`}}}}},h={labels:t.topUsers.slice(0,8).map(v=>v.username),datasets:[{label:"Threads",data:t.topUsers.slice(0,8).map(v=>v.threads),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:2,borderRadius:4},{label:"Replies",data:t.topUsers.slice(0,8).map(v=>v.replies),backgroundColor:"rgba(168, 85, 247, 0.8)",borderColor:"rgb(168, 85, 247)",borderWidth:2,borderRadius:4}]},f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#9ca3af",usePointStyle:!0,pointStyle:"circle"}},title:{display:!0,text:"Top Contributors",color:"#9ca3af",font:{size:14,weight:600}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(59, 130, 246, 0.3)",borderWidth:1,cornerRadius:8}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:"#9ca3af",stepSize:1}},x:{grid:{display:!1},ticks:{color:"#9ca3af",maxRotation:45,minRotation:45}}}},p={labels:["Users","Threads","Replies","Active Users","Flagged Content"],datasets:[{label:"Current Metrics",data:[t.totalUsers,t.totalThreads,t.totalReplies,t.activeUsers,t.flaggedContent],backgroundColor:"rgba(59, 130, 246, 0.2)",borderColor:"rgb(59, 130, 246)",borderWidth:2,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Platform Overview",color:"#9ca3af",font:{size:14,weight:600}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(59, 130, 246, 0.3)",borderWidth:1,cornerRadius:8,displayColors:!1}},scales:{r:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.1)"},angleLines:{color:"rgba(156, 163, 175, 0.1)"},pointLabels:{color:"#9ca3af",font:{weight:600}},ticks:{color:"#9ca3af",backdropColor:"transparent"}}}},y=()=>{switch(e){case"growth":return c.jsx("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-6 shadow-soft hover:shadow-medium transition-all duration-300",children:c.jsx("div",{className:"h-80",children:c.jsx(Pg,{data:i,options:o})})});case"activity":return c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-6 shadow-soft hover:shadow-medium transition-all duration-300",children:c.jsx("div",{className:"h-80",children:c.jsx(Zo,{data:a,options:l})})}),c.jsx("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-6 shadow-soft hover:shadow-medium transition-all duration-300",children:c.jsx("div",{className:"h-80",children:c.jsx(Rg,{data:p,options:m})})})]});case"distribution":return c.jsx("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-6 shadow-soft hover:shadow-medium transition-all duration-300",children:c.jsx("div",{className:"h-80",children:c.jsx(Tg,{data:u,options:d})})});case"contributors":return c.jsx("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-6 shadow-soft hover:shadow-medium transition-all duration-300",children:c.jsx("div",{className:"h-80",children:c.jsx(Zo,{data:h,options:f})})});default:return null}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(fR,{selectedChart:e,selectedPeriod:s,onChartChange:n,onPeriodChange:r}),y(),e==="all"&&c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-6 shadow-soft hover:shadow-medium transition-all duration-300",children:c.jsx("div",{className:"h-80",children:c.jsx(Pg,{data:i,options:o})})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-6 shadow-soft hover:shadow-medium transition-all duration-300",children:c.jsx("div",{className:"h-80",children:c.jsx(Zo,{data:a,options:l})})}),c.jsx("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-6 shadow-soft hover:shadow-medium transition-all duration-300",children:c.jsx("div",{className:"h-80",children:c.jsx(Tg,{data:u,options:d})})})]}),c.jsx("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-6 shadow-soft hover:shadow-medium transition-all duration-300",children:c.jsx("div",{className:"h-80",children:c.jsx(Zo,{data:h,options:f})})}),c.jsx("div",{className:"bg-surfaceElevated border border-border rounded-2xl p-6 shadow-soft hover:shadow-medium transition-all duration-300",children:c.jsx("div",{className:"h-80",children:c.jsx(Rg,{data:p,options:m})})})]})]})},mR=()=>{const[t,e]=S.useState("overview"),[n,s]=S.useState(""),[r,i]=S.useState({totalUsers:0,totalThreads:0,totalReplies:0,activeUsers:0,newUsersToday:0,newThreadsToday:0,newRepliesToday:0,flaggedContent:0,userGrowth:0,threadGrowth:0,replyGrowth:0,topUsers:[],recentActivity:[]}),o=ao(),{data:a}=Kt("adminDashboard",dt.getDashboard);Kt("analyticsData",dt.getAnalytics,{refetchInterval:3e4,onSuccess:w=>{i(w)}});const{data:l,error:u}=Kt(["flaggedThreads",t],()=>dt.getFlaggedThreads(),{enabled:t==="flagged-threads",onError:w=>{console.error("Flagged threads error:",w),L.error("Failed to load flagged threads")}}),{data:d,error:h}=Kt(["flaggedReplies",t],()=>dt.getFlaggedReplies(),{enabled:t==="flagged-replies",onError:w=>{console.error("Flagged replies error:",w),L.error("Failed to load flagged replies")}}),{data:f}=Kt(["users",n],()=>dt.getUsers(1,20,n),{enabled:t==="users"}),p=Ot(w=>dt.approveThread(w),{onSuccess:()=>{o.invalidateQueries(["flaggedThreads"]),o.invalidateQueries(["adminDashboard"]),L.success("Thread approved successfully")}}),m=Ot(w=>dt.approveReply(w),{onSuccess:()=>{o.invalidateQueries(["flaggedReplies"]),o.invalidateQueries(["adminDashboard"]),L.success("Reply approved successfully")}}),y=Ot(w=>dt.deleteThread(w),{onSuccess:()=>{o.invalidateQueries(["flaggedThreads"]),o.invalidateQueries(["adminDashboard"]),L.success("Thread deleted successfully")}}),v=Ot(w=>dt.deleteReply(w),{onSuccess:()=>{o.invalidateQueries(["flaggedReplies"]),o.invalidateQueries(["adminDashboard"]),L.success("Reply deleted successfully")}}),g=Ot(({id:w,role:k})=>dt.updateUserRole(w,k),{onSuccess:()=>{o.invalidateQueries(["users"]),L.success("User role updated successfully")}}),x=Ot(({id:w,reason:k})=>dt.blockUser(w,k),{onSuccess:()=>{o.invalidateQueries(["users"]),L.success("User blocked successfully")}}),b=Ot(w=>dt.unblockUser(w),{onSuccess:()=>{o.invalidateQueries(["users"]),L.success("User unblocked successfully")}}),_=[{id:"overview",label:"Overview",icon:bd},{id:"analytics",label:"Analytics",icon:ks},{id:"flagged-threads",label:"Flagged Threads",icon:ys},{id:"flagged-replies",label:"Flagged Replies",icon:Uc},{id:"users",label:"Users",icon:ti}];return c.jsx("div",{className:"min-h-screen bg-background text-textPrimary",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsx(br,{className:"w-8 h-8 text-neon-blue"}),c.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Admin Dashboard"})]}),c.jsx("p",{className:"text-textSecondary",children:"Manage content and users with administrative privileges"})]}),c.jsx("div",{className:"border-b border-border mb-8",children:c.jsx("nav",{className:"-mb-px flex space-x-8",children:_.map(w=>{const k=w.icon;return c.jsxs("button",{onClick:()=>e(w.id),className:`flex items-center space-x-2 py-3 px-1 border-b-2 font-medium text-sm transition-all duration-300 ${t===w.id?"border-neon-blue text-neon-blue":"border-transparent text-textSecondary hover:text-textPrimary hover:border-borderHover"}`,children:[c.jsx(k,{className:"w-5 h-5"}),c.jsx("span",{children:w.label})]},w.id)})})}),c.jsxs("div",{className:"space-y-8",children:[t==="overview"&&a&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"card-glass p-6 hover-lift",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 bg-neon-blue/20 rounded-xl",children:c.jsx(ti,{className:"w-6 h-6 text-neon-blue"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-textSecondary",children:"Total Users"}),c.jsx("p",{className:"text-2xl font-semibold text-textPrimary",children:a.users})]})]})}),c.jsx("div",{className:"card-glass p-6 hover-lift",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:c.jsx(fn,{className:"w-6 h-6 text-primary-400"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-textSecondary",children:"Total Threads"}),c.jsx("p",{className:"text-2xl font-semibold text-textPrimary",children:a.threads})]})]})}),c.jsx("div",{className:"card-glass p-6 hover-lift",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 bg-secondary-500/20 rounded-xl",children:c.jsx(fn,{className:"w-6 h-6 text-secondary-400"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-textSecondary",children:"Total Replies"}),c.jsx("p",{className:"text-2xl font-semibold text-textPrimary",children:a.replies})]})]})}),c.jsx("div",{className:"card-glass p-6 hover-lift",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 bg-accent-500/20 rounded-xl",children:c.jsx(ys,{className:"w-6 h-6 text-accent-400"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-textSecondary",children:"Flagged Content"}),c.jsx("p",{className:"text-2xl font-semibold text-textPrimary",children:a.flagged.threads+a.flagged.replies})]})]})})]}),t==="flagged-threads"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-textPrimary",children:"Flagged Threads"}),u&&c.jsxs("div",{className:"card-glass text-center py-12",children:[c.jsx(ys,{className:"w-16 h-16 text-accent-400 mx-auto mb-4"}),c.jsx("p",{className:"text-accent-400",children:"Error loading flagged threads"}),c.jsx("p",{className:"text-sm text-textSecondary mt-2",children:"Error occurred while loading flagged threads"})]}),l!=null&&l.items&&l.items.length>0?l.items.map(w=>{var k;return c.jsx("div",{className:"card-glass p-6 hover-lift",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-medium text-textPrimary mb-2",children:c.jsx(se,{to:`/app/admin/thread/${w._id}`,className:"hover:text-neon-blue transition-colors",children:w.title})}),c.jsxs("p",{className:"text-textSecondary mb-3",children:[w.content.substring(0,200),"..."]}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-textTertiary",children:[c.jsxs("span",{children:["By: ",w.author.username]}),c.jsxs("span",{children:["Topic: ",w.topic]}),((k=w.moderation)==null?void 0:k.reason)&&c.jsxs("span",{className:"text-accent-400",children:["Reason: ",w.moderation.reason]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 ml-6",children:[c.jsxs("button",{onClick:()=>p.mutate(w._id),disabled:p.isLoading,className:"btn btn-secondary flex items-center space-x-2 px-4 py-2",children:[c.jsx(es,{className:"w-4 h-4"}),c.jsx("span",{children:"Approve"})]}),c.jsxs("button",{onClick:()=>y.mutate(w._id),disabled:y.isLoading,className:"btn btn-accent flex items-center space-x-2 px-4 py-2",children:[c.jsx(qi,{className:"w-4 h-4"}),c.jsx("span",{children:"Delete"})]})]})]})},w._id)}):c.jsxs("div",{className:"card-glass text-center py-12",children:[c.jsx(ys,{className:"w-16 h-16 text-textTertiary mx-auto mb-4"}),c.jsx("p",{className:"text-textSecondary",children:"No flagged threads found"})]})]}),t==="flagged-replies"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-textPrimary",children:"Flagged Replies"}),h&&c.jsxs("div",{className:"card-glass text-center py-12",children:[c.jsx(Uc,{className:"w-16 h-16 text-accent-400 mx-auto mb-4"}),c.jsx("p",{className:"text-accent-400",children:"Error loading flagged replies"}),c.jsx("p",{className:"text-sm text-textSecondary mt-2",children:"Error occurred while loading flagged replies"})]}),d!=null&&d.items&&d.items.length>0?d.items.map(w=>{var k;return c.jsx("div",{className:"card-glass p-6 hover-lift",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-textSecondary mb-3",children:w.content}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-textTertiary",children:[c.jsxs("span",{children:["By: ",w.author.username]}),c.jsxs("span",{children:["Thread: ",typeof w.threadId=="object"?w.threadId.title:w.threadId]}),((k=w.moderation)==null?void 0:k.reason)&&c.jsxs("span",{className:"text-accent-400",children:["Reason: ",w.moderation.reason]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 ml-6",children:[c.jsxs("button",{onClick:()=>m.mutate(w._id),disabled:m.isLoading,className:"btn btn-secondary flex items-center space-x-2 px-4 py-2",children:[c.jsx(es,{className:"w-4 h-4"}),c.jsx("span",{children:"Approve"})]}),c.jsxs("button",{onClick:()=>v.mutate(w._id),disabled:v.isLoading,className:"btn btn-accent flex items-center space-x-2 px-4 py-2",children:[c.jsx(qi,{className:"w-4 h-4"}),c.jsx("span",{children:"Delete"})]})]})]})},w._id)}):c.jsxs("div",{className:"card-glass text-center py-12",children:[c.jsx(Uc,{className:"w-16 h-16 text-textTertiary mx-auto mb-4"}),c.jsx("p",{className:"text-textSecondary",children:"No flagged replies found"})]})]}),t==="users"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-textPrimary",children:"User Management"}),c.jsxs("div",{className:"relative",children:[c.jsx(av,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-textTertiary w-5 h-5"}),c.jsx("input",{type:"text",placeholder:"Search users...",value:n,onChange:w=>s(w.target.value),className:"input pl-10 w-64 bg-surfaceElevated"})]})]}),f!=null&&f.items&&f.items.length>0?c.jsx("div",{className:"overflow-x-auto card-glass p-6",children:c.jsxs("table",{className:"min-w-full divide-y divide-border",children:[c.jsx("thead",{className:"bg-surfaceElevated",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-textSecondary uppercase tracking-wider",children:"User"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-textSecondary uppercase tracking-wider",children:"Email"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-textSecondary uppercase tracking-wider",children:"Role"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-textSecondary uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-textSecondary uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-border",children:f.items.map(w=>c.jsxs("tr",{className:"hover:bg-surfaceElevated/50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[w.avatarUrl?c.jsx("img",{src:w.avatarUrl,alt:w.username,className:"w-10 h-10 rounded-full"}):c.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-sm font-medium",children:w.username.charAt(0).toUpperCase()})}),c.jsx("div",{className:"ml-4",children:c.jsx("div",{className:"text-sm font-medium text-textPrimary",children:w.username})})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-textSecondary",children:w.email}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`badge ${w.role==="admin"?"badge-secondary":"badge-primary"}`,children:w.role})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.isBlocked?c.jsx("span",{className:"badge badge-accent",children:"Blocked"}):c.jsx("span",{className:"badge badge-success",children:"Active"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs("select",{value:w.role,onChange:k=>g.mutate({id:w._id,role:k.target.value}),className:"input text-sm bg-surface border-border",children:[c.jsx("option",{value:"user",children:"User"}),c.jsx("option",{value:"admin",children:"Admin"})]}),w.isBlocked?c.jsx("button",{onClick:()=>b.mutate(w._id),className:"btn btn-secondary text-xs px-3 py-2",children:"Unblock"}):c.jsx("button",{onClick:()=>{const k=prompt("Enter reason for blocking user:");k&&x.mutate({id:w._id,reason:k})},className:"btn btn-accent text-xs px-3 py-2",disabled:w.role==="admin",children:"Block"})]})})]},w._id))})]})}):c.jsxs("div",{className:"card-glass text-center py-12",children:[c.jsx(ti,{className:"w-16 h-16 text-textTertiary mx-auto mb-4"}),c.jsx("p",{className:"text-textSecondary",children:"No users found"})]})]}),t==="analytics"&&c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold gradient-text",children:"Real-Time Analytics"}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-textSecondary",children:[c.jsx(ja,{className:"w-4 h-4 animate-pulse text-green-400"}),c.jsx("span",{children:"Live Data  Updates every 30s"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"card-glass p-6 hover-lift",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-textSecondary",children:"Total Users"}),c.jsx("p",{className:"text-3xl font-bold text-textPrimary",children:r.totalUsers}),c.jsxs("div",{className:"flex items-center mt-2",children:[r.userGrowth>=0?c.jsx(ks,{className:"w-4 h-4 text-green-400 mr-1"}):c.jsx(Hc,{className:"w-4 h-4 text-red-400 mr-1"}),c.jsxs("span",{className:`text-sm ${r.userGrowth>=0?"text-green-400":"text-red-400"}`,children:[Math.abs(r.userGrowth),"% from yesterday"]})]})]}),c.jsx("div",{className:"p-3 bg-neon-blue/20 rounded-xl",children:c.jsx(ti,{className:"w-8 h-8 text-neon-blue"})})]})}),c.jsx("div",{className:"card-glass p-6 hover-lift",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-textSecondary",children:"Total Threads"}),c.jsx("p",{className:"text-3xl font-bold text-textPrimary",children:r.totalThreads}),c.jsxs("div",{className:"flex items-center mt-2",children:[r.threadGrowth>=0?c.jsx(ks,{className:"w-4 h-4 text-green-400 mr-1"}):c.jsx(Hc,{className:"w-4 h-4 text-red-400 mr-1"}),c.jsxs("span",{className:`text-sm ${r.threadGrowth>=0?"text-green-400":"text-red-400"}`,children:[Math.abs(r.threadGrowth),"% from yesterday"]})]})]}),c.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:c.jsx(fn,{className:"w-8 h-8 text-primary-400"})})]})}),c.jsx("div",{className:"card-glass p-6 hover-lift",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-textSecondary",children:"Total Replies"}),c.jsx("p",{className:"text-3xl font-bold text-textPrimary",children:r.totalReplies}),c.jsxs("div",{className:"flex items-center mt-2",children:[r.replyGrowth>=0?c.jsx(ks,{className:"w-4 h-4 text-green-400 mr-1"}):c.jsx(Hc,{className:"w-4 h-4 text-red-400 mr-1"}),c.jsxs("span",{className:`text-sm ${r.replyGrowth>=0?"text-green-400":"text-red-400"}`,children:[Math.abs(r.replyGrowth),"% from yesterday"]})]})]}),c.jsx("div",{className:"p-3 bg-secondary-500/20 rounded-xl",children:c.jsx(Et,{className:"w-8 h-8 text-secondary-400"})})]})}),c.jsx("div",{className:"card-glass p-6 hover-lift",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-textSecondary",children:"Active Users"}),c.jsx("p",{className:"text-3xl font-bold text-textPrimary",children:r.activeUsers}),c.jsx("p",{className:"text-sm text-textSecondary mt-2",children:"Currently online"})]}),c.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl",children:c.jsx(ja,{className:"w-8 h-8 text-green-400"})})]})})]}),c.jsx(pR,{data:r}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"card-glass p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-textPrimary",children:"Today's Activity"}),c.jsx(Sn,{className:"w-5 h-5 text-textSecondary"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Gj,{className:"w-4 h-4 text-green-400 mr-2"}),c.jsx("span",{className:"text-sm text-textSecondary",children:"New Users"})]}),c.jsx("span",{className:"text-lg font-semibold text-textPrimary",children:r.newUsersToday})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(fn,{className:"w-4 h-4 text-blue-400 mr-2"}),c.jsx("span",{className:"text-sm text-textSecondary",children:"New Threads"})]}),c.jsx("span",{className:"text-lg font-semibold text-textPrimary",children:r.newThreadsToday})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Et,{className:"w-4 h-4 text-purple-400 mr-2"}),c.jsx("span",{className:"text-sm text-textSecondary",children:"New Replies"})]}),c.jsx("span",{className:"text-lg font-semibold text-textPrimary",children:r.newRepliesToday})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ys,{className:"w-4 h-4 text-red-400 mr-2"}),c.jsx("span",{className:"text-sm text-textSecondary",children:"Flagged Content"})]}),c.jsx("span",{className:"text-lg font-semibold text-textPrimary",children:r.flaggedContent})]})]})]}),c.jsxs("div",{className:"card-glass p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-textPrimary",children:"Top Contributors"}),c.jsx(cv,{className:"w-5 h-5 text-textSecondary"})]}),c.jsx("div",{className:"space-y-3",children:r.topUsers.slice(0,5).map((w,k)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-full flex items-center justify-center mr-3",children:c.jsx("span",{className:"text-white text-xs font-bold",children:k+1})}),c.jsx("span",{className:"text-sm font-medium text-textPrimary",children:w.username})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-xs text-textSecondary",children:[w.threads," threads"]}),c.jsxs("div",{className:"text-xs text-textSecondary",children:[w.replies," replies"]})]})]},k))})]}),c.jsxs("div",{className:"card-glass p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-textPrimary",children:"Recent Activity"}),c.jsx(ja,{className:"w-5 h-5 text-textSecondary"})]}),c.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.recentActivity.slice(0,8).map((w,k)=>c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full mt-2 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("p",{className:"text-sm text-textPrimary",children:[c.jsx("span",{className:"font-medium",children:w.user}),c.jsxs("span",{className:"text-textSecondary",children:[" ",w.content]})]}),c.jsx("p",{className:"text-xs text-textTertiary mt-1",children:new Date(w.timestamp).toLocaleTimeString()})]})]},k))})]})]})]})]})]})})},gR=()=>{const{id:t}=Jy(),{data:e,isLoading:n,error:s}=Kt(["adminThread",t],()=>dt.getThreadById(t),{enabled:!!t,onError:a=>{console.error("Error loading admin thread:",a),L.error("Failed to load thread")}}),r=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(n)return c.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"loading-spinner h-8 w-8 border-2 border-t-primary-500 mx-auto"}),c.jsx("p",{className:"text-textSecondary mt-2",children:"Loading thread..."})]})});if(s||!e)return c.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-accent-400",children:"Failed to load thread. Please try again."})})});const{thread:i,replies:o}=e;return c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[c.jsxs(se,{to:"/admin",className:"inline-flex items-center space-x-2 text-textSecondary hover:text-textPrimary mb-6 transition-colors",children:[c.jsx(fo,{className:"w-4 h-4"}),c.jsx("span",{children:"Back to Admin Dashboard"})]}),c.jsx("div",{className:"card p-6 mb-6",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"flex-shrink-0",children:i.author.avatarUrl?c.jsx("img",{src:i.author.avatarUrl,alt:i.author.username,className:"w-12 h-12 rounded-full"}):c.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-full flex items-center justify-center",children:c.jsx(Es,{className:"w-6 h-6 text-white"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("h1",{className:"text-2xl font-bold text-textPrimary",children:i.title}),i.status==="flagged"&&c.jsxs("span",{className:"badge badge-accent",children:[c.jsx(ys,{className:"w-3 h-3 mr-1"}),"Flagged"]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-textSecondary mb-4",children:[c.jsxs("span",{children:["By ",i.author.username]}),c.jsxs("span",{className:"flex items-center space-x-1",children:[c.jsx(Sn,{className:"w-4 h-4"}),c.jsx("span",{children:r(i.createdAt)})]}),c.jsxs("span",{className:"flex items-center space-x-1",children:[c.jsx(Et,{className:"w-4 h-4"}),c.jsxs("span",{children:[o.total," replies"]})]}),c.jsxs("span",{className:"flex items-center space-x-1",children:[c.jsx(Fs,{className:"w-4 h-4"}),c.jsxs("span",{children:[i.likes," likes"]})]})]}),c.jsx("p",{className:"text-textSecondary mb-4 whitespace-pre-wrap",children:i.content}),i.imageUrl&&c.jsxs("div",{className:"mb-4",children:[c.jsx("img",{src:i.imageUrl,alt:i.imageCaption||"Thread image",className:"w-full max-w-2xl rounded-lg shadow-md",onError:a=>{a.currentTarget.style.display="none"}}),i.imageCaption&&c.jsx("p",{className:"text-sm text-textTertiary mt-2 italic text-center",children:i.imageCaption})]}),i.moderation&&c.jsxs("div",{className:"mt-4 p-4 bg-accent-500/10 border border-accent-500/20 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-medium text-accent-400 mb-2",children:"Moderation Details"}),c.jsxs("div",{className:"text-sm text-accent-300 space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Status:"})," ",i.moderation.status]}),i.moderation.reason&&c.jsxs("p",{children:[c.jsx("strong",{children:"Reason:"})," ",i.moderation.reason]}),i.moderation.confidence&&c.jsxs("p",{children:[c.jsx("strong",{children:"Confidence:"})," ",i.moderation.confidence,"%"]})]})]}),i.summary&&c.jsxs("div",{className:"mt-4 p-4 bg-primary-500/10 border border-primary-500/20 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-medium text-primary-400 mb-2",children:"AI Summary"}),c.jsx("p",{className:"text-sm text-primary-300",children:i.summary})]})]})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h2",{className:"text-xl font-semibold text-textPrimary",children:["Replies (",o.total,")"]}),o.items.length>0?o.items.map(a=>c.jsx("div",{className:"card p-4",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"flex-shrink-0",children:a.author.avatarUrl?c.jsx("img",{src:a.author.avatarUrl,alt:a.author.username,className:"w-10 h-10 rounded-full"}):c.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-full flex items-center justify-center",children:c.jsx(Es,{className:"w-5 h-5 text-white"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[c.jsx("span",{className:"font-medium text-textPrimary",children:a.author.username}),a.status==="flagged"&&c.jsxs("span",{className:"badge badge-accent text-xs",children:[c.jsx(ys,{className:"w-3 h-3 mr-1"}),"Flagged"]}),c.jsx("span",{className:"text-sm text-textSecondary",children:r(a.createdAt)})]}),c.jsx("p",{className:"text-textSecondary mb-2",children:a.content}),c.jsx("div",{className:"flex items-center space-x-4 text-sm text-textSecondary",children:c.jsxs("span",{className:"flex items-center space-x-1",children:[c.jsx(Fs,{className:"w-4 h-4"}),c.jsx("span",{children:a.likes})]})}),a.moderation&&c.jsxs("div",{className:"mt-3 p-3 bg-accent-500/10 border border-accent-500/20 rounded-lg",children:[c.jsx("h4",{className:"text-xs font-medium text-accent-400 mb-1",children:"Moderation Details"}),c.jsxs("div",{className:"text-xs text-accent-300 space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Status:"})," ",a.moderation.status]}),a.moderation.reason&&c.jsxs("p",{children:[c.jsx("strong",{children:"Reason:"})," ",a.moderation.reason]})]})]})]})]})},a._id)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Et,{className:"w-12 h-12 text-textTertiary mx-auto mb-4"}),c.jsx("p",{className:"text-textSecondary",children:"No replies yet"})]})]})]})},xR=()=>{const{user:t}=nn(),[e,n]=S.useState([]),[s,r]=S.useState([]),[i,o]=S.useState(!0);S.useEffect(()=>{async function l(){try{const u=await Q.get("/profile/threads");n(u.data.threads||[]);const d=await Q.get("/profile/replies");r(d.data.replies||[])}catch{L.error("Failed to load profile data")}finally{o(!1)}}l()},[]);const a=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return i?c.jsx("div",{className:"min-h-screen bg-gray-50 pt-8",children:c.jsx("div",{className:"max-w-4xl mx-auto px-4",children:c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"animate-spin h-10 w-10 border-4 border-t-blue-500 border-gray-200 rounded-full mx-auto"}),c.jsx("p",{className:"text-gray-500 mt-4 text-lg",children:"Loading your profile..."})]})})}):c.jsx("div",{className:"min-h-screen bg-gray-50 pt-8 pb-16",children:c.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-md mb-6",children:c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-700 rounded-xl flex items-center justify-center",children:c.jsx(Dj,{className:"w-8 h-8 text-white"})})}),c.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-3",children:"My Profile"}),c.jsxs("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:["Welcome back, ",t==null?void 0:t.username,"! Here's your activity and contributions to the community."]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow text-center",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-xl inline-flex mb-4",children:c.jsx(Vc,{className:"w-6 h-6 text-blue-500"})}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:e.length}),c.jsx("p",{className:"text-gray-600",children:"Threads Created"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow text-center",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-xl inline-flex mb-4",children:c.jsx(fn,{className:"w-6 h-6 text-purple-500"})}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:s.length}),c.jsx("p",{className:"text-gray-600",children:"Replies Received"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow text-center",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-xl inline-flex mb-4",children:c.jsx(ks,{className:"w-6 h-6 text-green-500"})}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:e.reduce((l,u)=>l+(u.likes||0),0)}),c.jsx("p",{className:"text-gray-600",children:"Total Likes"})]})]}),c.jsxs("div",{className:"mb-12",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:c.jsx(Vc,{className:"w-6 h-6 text-blue-500"})}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"My Threads"})]}),c.jsxs(se,{to:"/app/create-thread",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[c.jsx(ct,{className:"w-4 h-4"}),c.jsx("span",{children:"New Thread"})]})]}),e.length===0?c.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm text-center",children:[c.jsx(Vc,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No threads yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Start a conversation and share your thoughts with the community"}),c.jsx(se,{to:"/app/create-thread",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Create Your First Thread"})]}):c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(l=>c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow group",children:[c.jsx(se,{to:`/app/thread/${l._id}`,className:"block",children:c.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-3 group-hover:text-blue-500 transition-colors line-clamp-2",children:l.title})}),c.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:l.content}),l.imageUrl&&c.jsx("div",{className:"mb-4 rounded-lg overflow-hidden",children:c.jsx("img",{src:l.imageUrl,alt:l.imageCaption||"Thread image",className:"w-full h-40 object-cover transition-transform duration-300 group-hover:scale-105"})}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[c.jsx("div",{className:"flex items-center space-x-4",children:c.jsxs("span",{className:"flex items-center space-x-1",children:[c.jsx(Sn,{className:"w-4 h-4"}),c.jsx("span",{children:a(l.createdAt)})]})}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{className:"flex items-center space-x-1",children:[c.jsx(fn,{className:"w-4 h-4"}),c.jsx("span",{children:l.replyCount||0})]}),c.jsxs("span",{className:"flex items-center space-x-1",children:[c.jsx(Fs,{className:"w-4 h-4"}),c.jsx("span",{children:l.likes||0})]})]})]})]},l._id))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:c.jsx(fn,{className:"w-6 h-6 text-purple-500"})}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Replies Received"})]}),s.length===0?c.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm text-center",children:[c.jsx(fn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No replies yet"}),c.jsx("p",{className:"text-gray-600",children:"Your threads haven't received any replies yet"})]}):c.jsx("div",{className:"space-y-4",children:s.map(l=>{var u,d;return c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow group",children:[c.jsx(se,{to:`/app/thread/${l.threadId}`,className:"block",children:c.jsxs("p",{className:"text-gray-600 mb-4 group-hover:text-blue-500 transition-colors line-clamp-3",children:['"',l.content,'"']})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[(u=l.author)!=null&&u.avatarUrl?c.jsx("img",{src:l.author.avatarUrl,alt:l.author.username,className:"w-8 h-8 rounded-full"}):c.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:c.jsx(Es,{className:"w-4 h-4 text-white"})}),c.jsxs("span",{className:"text-gray-600",children:["By ",((d=l.author)==null?void 0:d.username)||"Unknown"]})]})}),c.jsxs("span",{className:"text-sm text-gray-500 flex items-center space-x-1",children:[c.jsx(Sn,{className:"w-4 h-4"}),c.jsx("span",{children:a(l.createdAt)})]})]})]},l._id)})})]})]})})},yR=()=>{const t=Bt(),{loginWithToken:e}=nn();return S.useEffect(()=>{const n=new URLSearchParams(window.location.search),s=n.get("token"),r=n.get("error");if(r){console.error("OAuth error:",r),t("/login?error=oauth_failed");return}s?(e(s),t("/")):t("/login?error=no_token")},[t,e]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsx("div",{className:"max-w-md w-full space-y-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Processing..."}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Completing your sign-in..."})]})})})};function vR(){return c.jsx(Ik,{children:c.jsx(Oj,{children:c.jsxs(E_,{children:[c.jsx(Ye,{path:"/",element:c.jsx(nN,{})}),c.jsx(Ye,{path:"/login",element:c.jsx(rN,{})}),c.jsx(Ye,{path:"/register",element:c.jsx(iN,{})}),c.jsx(Ye,{path:"/forgot-password",element:c.jsx(oN,{})}),c.jsx(Ye,{path:"/reset-password",element:c.jsx(aN,{})}),c.jsx(Ye,{path:"/oauth-callback",element:c.jsx(yR,{})}),c.jsxs(Ye,{path:"/app",element:c.jsx(Jj,{children:c.jsx(tN,{})}),children:[c.jsx(Ye,{index:!0,element:c.jsx(cN,{})}),c.jsx(Ye,{path:"create-thread",element:c.jsx(dN,{})}),c.jsx(Ye,{path:"thread/:id",element:c.jsx(pN,{})}),c.jsx(Ye,{path:"profile",element:c.jsx(xR,{})}),c.jsx(Ye,{path:"admin",element:c.jsx(mR,{})}),c.jsx(Ye,{path:"admin/thread/:id",element:c.jsx(gR,{})})]}),c.jsx(Ye,{path:"*",element:c.jsx(n0,{to:"/",replace:!0})})]})})})}const bR=new r2({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});iu.createRoot(document.getElementById("root")).render(c.jsx(me.StrictMode,{children:c.jsx(u2,{client:bR,children:c.jsxs(D_,{children:[c.jsx(vR,{}),c.jsx(nS,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})}));
